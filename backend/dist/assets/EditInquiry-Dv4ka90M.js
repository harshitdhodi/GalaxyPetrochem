import{b8 as e,b9 as s,b5 as a,j as r,I as l,B as i}from"./main-DbCIA5nM.js";import{j as n,f as t,b as d}from"./vendor-X2E3PIZN.js";import{b as m}from"./index.esm-Dk3WekSX.js";import{S as o,a as c,b as j,c as x,d as h}from"./select-BGPtewlQ.js";import{F as u,a as p,b,c as f,d as y,e as g}from"./form-Cfi1c2h8.js";import{t as N,o as v,s as q}from"./index-CEYT__UF.js";import{B as E}from"./BreadCrumb-BYTrRWt1.js";import"./utils-ZFgnvnbw.js";import"./index-BoWlxZtN.js";import"./index-DPOpahcV.js";import"./check-DSfnMMtB.js";import"./chevron-up-D_C2ouKf.js";import"./chevron-right-BX1oQPFZ.js";const I=[{label:"Dashboard",href:"/dashboard"},{label:"Inquiry Table",href:"/inquiry-list"},{label:"Inquiry Form",href:null}],F=v({companyName:q().min(2,{message:"Company name must be at least 2 characters"}),name:q().min(2,{message:"Full name must be at least 2 characters"}),email:q().email({message:"Invalid email address"}),mobile:q().regex(/^[0-9]{10}$/,{message:"Mobile number must be 10 digits"}),address:q().min(2,{message:"Address must be at least 2 characters"}),status:q({required_error:"Please select a status"})});function C({onClose:v}){const{id:q}=n(),C=t(),{data:S,isLoading:w}=e(q),[L,{isLoading:B}]=s(),{data:U,isLoading:V}=a(),_=m({resolver:N(F),defaultValues:{companyName:"",name:"",email:"",mobile:"",address:"",status:"New Inquiry"}});d.useEffect((()=>{S&&_.reset({companyName:S.companyName||"",name:S.name||"",email:S.email||"",mobile:S.mobile||"",address:S.address||"",status:S.status||"New Inquiry"})}),[S,_]);return w?r.jsx("div",{children:"Loading..."}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"ml-1",children:r.jsx(E,{items:I})}),r.jsx(u,{..._,children:r.jsxs("form",{onSubmit:_.handleSubmit((async e=>{try{await L({id:q,...e}).unwrap();_.reset(),C("/inquiry-list")}catch(s){alert({title:"Error",description:s?.data?.message||"Failed to update inquiry",variant:"destructive"})}})),className:"space-y-4 p-4",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Update Inquiry"}),r.jsx(p,{control:_.control,name:"companyName",render:({field:e})=>r.jsxs(b,{children:[r.jsx(f,{children:"Company Name"}),r.jsx(y,{children:r.jsx(l,{placeholder:"Enter company name",...e})}),r.jsx(g,{})]})}),r.jsx(p,{control:_.control,name:"name",render:({field:e})=>r.jsxs(b,{children:[r.jsx(f,{children:"Full Name"}),r.jsx(y,{children:r.jsx(l,{placeholder:"Enter full name",...e})}),r.jsx(g,{})]})}),r.jsx(p,{control:_.control,name:"email",render:({field:e})=>r.jsxs(b,{children:[r.jsx(f,{children:"Email"}),r.jsx(y,{children:r.jsx(l,{type:"email",placeholder:"Enter email",...e})}),r.jsx(g,{})]})}),r.jsx(p,{control:_.control,name:"mobile",render:({field:e})=>r.jsxs(b,{children:[r.jsx(f,{children:"Mobile Number"}),r.jsx(y,{children:r.jsx(l,{type:"tel",placeholder:"Enter 10-digit mobile",...e})}),r.jsx(g,{})]})}),r.jsx(p,{control:_.control,name:"address",render:({field:e})=>r.jsxs(b,{children:[r.jsx(f,{children:"Address"}),r.jsx(y,{children:r.jsx(l,{placeholder:"Enter address",...e})}),r.jsx(g,{})]})}),r.jsx(p,{control:_.control,name:"status",render:({field:e})=>r.jsxs(b,{children:[r.jsx(f,{children:"Status"}),r.jsxs(o,{onValueChange:e.onChange,defaultValue:e.value,children:[r.jsx(y,{children:r.jsx(c,{children:r.jsx(j,{placeholder:"Select status"})})}),r.jsx(x,{children:U?.data?.map((e=>r.jsx(h,{value:e.status,children:e.status},e._id)))})]}),r.jsx(g,{})]})}),r.jsx("div",{className:"flex justify-end space-x-2 pt-4",children:r.jsx(i,{type:"submit",disabled:B,children:B?"Updating...":"Update Inquiry"})})]})})]})}export{C as default};
//# sourceMappingURL=EditInquiry-Dv4ka90M.js.map
