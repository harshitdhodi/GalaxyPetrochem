import{f as v,r as l,b as W,j as a,g as N}from"./index-pxV5F7Vk-1745663305082.js";import{B as A}from"./BreadCrumb-HAO8s-Gm-1745663305082.js";import"./checkbox-BCQtF4GK-1745663305082.js";import{S as B,P as E}from"./SubcategoryInfo-BIvlHYWK-1745663305082.js";import{P as F}from"./PromoSidebar-C-nCfXH0-1745663305082.js";import"./index-DGqN-AtJ-1745663305082.js";import"./check-BHNyHTdG-1745663305082.js";import"./index-DDd-nLD9-1745663305082.js";import"./select-Dr-ptvNE-1745663305082.js";import"./index-BQK-nP0v-1745663305082.js";import"./chevron-up-brwMqNrW-1745663305082.js";function J(){const{chemicals:g,slug:r,subsubCategorySlug:u}=v();console.log({chemicals:g,slug:r,subsubCategorySlug:u});const[d,f]=l.useState([]),[S,h]=l.useState([]),[m,D]=l.useState([]),[n,_]=l.useState([]),[b,p]=l.useState(!0),[x,y]=l.useState(null),s=W(),C=s.pathname.startsWith("/chemicals")||s.pathname.startsWith("/microbiology")||s.pathname.startsWith("/plant-culture-tested-chemical")||s.pathname.startsWith("/cell-culture-tested-chemical");let i="";C&&(s.pathname.startsWith("/chemicals")?i="Fine Chemicals":s.pathname.startsWith("/microbiology")?i="MicroBiology Products":s.pathname.startsWith("/plant-culture-tested-chemical")?i="Plant Culture Tested Chemical":s.pathname.startsWith("/cell-culture-tested-chemical")&&(i="Cell Culture Tested Chemical"));const{chemicalName:P,subCategoryName:j}=s.state||{};l.useEffect(()=>{r&&(async()=>{var t,o;try{p(!0),y(null);const c=await N.get(`/api/product/getByCategorySlug/${r}`);f(Array.isArray(c.data)?c.data:[]),h(Array.isArray(c.data)?c.data:[])}catch(c){console.error("API Error:",c),y(((o=(t=c.response)==null?void 0:t.data)==null?void 0:o.message)||"An error occurred while fetching products")}finally{p(!1)}})()},[r]),l.useEffect(()=>{(()=>{let t=[...d];m.length>0&&(t=t.filter(o=>m.includes(o.subSubCategorySlug))),n.length>0&&(t=t.filter(o=>n.includes(o.grade))),h(t)})()},[d,m,n]);const w=S.map(e=>{var t;return{id:e._id,name:e.name,slug:e.slug,price:e.price,molecularFormula:e.molecular_formula,molecularWeight:e.molecular_weight,category:e.categorySlug,subCategory:e.subCategorySlug,subSubCategory:e.subSubCategorySlug,unit:e.unit,cas:e.cas_number,msds:e.msds,specs:e.specs,image:((t=e.images)==null?void 0:t.length)>0?e.images[0]:null}});return a.jsx(a.Fragment,{children:a.jsxs("div",{className:"max-w-7xl px-5 sm:px-0 mx-auto sm:py-4 mb-10",children:[a.jsx(A,{chemicalName:P,slug2:r,categoryName:i,subCategoryName:j,subsubCategorySlug:u,categorySlug:g,subCategorySlug:r}),a.jsxs("div",{className:"flex  flex-col-reverse md:flex-row gap-10 lg:gap-16",children:[a.jsxs("div",{className:"w-full md:w-[60%] lg:w-2/3",children:[a.jsx(B,{categorySlug:r,subsubCategorySlug:u}),a.jsx(E,{chemicals:w,isLoading:b,error:x,slug:r,subsubCategorySlug:u})]}),a.jsx("div",{className:"relative h-[30vh] sm:h-[40vh] lg:h-[60vh] hidden md:block md:w-[30%] lg:w-1/4",children:a.jsx(F,{})})]})]})})}export{J as default};
