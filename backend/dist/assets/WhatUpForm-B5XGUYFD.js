import{bG as e,eu as s,j as i}from"./main-CYgOQvaw.js";import{b as r}from"./vendor-BCMiqwDy.js";import{F as t}from"./index-D5CjVNbC.js";import{B as a}from"./Breadcrumb-AoU2j8KS.js";import{I as l}from"./index-BXpZ5tEM.js";import{B as n}from"./index-KxCZag0G.js";import{s as m}from"./index-8QCZ4j4K.js";import"./utils-ZFgnvnbw.js";import"./CheckCircleFilled-Cv6hAgl9.js";import"./ExclamationCircleFilled-DLWZbO_o.js";import"./dropdown-Bj_SuELm.js";import"./EllipsisOutlined-Cze1ZPQm.js";import"./getAllowClear-BT_cn9Om.js";import"./Input-rDQgC5HY.js";import"./TextArea-C1O1HANU.js";import"./InfoCircleFilled-D_WbiPnY.js";const o=({onClose:o})=>{const[d]=t.useForm(),{data:u,isLoading:p,refetch:c}=e(),[j,{isLoading:h}]=s(),[x,f]=r.useState(null);r.useEffect((()=>{u&&u.length>0&&(d.setFieldsValue(u[0]),f(u[0]))}),[u,d]);return p?i.jsx("div",{children:"Loading..."}):i.jsxs("div",{children:[i.jsxs(a,{className:"mb-5",children:[i.jsx(a.Item,{children:"Home"}),i.jsx(a.Item,{children:"WhatsUp Info"})]}),i.jsxs(t,{form:d,layout:"vertical",initialValues:x,onFinish:async e=>{try{if(!x||!x._id)throw new Error("Invalid initialValues: Missing _id");await j({id:x._id,...e}).unwrap(),await c(),m.success("WhatsUp Info updated successfully!"),d.resetFields(),o()}catch(s){}},children:[i.jsx(t.Item,{name:"message",label:"Message",rules:[{required:!0,message:"Please input the message!"}],children:i.jsx(l.TextArea,{})}),i.jsx(t.Item,{name:"number",label:"Number",rules:[{required:!0,message:"Please input the number!"},{pattern:/^[0-9]+$/,message:"Number must contain only digits!"}],children:i.jsx(l,{})}),i.jsx(t.Item,{children:i.jsx(n,{type:"primary",htmlType:"submit",loading:h,children:"Update"})})]})]})};export{o as default};
//# sourceMappingURL=WhatUpForm-B5XGUYFD.js.map
