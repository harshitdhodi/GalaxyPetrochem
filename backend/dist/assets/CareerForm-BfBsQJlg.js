import{bK as e,bR as s,bS as a,j as t}from"./main-DbCIA5nM.js";import{f as r,j as i,b as l}from"./vendor-X2E3PIZN.js";import{F as o}from"./index-BGrTmilS.js";import{B as n}from"./Breadcrumb-DZWgOyzs.js";import{C as d}from"./index-Do4FWjKb.js";import{I as m}from"./index-C8xsCgg9.js";import{U as p,R as c}from"./index-1EwFYQPN.js";import{B as u}from"./index-CvhnQ2ZS.js";import{s as j}from"./index-BQxUT-WV.js";import"./utils-ZFgnvnbw.js";import"./toArray-DIarnBRF.js";import"./objectSpread2-C2mPdFQ-.js";import"./AntdIcon-Bc_RgQsY.js";import"./index-BJvm14ET.js";import"./CheckCircleFilled-vSnFSXRd.js";import"./ExclamationCircleFilled-jOtwz4nB.js";import"./dropdown-C2Lyn6ws.js";import"./index-Cie-PtDs.js";import"./Skeleton-Ds91yGkQ.js";import"./PlusOutlined-DCOYj-on.js";import"./getAllowClear-CF0z5FWe.js";import"./Input-DzV7KJ8a.js";import"./EyeOutlined-D6toRaq1.js";import"./TextArea-BQkixvnv.js";import"./fade-CZ8b_ilM.js";import"./DeleteOutlined-D5hKN4qo.js";import"./DownloadOutlined-B6iPWVSX.js";import"./CheckOutlined-qoM0f-f3.js";import"./InfoCircleFilled-BiVI0bqr.js";const x=()=>{const[x]=o.useForm(),b=r(),{id:h}=i(),f=!!h,[g,F]=l.useState([]),[A]=e(),[y]=s(),{data:C,isLoading:w}=a(h,{skip:!f});l.useEffect((()=>{f&&C?.data&&(x.setFieldsValue({name:C.data.name,email:C.data.email,contactNo:C.data.contactNo,address:C.data.address,postAppliedFor:C.data.postAppliedFor}),C.data.resumeFile&&F([{uid:"-1",name:C.data.resumeFile.split("/").pop(),status:"done",url:C.data.resumeFile}]))}),[C,x,f]);const I={beforeUpload:e=>("application/pdf"===e.type||j.error("You can only upload PDF files!"),!1),maxCount:1,fileList:g,onChange:({fileList:e})=>{F(e)}};return t.jsxs("div",{style:{padding:"20px"},children:[t.jsx(n,{items:[{title:t.jsx("span",{onClick:()=>b("/dashboard"),style:{cursor:"pointer"},children:"Dashboard"})},{title:t.jsx("span",{onClick:()=>b("/career-table"),style:{cursor:"pointer"},children:"Career Applications"})},{title:f?"Edit Application":"Add Application"}],style:{marginBottom:"16px"}}),t.jsx(d,{title:f?"Edit Application":"Add New Application",children:t.jsxs(o,{form:x,layout:"vertical",onFinish:async e=>{try{const s=new FormData;s.append("name",e.name),s.append("email",e.email),s.append("contactNo",e.contactNo),s.append("address",e.address),s.append("postAppliedFor",e.postAppliedFor),g[0]?.originFileObj&&s.append("resumeFile",g[0].originFileObj),f?(await y({id:h,formData:s}).unwrap(),j.success("Application updated successfully!")):(await A(s).unwrap(),j.success("Application submitted successfully!")),b("/career-table")}catch(s){j.error(s.message||"Something went wrong")}},disabled:w,children:[t.jsx(o.Item,{name:"name",label:"Name",rules:[{required:!0,message:"Please enter name"},{min:2,message:"Name must be at least 2 characters"}],children:t.jsx(m,{})}),t.jsx(o.Item,{name:"email",label:"Email",rules:[{required:!0,message:"Please enter email"},{type:"email",message:"Please enter a valid email"}],children:t.jsx(m,{})}),t.jsx(o.Item,{name:"contactNo",label:"Contact Number",rules:[{required:!0,message:"Please enter contact number"},{pattern:/^[0-9]{10}$/,message:"Please enter a valid 10-digit number"}],children:t.jsx(m,{})}),t.jsx(o.Item,{name:"address",label:"Address",rules:[{required:!0,message:"Please enter address"},{min:5,message:"Address must be at least 5 characters"}],children:t.jsx(m.TextArea,{rows:4})}),t.jsx(o.Item,{name:"postAppliedFor",label:"Post Applied For",rules:[{required:!0,message:"Please enter post applied for"}],children:t.jsx(m,{})}),t.jsx(o.Item,{name:"resumeFile",label:"Resume",rules:[{required:!f&&!g.length,message:"Please upload resume"}],children:t.jsx(p,{...I,children:t.jsx(u,{icon:t.jsx(c,{}),children:g.length?"Replace Resume":"Upload Resume"})})}),t.jsxs(o.Item,{children:[t.jsx(u,{type:"primary",htmlType:"submit",loading:w,children:f?"Update":"Submit"}),t.jsx(u,{style:{marginLeft:"10px"},onClick:()=>b("/career-table"),children:"Cancel"})]})]})})]})};export{x as default};
//# sourceMappingURL=CareerForm-BfBsQJlg.js.map
