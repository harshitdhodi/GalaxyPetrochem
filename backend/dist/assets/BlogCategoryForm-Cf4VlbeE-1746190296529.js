import{g as j,u as w,dJ as N,dK as v,dL as k,r as C,j as e}from"./index-DCzHKJ1C-1746190296529.js";import{u as F}from"./index.esm-C_yWg8Kg-1746190296529.js";const S=()=>{const{id:r}=j(),m=w(),[u,{isLoading:g}]=N(),[x,{isLoading:y}]=v(),{data:a,isLoading:p}=k(r,{skip:!r}),{register:t,handleSubmit:b,formState:{errors:s},reset:f,setValue:n}=F();C.useEffect(()=>{a&&Object.keys(a).forEach(o=>{n(o,a[o])})},[a,n]);const h=async o=>{try{const i={...o,priority:o.priority?Number(o.priority):void 0};let l;r?l=await x({id:r,categoryData:i}).unwrap():l=await u(i).unwrap(),f(),m("/blog-category-table",{replace:!0}),console.log(r?"Category updated successfully":"Category added successfully",l)}catch(i){console.error(r?"Failed to update category":"Failed to add category",i)}},d=g||y||p,c=!!r;return e.jsxs("div",{className:"max-w-xl mx-auto p-6 bg-white shadow-md rounded-lg",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:c?"Update Category":"Add Category"}),d?e.jsx("div",{className:"text-center text-gray-600",children:"Loading..."}):e.jsxs("form",{onSubmit:b(h),className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:["Category ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"category",...t("category",{required:"Category is required",minLength:{value:2,message:"Category must be at least 2 characters"}}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"}),s.category&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.category.message})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"slug",className:"block text-sm font-medium text-gray-700",children:["Slug ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"slug",...t("slug",{required:"Slug is required",pattern:{value:/^[a-z0-9-]+$/,message:"Slug must be lowercase, numbers, and hyphens only"}}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"}),s.slug&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.slug.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"metatitle",className:"block text-sm font-medium text-gray-700",children:"Meta Title"}),e.jsx("input",{type:"text",id:"metatitle",...t("metatitle"),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"metadescription",className:"block text-sm font-medium text-gray-700",children:"Meta Description"}),e.jsx("textarea",{id:"metadescription",...t("metadescription"),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"metakeywords",className:"block text-sm font-medium text-gray-700",children:"Meta Keywords"}),e.jsx("input",{type:"text",id:"metakeywords",...t("metakeywords"),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"url",className:"block text-sm font-medium text-gray-700",children:"URL"}),e.jsx("input",{type:"url",id:"url",...t("url",{pattern:{value:/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/,message:"Invalid URL format"}}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"}),s.url&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.url.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700",children:"Priority"}),e.jsx("input",{type:"number",id:"priority",...t("priority",{min:{value:0,message:"Priority must be a non-negative number"}}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"}),s.priority&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.priority.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"otherMeta",className:"block text-sm font-medium text-gray-700",children:"Other Meta"}),e.jsx("textarea",{id:"otherMeta",...t("otherMeta"),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),e.jsx("div",{className:"pt-4",children:e.jsx("button",{type:"submit",disabled:d,className:`w-full px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 \r
              disabled:opacity-50 disabled:cursor-not-allowed`,children:d?"Processing...":c?"Update Category":"Add Category"})})]})]})};export{S as default};
