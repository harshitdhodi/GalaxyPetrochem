import{da as e,eg as t,j as i,eh as s,ei as o}from"./main-CzSo-TQq.js";import{b as r}from"./vendor-BCMiqwDy.js";import{F as a}from"./Table-C-n2--3-.js";import{S as l}from"./index-BJFDSJ5H.js";import{B as n}from"./index-DSpNpUBy.js";import{R as m}from"./EditOutlined-nN6QtEy1.js";import{P as d}from"./index-6nOIGb1W.js";import{R as c}from"./DeleteOutlined-BWd8Mtlr.js";import{s as j}from"./index-9ZEY5nY4.js";import{F as p}from"./index-DNifZJQ5.js";import{M as u}from"./index-CxFUZGYS.js";import{I as y}from"./index-DM93vOm6.js";import{C as x}from"./index-BPGKac_2.js";import{R as g}from"./PlusOutlined-CdZ2zpwb.js";import"./utils-ZFgnvnbw.js";import"./styleChecker-CytH8GIy.js";import"./index-B7eE-GBL.js";import"./EllipsisOutlined-BfcsApT3.js";import"./dropdown-Dz-q1Mre.js";import"./getAllowClear-CUuit-6u.js";import"./CheckOutlined-Cn3WkZbn.js";import"./Input-dXXm4f2Q.js";import"./index-D5p0e1mK.js";import"./ExclamationCircleFilled-xRTYYEFC.js";import"./ActionButton-B_-XN75h.js";import"./CheckCircleFilled-ReswMhjZ.js";import"./InfoCircleFilled-CAKYzuNC.js";import"./Skeleton-DRGMwVq6.js";import"./TextArea-BS9kE1Cd.js";const C=({onEditClick:s})=>{const{data:o,isLoading:r}=e(),[p]=t(),u=[{title:"Category Name",dataIndex:"emailCategory",key:"emailCategory"},{title:"Actions",key:"actions",render:(e,t)=>i.jsxs(l,{children:[i.jsx(n,{type:"primary",icon:i.jsx(m,{}),onClick:()=>s(t)}),i.jsx(d,{title:"Are you sure you want to delete this category?",onConfirm:()=>(async e=>{try{await p(e).unwrap(),j.success("Category deleted successfully")}catch(t){j.error("Failed to delete category")}})(t._id),okText:"Yes",cancelText:"No",children:i.jsx(n,{type:"primary",danger:!0,icon:i.jsx(c,{})})})]})}];return i.jsx(a,{columns:u,dataSource:o,rowKey:"_id",loading:r,pagination:{pageSize:10,showSizeChanger:!0,showTotal:e=>`Total ${e} items`}})},f=({visible:e,onClose:t,editingCategory:r})=>{const[a]=p.useForm(),[l]=s(),[n]=o();return i.jsx(u,{title:r?"Edit Category":"Add New Category",open:e,onCancel:t,onOk:()=>a.submit(),children:i.jsx(p,{form:a,layout:"vertical",onFinish:async e=>{try{r?(await n({id:r._id,data:e}).unwrap(),j.success("Category updated successfully")):(await l(e).unwrap(),j.success("Category created successfully")),t()}catch(i){j.error("Failed to save category")}},initialValues:r,children:i.jsx(p.Item,{name:"emailCategory",label:"Category Name",rules:[{required:!0,message:"Please enter category name"}],children:i.jsx(y,{placeholder:"Enter category name"})})})})},h=()=>{const[e,t]=r.useState(!1),[s,o]=r.useState(null);return i.jsxs(x,{title:"Email Categories",children:[i.jsx(n,{type:"primary",icon:i.jsx(g,{}),onClick:()=>{o(null),t(!0)},style:{marginBottom:16},children:"Add New Category"}),i.jsx(C,{onEditClick:e=>{o(e),t(!0)}}),e&&i.jsx(f,{visible:e,onClose:()=>{t(!1),o(null)},editingCategory:s})]})};export{h as default};
//# sourceMappingURL=EmailCategoryParent-4U_eG1jD.js.map
