import{bo as e,bp as i,j as t}from"./main-DbCIA5nM.js";import{f as s,b as r,L as o}from"./vendor-X2E3PIZN.js";import{B as d}from"./index-CvhnQ2ZS.js";import{R as a}from"./PlusOutlined-DCOYj-on.js";import{F as n}from"./Table-DuH0XXff.js";import{T as l}from"./index-BSe1tbJT.js";import{I as m}from"./index-CHejg7-V.js";import{R as j}from"./EditOutlined-_U-8X4qF.js";import{P as c}from"./index-ytpybCsT.js";import{R as x}from"./DeleteOutlined-D5hKN4qo.js";import"./utils-ZFgnvnbw.js";import"./objectSpread2-C2mPdFQ-.js";import"./AntdIcon-Bc_RgQsY.js";import"./toArray-DIarnBRF.js";import"./addEventListener-Dm19rJS7.js";import"./index-TlfG7RwS.js";import"./index-Cie-PtDs.js";import"./dropdown-C2Lyn6ws.js";import"./getAllowClear-CF0z5FWe.js";import"./CheckOutlined-qoM0f-f3.js";import"./Input-DzV7KJ8a.js";import"./index-DKxChPud.js";import"./index-CoLLPh3Y.js";import"./TextArea-BQkixvnv.js";import"./EyeOutlined-D6toRaq1.js";import"./index-CjgsjwJv.js";import"./index-BJvm14ET.js";import"./fade-CZ8b_ilM.js";import"./ExclamationCircleFilled-jOtwz4nB.js";import"./ActionButton-9gw_uhHA.js";const{Text:p}=l,h=()=>{const{data:l,error:h,isLoading:g,refetch:u}=e(),[f,{isLoading:y}]=i(),w=s(),[v,b]=r.useState({});if(g)return t.jsx("div",{children:"Loading..."});if(h)return t.jsxs("div",{children:["Error: ",h.message||"An error occurred"]});const k=[{title:"Title",dataIndex:"title",key:"title",width:150,render:e=>t.jsx(p,{strong:!0,children:e})},{title:"Date",dataIndex:"date",key:"date",width:50},{title:"Details",dataIndex:"details",key:"details",render:(e,i)=>t.jsxs("div",{children:[t.jsx("div",{style:{maxHeight:v[i._id]?"none":"5em",overflow:"hidden",position:"relative"},dangerouslySetInnerHTML:{__html:e}}),t.jsx(d,{type:"link",onClick:()=>{return e=i._id,void b((i=>({...i,[e]:!i[e]})));var e},size:"small",children:v[i._id]?"Show Less":"Read More"})]})},{title:"Images",dataIndex:"image",key:"image",width:100,render:e=>e&&e.length>0?e.map(((e,i)=>t.jsx(m,{src:`/api/image/download/${e}`,alt:`Blog Image ${i+1}`,width:50,height:50,style:{objectFit:"cover",borderRadius:"5px"}},i))):t.jsx(p,{type:"secondary",children:"No Image"})},{title:"Actions",key:"actions",width:150,render:(e,i)=>t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(d,{icon:t.jsx(j,{}),onClick:()=>w(`/edit-blog-form/${i._id}`)}),t.jsx(c,{title:"Are you sure you want to delete this blog?",onConfirm:()=>(async e=>{try{await f(e).unwrap(),u()}catch(i){}})(i._id),okText:"Yes",cancelText:"No",children:t.jsx(d,{danger:!0,icon:t.jsx(x,{})})})]})}];return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between mb-4 p-5",children:[t.jsx("div",{children:t.jsx("h2",{className:"text-2xl font-semibold",children:"Blogs"})}),t.jsx(o,{to:"/blog-form",children:t.jsx(d,{type:"primary",icon:t.jsx(a,{}),children:"Add Blog"})})]}),t.jsx(n,{columns:k,dataSource:l,rowKey:"_id",pagination:{pageSize:5}})]})};export{h as default};
//# sourceMappingURL=BlogPage-DllGEJGl.js.map
