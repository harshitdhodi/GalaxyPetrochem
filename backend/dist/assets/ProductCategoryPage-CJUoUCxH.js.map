{"version":3,"file":"ProductCategoryPage-CJUoUCxH.js","sources":["../../src/website/componets/cateogry/CategoryPage.jsx","../../src/website/pages/ProductCategoryPage.jsx"],"sourcesContent":["import { Plus, Minus } from 'lucide-react';\nimport { useEffect, useState } from \"react\";\nimport { Link, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport PromoSidebar from '../SubCategoryPage/PromoSidebar';\n\nconst ProductCategory = () => {\n  const [categories, setCategories] = useState([]);\n  const [products, setProducts] = useState([]);\n  const [openCategories, setOpenCategories] = useState({});\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    // Fetch Categories\n    axios.get('/api/chemicalCategory/getAll')\n      .then(response => {\n        setCategories(response.data);\n        if (response.data.length > 0) {\n          setOpenCategories({ [response.data[0].slug]: true });\n        }\n      })\n      .catch(error => console.error(\"Error fetching categories:\", error));\n\n    // Fetch Products\n    axios.get('/api/product')\n      .then(response => setProducts(response.data))\n      .catch(error => console.error(\"Error fetching products:\", error));\n  }, []);\n\n\n  // Group products by category\n  const groupedCategories = categories.map(category => ({\n    ...category,\n    products: products.filter(product => product.category.slug === category.slug),\n  }));\n\n  const toggleCategory = (slug) => {\n    setOpenCategories(prev => ({\n      ...prev,\n      [slug]: !prev[slug]\n    }));\n  };\n\n  if (!categories.length) return <div className=\"text-center py-4\">Loading...</div>;\n\n  return (\n    <div className=\"w-full md:max-w-7xl mx-auto min-h-screen bg-white\">\n      <nav className=\"pt-5 sm:text-xs md:text-sm lg:text-base text-[11px] border-b pb-3 w-[98%] ml-8 mb-5 py-2\">\n        <ul className=\"flex gap-2 flex-wrap\">\n          <li>\n            <Link to=\"/\" className=\"text-secondary  hover:text-main_light\">Home</Link>\n          </li>\n          <li className=\"text-gray-400\">&gt;</li>\n          <li>\n            <Link to=\"/products\" className=\"text-main hover:text-main_light\">Products</Link>\n          </li>\n        </ul>\n      </nav>\n\n      <div className=\"mx-auto max-w-7xl px-4 lg:px-0\">\n        <div className=\"flex flex-col md:flex-row justify-center gap-10 p-6 w-full\">\n          <div className=\"w-full border px-5 py-3 md:w-[75%]\">\n            <div className=\"space-y-8\">\n              {groupedCategories.map(category => (\n                <div key={category.slug} className=\"rounded-lg p-4 shadow-md\">\n                  <div className=\"flex justify-between items-center mb-6 gap-6\">\n                    <div className='flex gap-3 items-center'>\n                      <img\n                        src={category.photo ? `/api/logo/download/${category.photo}` : \"https://img.freepik.com/free-vector/abstract-chemical-logo_23-2148610094.jpg?w=200\"}\n                        alt={category.name}\n                        className=\"h-10 border-2 p-1\"\n                      />\n                      <Link to={`/${category.slug}`} className=\"block\">\n                        <h2 className=\"text-main font-bold text-lg\">{category.category}</h2>\n                      </Link>\n\n               \n                  </div>\n                  <div>\n                    <button\n                      onClick={() => toggleCategory(category.slug)}\n                      className=\"p-1 hover:bg-blue-100 rounded-full transition-colors\"\n                    >\n                      {openCategories[category.slug] ? <Minus className=\"w-5 h-5 text-main\" /> : <Plus className=\"w-5 h-5 text-main\" />}\n                    </button>\n                  </div>\n                </div>\n\n                  {\n                  openCategories[category.slug] && (\n                    <ul className=\"flex flex-col gap-5  bg-white rounded-lg\">\n                      {category.products.map(product => (\n                        <li\n                          key={product.slug}\n                          className=\"flex p-1 px-4 justify-start items-center w-full bg-blue-100 cursor-pointer\"\n                          onClick={() => navigate(`/${category.slug}/${product.slug}`)}\n                        >\n                          <img\n                            src={product.images?.[0]?.url ? `/api/image/download/${product.images[0].url}` : \"https://via.placeholder.com/150\"}\n                            alt={product.name}\n                            className=\"w-20 h-10 mt-2 object-contain mb-2\"\n                          />\n                          <h3 className=\"text-main font-medium text-lg\">{product.name}</h3>\n                        </li>\n                      ))}\n                    </ul>\n\n                  )\n                }\n                </div>\n              ))}\n          </div>\n        </div>\n        <div className=\"relative h-[30vh] sm:h-[40vh] lg:h-[60vh] w-1/4\">\n          <PromoSidebar />\n        </div>\n      </div>\n    </div>\n    </div >\n  );\n};\n\nexport default ProductCategory;\n","import React from 'react'\r\nimport ProductCategory from '../componets/cateogry/CategoryPage'\r\nimport Footer from '../componets/home/Footer'\r\n\r\nconst ProductCategoryPage = () => {\r\n  return (\r\n    <div>\r\n      <ProductCategory />\r\n   \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProductCategoryPage\r\n"],"names":["ProductCategory","categories","setCategories","useState","products","setProducts","openCategories","setOpenCategories","navigate","useNavigate","useEffect","axios","get","then","response","data","length","slug","catch","error","groupedCategories","map","category","filter","product","jsxs","className","children","jsx","Link","to","src","photo","alt","name","onClick","toggleCategory","prev","Minus","Plus","images","url","PromoSidebar","ProductCategoryPage"],"mappings":"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"}