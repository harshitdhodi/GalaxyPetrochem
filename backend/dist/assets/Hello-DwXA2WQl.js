import{j as e,C as s,aD as a,X as r,T as t,e as c,f as l,g as i,h as n,i as d,B as o}from"./main-CYgOQvaw.js";import{b as m,f as h,u as x,k as j}from"./vendor-BCMiqwDy.js";import u from"./category_subcategoryPage-B8omv_NN.js";import{B as g}from"./BreadCrumb-D9ExCWP3.js";import{C as p}from"./checkbox-BV_9Pp14.js";import{S as f,a as b,b as v,c as N,d as y}from"./select-C9JtKdjQ.js";import"./utils-ZFgnvnbw.js";import"./index-CMYIxM2W.js";import"./PromoSidebar-CT60-6Np.js";import"./index-prcspqn7.js";import"./check-BmKpgWX1.js";import"./index-D3SX27xu.js";import"./chevron-up-LTThVSTS.js";function S({categorySlug:t,chemicals:c,selectedGrades:l,setSelectedGrades:i}){return e.jsx(s,{className:"md:col-span-1 bg-[#dee8ff] h-fit rounded-none p-3",children:e.jsxs(a,{className:"p-4",children:[e.jsx("h2",{className:"text-2xl font-normal mb-4",children:"Your Selections"}),l.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"font-medium mb-2",children:"Grades:"}),e.jsx("div",{className:"text-main py-3 flex flex-col gap-2 border-y-2 border-gray-300",children:l.map((s=>e.jsxs("div",{className:"flex justify-between items-center px-2 py-1 bg-blue-100 rounded",children:[e.jsx("span",{className:"text-sm",children:s}),e.jsx("button",{onClick:()=>{return e=s,void i((s=>s.filter((s=>s!==e))));var e},className:"text-gray-600 hover:text-red-600",children:e.jsx(r,{size:16})})]},s)))})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"mb-2 text-2xl font-normal",children:"Grades"}),e.jsx("div",{className:"space-y-2",children:c.map((s=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(p,{id:s._id,checked:l.includes(s.grade),onCheckedChange:e=>((e,s)=>{i(e?e=>[...e,s]:e=>e.filter((e=>e!==s)))})(e,s.grade)}),e.jsx("label",{htmlFor:s._id,className:"text-sm",children:s.grade})]},s._id)))})]})})]})})}const C=({chemicals:s})=>{const[a,r]=m.useState(1),x=h();if(!s||0===s.length)return e.jsx("div",{className:"p-4 text-center",children:"No products found."});const j=s.length,u=Math.ceil(j/10),g=s.slice(10*(a-1),10*a);return e.jsxs("div",{children:[e.jsxs(t,{children:[e.jsx(c,{children:e.jsxs(l,{className:"bg-gray-100",children:[e.jsx(i,{children:"Product Code"}),e.jsx(i,{children:"Product Name"}),e.jsx(i,{children:"CAS"}),e.jsx(i,{children:"TDS"}),e.jsx(i,{children:"MSDS"})]})}),e.jsx(n,{children:g.map((s=>e.jsxs(l,{children:[e.jsx(d,{children:s.auto_p_code}),e.jsx(d,{children:e.jsx("button",{className:"text-main hover:no-underline",onClick:()=>(e=>{const s=e.replace(/\s+/g,"-").toLowerCase();x(`/${s}`)})(s.name),children:s.name})}),e.jsx(d,{children:s.cas_number}),e.jsx(d,{children:"Specs"}),e.jsx(d,{children:"MSDS"})]},s.auto_p_code)))})]}),e.jsx("div",{className:"flex justify-end mt-4",children:e.jsx("nav",{className:"flex space-x-1","aria-label":"Pagination",children:Array.from({length:u},((e,s)=>s+1)).map((s=>e.jsx(o,{variant:s===a?"outline":"default",size:"sm",className:"min-w-[40px] "+(s===a?"bg-main text-white hover:bg-main_light":"hover:bg-blue-50"),onClick:()=>(e=>{r(e)})(s),children:s},s)))})})]})};function w({letter:s,totalItems:a,itemsPerPage:r,setItemsPerPage:t}){return e.jsx("div",{className:"w-full mb-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h1",{className:"text-2xl font-semibold",children:['Showing Products for "',s,'"']}),e.jsx("p",{className:"text-sm text-muted-foreground uppercase tracking-wide",children:"Fine Chemicals & Laboratory Reagents for Research & Industries"}),e.jsxs("div",{className:"bg-blue-50 flex items-center px-3 py-1 justify-between",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:["1 to ",r," of ",a," item(s) displayed"]}),e.jsxs(f,{value:r.toString(),onValueChange:e=>t(Number(e)),children:[e.jsx(b,{className:"w-[120px]",children:e.jsx(v,{placeholder:"Show per page"})}),e.jsxs(N,{children:[e.jsx(y,{value:"10",children:"10 per page"}),e.jsx(y,{value:"25",children:"25 per page"}),e.jsx(y,{value:"50",children:"50 per page"}),e.jsx(y,{value:"100",children:"100 per page"})]})]})]})]})})}function P(){const s=x(),{selectedLetter:a,chemicals:r}=s.state||{},[t,c]=m.useState([]),[l,i]=m.useState(50),[n,d]=m.useState([]),[o,h]=m.useState(!0),[j,u]=m.useState(null);m.useEffect((()=>{r&&a&&(async()=>{try{h(!0);const e=await fetch(`/api/chemical/getChemicalByCategoryAndAlphabet?categoryslug=${r}&alphabet=${a}`);if(!e.ok)throw new Error("Failed to fetch chemicals");const s=await e.json();d(s)}catch(e){u(e.message)}finally{h(!1)}})()}),[r,a]);const p=t.length?n.filter((e=>t.includes(e.grade))):n,f=p.length;return o?e.jsx("div",{children:"Loading..."}):j?e.jsxs("div",{children:["Error loading chemicals: ",j]}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"max-w-7xl mx-auto mb-10 ",children:[e.jsx(g,{chemicals:r,categorySlug:r,selectedLetter:a}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-10",children:[e.jsx(S,{categorySlug:r,chemicals:n,selectedGrades:t,setSelectedGrades:c}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(w,{letter:a,totalItems:f,itemsPerPage:l,setItemsPerPage:i}),e.jsx(C,{selectedLetter:a,categorySlug:r,chemicals:p})]})]})]})})}function k(){const s=x(),{number:a,slug:r}=j(),t=s.pathname.startsWith("/products");return e.jsx("div",{children:t?e.jsx(P,{}):e.jsx(u,{})})}export{k as default};
//# sourceMappingURL=Hello-DwXA2WQl.js.map
