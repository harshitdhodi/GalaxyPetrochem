import{u as P,j as e,L as m,P as g,g as L,r as n,a as b,b as B,dM as S}from"./index-B2dt0GYd-1746272468000.js";import{B as E}from"./Banner-VumaONGv-1746272468000.js";import{B as $}from"./BlogDetailPage-C0_d6zo7-1746272468000.js";import{S as I}from"./404-BD7F5zAu-1746272468000.js";import"./calendar-BrAF-y08-1746272468000.js";function R({title:a,image:s,products:t,slug:l,subCategorySlug:x}){console.log("SubCategoryProductCard",x);const i=P(),c=()=>{t&&t.length>0?(t[0].slug,i(`/${l}/${x}`)):console.warn("No products available to redirect.")};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex custom930:flex-row mb-4  items-center justify-between ",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-[#0a3161] pb-2",children:a}),e.jsx("div",{className:"h-1 w-16 bg-[#0a3161]"})]}),e.jsx("button",{className:"mt-6 bg-[#e95821] float-start hover:bg-[#eb4e10] text-white font-bold py-2 px-5 rounded transition-colors",onClick:c,children:"VIEW MORE"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[e.jsx("div",{className:"flex-shrink shadow-lg shadow-blue-300 rounded-md border ",children:e.jsx("div",{className:"w-64 h-64 p-5 m-4 overflow-hidden group relative",children:e.jsx("img",{src:s||"/placeholder.svg",alt:a,className:"w-full h-full object-cover"})})}),e.jsx("div",{className:"flex-grow",children:e.jsx("div",{className:"flex flex-col gap-2 max-h-[300px] overflow-y-auto pr-2 scrollbar",children:t&&t.length>0?t.map((o,h)=>e.jsx("div",{children:e.jsx(m,{to:`/${o.subCategorySlug}/${o.slug}`,className:"flex items-center rounded-md shadow-md gap-2 bg-gray-100",children:e.jsx("p",{className:" py-2 px-5 text-sm rounded-md hover:text-[#2b60d9] cursor-pointer",children:o.name})})},h)):e.jsx("p",{className:"text-gray-500 bg-gray-200 py-2 px-5 text-sm rounded-md",children:"No products available for this subcategory."})})})]})]})}function v({chemicals:a="",slug:s="",categorySlug:t=""}){var l;return console.log(s),e.jsx("nav",{className:"pt-5 sm:text-xs md:text-sm  lg:text-base text-md pb-3 w-full mb-5 py-2 px-4",children:e.jsxs("ul",{className:"flex gap-2 flex-wrap",children:[e.jsx("li",{children:e.jsx(m,{to:"/",className:"text-[#ffff] hover:text-[#ffff]",children:"Home"})}),e.jsx("li",{className:"text-[#ffff]",children:"/"}),e.jsx("li",{children:e.jsx(m,{to:"/products",className:"text-[#ffff] hover:text-[#ffff]",children:"Products"})}),a&&e.jsx("li",{className:"text-secondary",children:"/"}),a&&e.jsx("li",{children:e.jsx(m,{to:`/${s}`,className:"text-[#e95821] hover:text-[#ffff]",children:a.charAt(0).toUpperCase()+a.slice(1).toLowerCase()})}),t&&e.jsx("li",{className:"text-[#ffff]",children:"/"}),t&&e.jsx("li",{children:e.jsxs("span",{className:"text-[#ffff]",children:[" ",((l=t==null?void 0:t.charAt(0))==null?void 0:l.toUpperCase())+(t==null?void 0:t.slice(1))]})})]})})}v.propTypes={chemicals:g.string.isRequired,categorySlug:g.string.isRequired,selectedLetter:g.string};function A(){var p;const{slug:a}=L(),[s,t]=n.useState(null),[l,x]=n.useState({}),[i,c]=n.useState(!0),[o,h]=n.useState([]),[M,N]=n.useState(!0),y=location.pathname.replace(/^\//,"")||"introduction";return n.useEffect(()=>{(async()=>{try{const r=await b.get(`/api/banner/getByPageSlug?pageSlug=${a}`);console.log(r.data),h(r.data||[])}catch(r){console.error("Failed to fetch banner:",r)}finally{N(!1)}})()},[y]),n.useEffect(()=>{(async()=>{try{const r=await b.get(`/api/chemicalCategory/getSpecificCategory?slug=${a}`),{category:w,products:C}=r.data;t(w);const f={};C.forEach(j=>{const u=j.subCategoryId;f[u]||(f[u]=[]),f[u].push(j)}),x(f)}catch(r){console.error("Error fetching category data:",r)}finally{c(!1)}})()},[a]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative",children:[o&&o.length>0?e.jsx(E,{imageUrl:`/api/image/download/${o[0].image}`,title:s==null?void 0:s.category}):"images",e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 mt-5 z-10",children:e.jsx(v,{categorySlug:s==null?void 0:s.category,slug:a})})]}),e.jsxs("div",{className:"container mx-auto px-4 mt-5 pb-8 max-w-7xl",children:[e.jsx("h1",{className:"text-4xl font-bold text-[#0a3161] mb-4",children:(s==null?void 0:s.category)||"INDUSTRIAL OILS"}),e.jsx("div",{className:"h-1 w-24 bg-[#0a3161] mb-6"}),e.jsx("p",{className:"text-gray-700 mb-10",dangerouslySetInnerHTML:{__html:(s==null?void 0:s.details)||"Explore our range of industrial oils and lubricants."}}),i?e.jsx("p",{children:"Loading products..."}):((p=s==null?void 0:s.subCategories)==null?void 0:p.length)>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:s.subCategories.map((d,r)=>e.jsx(R,{slug:a,subCategorySlug:d.slug,title:d.category,image:`/api/logo/download/${d.photo}`,products:l[d._id]||[]},r))}):e.jsx("p",{children:"No categories found."})]})]})}function _(){const a=B(),{data:s,isLoading:t}=S(),l=a.pathname,i=["/industrial-oils","/greases"].includes(l),c=s==null?void 0:s.some(o=>l===`/${o.slug}`);return n.useEffect(()=>{t?document.title="Loading...":i?document.title="Subcategory Products":c?document.title="Blog Details":document.title="404"},[t,i,c]),t?e.jsx("div",{children:"Loading..."}):e.jsx("div",{children:i?e.jsx(A,{}):c?e.jsx($,{}):e.jsx(I,{})})}export{_ as default};
