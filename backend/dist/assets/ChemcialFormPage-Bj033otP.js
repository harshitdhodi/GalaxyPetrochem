import{c as e,z as a,u as s,j as l,L as t,I as r,B as i,X as n}from"./main-DbCIA5nM.js";import{b as c,g as o,f as d,j as u,L as m}from"./vendor-X2E3PIZN.js";import{C as h,u as g,a as x,b as p}from"./index.esm-Dk3WekSX.js";import{a as j}from"./utils-ZFgnvnbw.js";import{P as y}from"./index-BGOmncX4.js";import{C as b,a as f}from"./card-CgiS1VlC.js";import{S as v,a as N,b as w,c as C,d as _}from"./select-BGPtewlQ.js";import{R as S}from"./quill.snow-BtYlbvM3.js";import{T as E}from"./textarea-uyS90DRv.js";import"./index-BoWlxZtN.js";import"./index-DPOpahcV.js";import"./check-DSfnMMtB.js";import"./chevron-up-D_C2ouKf.js";import"./isEqual-12EnfSUl.js";
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=e("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),A=e("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),O=({control:e,chemicalData:r,watch:i,setValue:n})=>{const[o,d]=c.useState([]),[u,m]=c.useState([]),{data:g,isLoading:x}=a(),p=g||[],{data:j,isLoading:y,isSuccess:S,isError:E,error:k}=s(),A=j||[],O=i("category"),T=i("sub_category"),U=i("subsub_category_id");return c.useEffect((()=>{if(!A.length)return;const e=A.find((e=>e._id===O));e&&(d(e.subCategories||[]),n("categorySlug",e.slug));const a=T&&e?.subCategories?.find((e=>e._id===T));a&&(m(a.subSubCategory||[]),n("subCategorySlug",a.slug))}),[A,O,T,n]),c.useEffect((()=>{if(!u.length)return;const e=U&&u.find((e=>e._id===U));e&&n("subSubCategorySlug",e.slug)}),[u,U,n]),c.useEffect((()=>{}),[E,k]),c.useEffect((()=>{if(r&&r.category&&A.length>0){const e=A.find((e=>e._id===r.category));if(e){d(e.subCategories||[]),n("category",r.category),n("categorySlug",e.slug);const a=e.subCategories?.find((e=>e._id===r.sub_category));a&&(m(a.subSubCategory||[]),n("sub_category",r.sub_category),n("subCategorySlug",a.slug));const s=a?.subSubCategory?.find((e=>e._id===r.subsub_category_id));s&&(n("subsub_category_id",r.subsub_category_id),n("subSubCategorySlug",s.slug))}}}),[r,A,n]),l.jsx(b,{className:"w-full max-w-2xl border-none mx-auto shadow-none",children:l.jsx(f,{className:"space-y-6",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(t,{htmlFor:"category",children:"Category"}),l.jsx(h,{name:"category",control:e,rules:{required:"Category is required"},render:({field:e})=>l.jsxs(v,{value:e.value||"",onValueChange:a=>{const s=A.find((e=>e._id===a));s&&(e.onChange(s._id),n("categorySlug",s.slug))},children:[l.jsx(N,{id:"category",children:l.jsx(w,{children:e.value&&S?A.find((a=>a._id===e.value))?.category:r&&r.category?.name||"Select Category"})}),l.jsx(C,{children:y?l.jsx(_,{value:"loading",disabled:!0,children:"Loading..."}):S&&A.length>0?A.map((e=>l.jsx(_,{value:e._id,children:e.category},e._id))):l.jsx(_,{value:"none",disabled:!0,children:"No categories available"})})]})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(t,{htmlFor:"sub_category",children:"Sub Category"}),l.jsx(h,{name:"sub_category",control:e,render:({field:e})=>l.jsxs(v,{value:e.value||"",onValueChange:a=>{const s=o.find((e=>e._id===a));s&&(e.onChange(s._id),n("subCategorySlug",s.slug))},disabled:!O||0===o.length,children:[l.jsx(N,{id:"sub_category",children:l.jsx(w,{children:e.value&&o.length>0?o.find((a=>a._id===e.value))?.category:r&&r.sub_category?.name||"Select Sub Category"})}),l.jsx(C,{children:o.length>0?o.map((e=>l.jsx(_,{value:e._id,children:e.category},e._id))):l.jsx(_,{value:"none",disabled:!0,children:"No sub-categories available"})})]})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(t,{htmlFor:"subsub_category_id",children:"Sub Sub Category"}),l.jsx(h,{name:"subsub_category_id",control:e,render:({field:e})=>l.jsxs(v,{value:e.value||"",onValueChange:a=>{const s=u.find((e=>e._id===a));s&&(e.onChange(s._id),n("subSubCategorySlug",s.slug))},disabled:!T||0===u.length,children:[l.jsx(N,{id:"subsub_category_id",children:l.jsx(w,{children:e.value&&u.length>0?u.find((a=>a._id===e.value))?.category:r&&r.subSubCategory?.category||"Select Sub Sub Category"})}),l.jsx(C,{children:u.length>0?u.map((e=>l.jsx(_,{value:e._id,children:e.category},e._id))):l.jsx(_,{value:"none",disabled:!0,children:"No sub-sub-categories available"})})]})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(t,{htmlFor:"unit",children:"Unit"}),l.jsx(h,{name:"unit",control:e,rules:{required:"Unit is required"},render:({field:e})=>l.jsxs(v,{onValueChange:e.onChange,value:e.value||void 0,children:[l.jsx(N,{id:"unit",children:l.jsx(w,{placeholder:"Select Unit"})}),l.jsx(C,{children:x?l.jsx(_,{value:"loading",children:"Loading..."}):p.map((e=>l.jsx(_,{value:e.name,children:e.name},e._id)))})]})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(t,{htmlFor:"assay",children:"Assay (%)"}),l.jsx(h,{name:"assay",control:e,render:({field:e})=>l.jsx("div",{children:l.jsx("input",{type:"string",id:"assay",min:"0",max:"100",step:"0.01",value:e.value||0,onChange:a=>e.onChange(a.target.value),className:"w-full border "})})})]})]})})})};
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */O.propTypes={control:y.object.isRequired,chemicalData:y.object,watch:y.func.isRequired,setValue:y.func.isRequired};var T,U,F,D={exports:{}};const I=o((T||(T=1,(U=D).exports=(F=function(){var e=JSON.parse('{"$":"dollar","%":"percent","&":"and","<":"less",">":"greater","|":"or","¢":"cent","£":"pound","¤":"currency","¥":"yen","©":"(c)","ª":"a","®":"(r)","º":"o","À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","Æ":"AE","Ç":"C","È":"E","É":"E","Ê":"E","Ë":"E","Ì":"I","Í":"I","Î":"I","Ï":"I","Ð":"D","Ñ":"N","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","Ù":"U","Ú":"U","Û":"U","Ü":"U","Ý":"Y","Þ":"TH","ß":"ss","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","æ":"ae","ç":"c","è":"e","é":"e","ê":"e","ë":"e","ì":"i","í":"i","î":"i","ï":"i","ð":"d","ñ":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","ù":"u","ú":"u","û":"u","ü":"u","ý":"y","þ":"th","ÿ":"y","Ā":"A","ā":"a","Ă":"A","ă":"a","Ą":"A","ą":"a","Ć":"C","ć":"c","Č":"C","č":"c","Ď":"D","ď":"d","Đ":"DJ","đ":"dj","Ē":"E","ē":"e","Ė":"E","ė":"e","Ę":"e","ę":"e","Ě":"E","ě":"e","Ğ":"G","ğ":"g","Ģ":"G","ģ":"g","Ĩ":"I","ĩ":"i","Ī":"i","ī":"i","Į":"I","į":"i","İ":"I","ı":"i","Ķ":"k","ķ":"k","Ļ":"L","ļ":"l","Ľ":"L","ľ":"l","Ł":"L","ł":"l","Ń":"N","ń":"n","Ņ":"N","ņ":"n","Ň":"N","ň":"n","Ō":"O","ō":"o","Ő":"O","ő":"o","Œ":"OE","œ":"oe","Ŕ":"R","ŕ":"r","Ř":"R","ř":"r","Ś":"S","ś":"s","Ş":"S","ş":"s","Š":"S","š":"s","Ţ":"T","ţ":"t","Ť":"T","ť":"t","Ũ":"U","ũ":"u","Ū":"u","ū":"u","Ů":"U","ů":"u","Ű":"U","ű":"u","Ų":"U","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","ź":"z","Ż":"Z","ż":"z","Ž":"Z","ž":"z","Ə":"E","ƒ":"f","Ơ":"O","ơ":"o","Ư":"U","ư":"u","ǈ":"LJ","ǉ":"lj","ǋ":"NJ","ǌ":"nj","Ș":"S","ș":"s","Ț":"T","ț":"t","ə":"e","˚":"o","Ά":"A","Έ":"E","Ή":"H","Ί":"I","Ό":"O","Ύ":"Y","Ώ":"W","ΐ":"i","Α":"A","Β":"B","Γ":"G","Δ":"D","Ε":"E","Ζ":"Z","Η":"H","Θ":"8","Ι":"I","Κ":"K","Λ":"L","Μ":"M","Ν":"N","Ξ":"3","Ο":"O","Π":"P","Ρ":"R","Σ":"S","Τ":"T","Υ":"Y","Φ":"F","Χ":"X","Ψ":"PS","Ω":"W","Ϊ":"I","Ϋ":"Y","ά":"a","έ":"e","ή":"h","ί":"i","ΰ":"y","α":"a","β":"b","γ":"g","δ":"d","ε":"e","ζ":"z","η":"h","θ":"8","ι":"i","κ":"k","λ":"l","μ":"m","ν":"n","ξ":"3","ο":"o","π":"p","ρ":"r","ς":"s","σ":"s","τ":"t","υ":"y","φ":"f","χ":"x","ψ":"ps","ω":"w","ϊ":"i","ϋ":"y","ό":"o","ύ":"y","ώ":"w","Ё":"Yo","Ђ":"DJ","Є":"Ye","І":"I","Ї":"Yi","Ј":"J","Љ":"LJ","Њ":"NJ","Ћ":"C","Џ":"DZ","А":"A","Б":"B","В":"V","Г":"G","Д":"D","Е":"E","Ж":"Zh","З":"Z","И":"I","Й":"J","К":"K","Л":"L","М":"M","Н":"N","О":"O","П":"P","Р":"R","С":"S","Т":"T","У":"U","Ф":"F","Х":"H","Ц":"C","Ч":"Ch","Ш":"Sh","Щ":"Sh","Ъ":"U","Ы":"Y","Ь":"","Э":"E","Ю":"Yu","Я":"Ya","а":"a","б":"b","в":"v","г":"g","д":"d","е":"e","ж":"zh","з":"z","и":"i","й":"j","к":"k","л":"l","м":"m","н":"n","о":"o","п":"p","р":"r","с":"s","т":"t","у":"u","ф":"f","х":"h","ц":"c","ч":"ch","ш":"sh","щ":"sh","ъ":"u","ы":"y","ь":"","э":"e","ю":"yu","я":"ya","ё":"yo","ђ":"dj","є":"ye","і":"i","ї":"yi","ј":"j","љ":"lj","њ":"nj","ћ":"c","ѝ":"u","џ":"dz","Ґ":"G","ґ":"g","Ғ":"GH","ғ":"gh","Қ":"KH","қ":"kh","Ң":"NG","ң":"ng","Ү":"UE","ү":"ue","Ұ":"U","ұ":"u","Һ":"H","һ":"h","Ә":"AE","ә":"ae","Ө":"OE","ө":"oe","Ա":"A","Բ":"B","Գ":"G","Դ":"D","Ե":"E","Զ":"Z","Է":"E\'","Ը":"Y\'","Թ":"T\'","Ժ":"JH","Ի":"I","Լ":"L","Խ":"X","Ծ":"C\'","Կ":"K","Հ":"H","Ձ":"D\'","Ղ":"GH","Ճ":"TW","Մ":"M","Յ":"Y","Ն":"N","Շ":"SH","Չ":"CH","Պ":"P","Ջ":"J","Ռ":"R\'","Ս":"S","Վ":"V","Տ":"T","Ր":"R","Ց":"C","Փ":"P\'","Ք":"Q\'","Օ":"O\'\'","Ֆ":"F","և":"EV","ء":"a","آ":"aa","أ":"a","ؤ":"u","إ":"i","ئ":"e","ا":"a","ب":"b","ة":"h","ت":"t","ث":"th","ج":"j","ح":"h","خ":"kh","د":"d","ذ":"th","ر":"r","ز":"z","س":"s","ش":"sh","ص":"s","ض":"dh","ط":"t","ظ":"z","ع":"a","غ":"gh","ف":"f","ق":"q","ك":"k","ل":"l","م":"m","ن":"n","ه":"h","و":"w","ى":"a","ي":"y","ً":"an","ٌ":"on","ٍ":"en","َ":"a","ُ":"u","ِ":"e","ْ":"","٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","پ":"p","چ":"ch","ژ":"zh","ک":"k","گ":"g","ی":"y","۰":"0","۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9","฿":"baht","ა":"a","ბ":"b","გ":"g","დ":"d","ე":"e","ვ":"v","ზ":"z","თ":"t","ი":"i","კ":"k","ლ":"l","მ":"m","ნ":"n","ო":"o","პ":"p","ჟ":"zh","რ":"r","ს":"s","ტ":"t","უ":"u","ფ":"f","ქ":"k","ღ":"gh","ყ":"q","შ":"sh","ჩ":"ch","ც":"ts","ძ":"dz","წ":"ts","ჭ":"ch","ხ":"kh","ჯ":"j","ჰ":"h","Ṣ":"S","ṣ":"s","Ẁ":"W","ẁ":"w","Ẃ":"W","ẃ":"w","Ẅ":"W","ẅ":"w","ẞ":"SS","Ạ":"A","ạ":"a","Ả":"A","ả":"a","Ấ":"A","ấ":"a","Ầ":"A","ầ":"a","Ẩ":"A","ẩ":"a","Ẫ":"A","ẫ":"a","Ậ":"A","ậ":"a","Ắ":"A","ắ":"a","Ằ":"A","ằ":"a","Ẳ":"A","ẳ":"a","Ẵ":"A","ẵ":"a","Ặ":"A","ặ":"a","Ẹ":"E","ẹ":"e","Ẻ":"E","ẻ":"e","Ẽ":"E","ẽ":"e","Ế":"E","ế":"e","Ề":"E","ề":"e","Ể":"E","ể":"e","Ễ":"E","ễ":"e","Ệ":"E","ệ":"e","Ỉ":"I","ỉ":"i","Ị":"I","ị":"i","Ọ":"O","ọ":"o","Ỏ":"O","ỏ":"o","Ố":"O","ố":"o","Ồ":"O","ồ":"o","Ổ":"O","ổ":"o","Ỗ":"O","ỗ":"o","Ộ":"O","ộ":"o","Ớ":"O","ớ":"o","Ờ":"O","ờ":"o","Ở":"O","ở":"o","Ỡ":"O","ỡ":"o","Ợ":"O","ợ":"o","Ụ":"U","ụ":"u","Ủ":"U","ủ":"u","Ứ":"U","ứ":"u","Ừ":"U","ừ":"u","Ử":"U","ử":"u","Ữ":"U","ữ":"u","Ự":"U","ự":"u","Ỳ":"Y","ỳ":"y","Ỵ":"Y","ỵ":"y","Ỷ":"Y","ỷ":"y","Ỹ":"Y","ỹ":"y","–":"-","‘":"\'","’":"\'","“":"\\"","”":"\\"","„":"\\"","†":"+","•":"*","…":"...","₠":"ecu","₢":"cruzeiro","₣":"french franc","₤":"lira","₥":"mill","₦":"naira","₧":"peseta","₨":"rupee","₩":"won","₪":"new shequel","₫":"dong","€":"euro","₭":"kip","₮":"tugrik","₯":"drachma","₰":"penny","₱":"peso","₲":"guarani","₳":"austral","₴":"hryvnia","₵":"cedi","₸":"kazakhstani tenge","₹":"indian rupee","₺":"turkish lira","₽":"russian ruble","₿":"bitcoin","℠":"sm","™":"tm","∂":"d","∆":"delta","∑":"sum","∞":"infinity","♥":"love","元":"yuan","円":"yen","﷼":"rial","ﻵ":"laa","ﻷ":"laa","ﻹ":"lai","ﻻ":"la"}'),a=JSON.parse('{"bg":{"Й":"Y","Ц":"Ts","Щ":"Sht","Ъ":"A","Ь":"Y","й":"y","ц":"ts","щ":"sht","ъ":"a","ь":"y"},"de":{"Ä":"AE","ä":"ae","Ö":"OE","ö":"oe","Ü":"UE","ü":"ue","ß":"ss","%":"prozent","&":"und","|":"oder","∑":"summe","∞":"unendlich","♥":"liebe"},"es":{"%":"por ciento","&":"y","<":"menor que",">":"mayor que","|":"o","¢":"centavos","£":"libras","¤":"moneda","₣":"francos","∑":"suma","∞":"infinito","♥":"amor"},"fr":{"%":"pourcent","&":"et","<":"plus petit",">":"plus grand","|":"ou","¢":"centime","£":"livre","¤":"devise","₣":"franc","∑":"somme","∞":"infini","♥":"amour"},"pt":{"%":"porcento","&":"e","<":"menor",">":"maior","|":"ou","¢":"centavo","∑":"soma","£":"libra","∞":"infinito","♥":"amor"},"uk":{"И":"Y","и":"y","Й":"Y","й":"y","Ц":"Ts","ц":"ts","Х":"Kh","х":"kh","Щ":"Shch","щ":"shch","Г":"H","г":"h"},"vi":{"Đ":"D","đ":"d"},"da":{"Ø":"OE","ø":"oe","Å":"AA","å":"aa","%":"procent","&":"og","|":"eller","$":"dollar","<":"mindre end",">":"større end"},"nb":{"&":"og","Å":"AA","Æ":"AE","Ø":"OE","å":"aa","æ":"ae","ø":"oe"},"it":{"&":"e"},"nl":{"&":"en"},"sv":{"&":"och","Å":"AA","Ä":"AE","Ö":"OE","å":"aa","ä":"ae","ö":"oe"}}');function s(s,l){if("string"!=typeof s)throw new Error("slugify: string argument expected");var t=a[(l="string"==typeof l?{replacement:l}:l||{}).locale]||{},r=void 0===l.replacement?"-":l.replacement,i=void 0===l.trim||l.trim,n=s.normalize().split("").reduce((function(a,s){var i=t[s];return void 0===i&&(i=e[s]),void 0===i&&(i=s),i===r&&(i=" "),a+i.replace(l.remove||/[^\w\s$*_+~.()'"!\-:@]+/g,"")}),"");return l.strict&&(n=n.replace(/[^A-Za-z0-9\s]/g,"")),i&&(n=n.trim()),n=n.replace(/\s+/g,r),l.lower&&(n=n.toLowerCase()),n}return s.extend=function(a){Object.assign(e,a)},s})(),U.exports.default=F()),D.exports)),L=({control:e,setValue:a})=>{const s=g({control:e,name:"name"});c.useEffect((()=>{if(s){const e=I(s,{lower:!0,strict:!0,trim:!0});a("slug",e)}}),[s,a]);const i={toolbar:[[{header:[1,2,!1]}],["bold","italic","underline"],["link","image"],["clean"]]},n=["header","bold","italic","underline","link","image"];return l.jsx(b,{className:"w-full max-w-2xl mx-auto shadow-none border-none",children:l.jsxs(f,{className:"space-y-3",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(t,{htmlFor:"name",children:"Name"}),l.jsx(h,{name:"name",control:e,rules:{required:"Name is required"},render:({field:e})=>l.jsx(r,{id:"name",...e})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(t,{htmlFor:"slug",children:"Slug"}),l.jsx(h,{name:"slug",control:e,render:({field:e})=>l.jsx(r,{id:"slug",...e,onChange:a=>{const s=I(a.target.value,{lower:!0,strict:!0,trim:!0});e.onChange(s)}})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(t,{htmlFor:"description",children:"Description"}),l.jsx(h,{name:"description",control:e,render:({field:e})=>l.jsx(S,{value:e.value||"",onChange:e.onChange,modules:i,formats:n,theme:"snow"})})]})]})})},z=({control:e,watch:a})=>{const[s,o]=c.useState({specs:!1,msds:!1}),d=a("specs"),u=a("msds"),m=(e,a="specs")=>{if(e){const s="msds"===a?"msds":"specs",l=e.split(".")[0];window.open(`/api/image/${s}/view/${l}`,"_blank")}};return l.jsx(b,{className:"w-full max-w-2xl mx-auto border-none shadow-none",children:l.jsxs(f,{className:"space-y-3",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(t,{htmlFor:"packings",children:"Packings"}),l.jsx(h,{name:"packings",control:e,defaultValue:[],render:({field:e})=>l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx(r,{placeholder:"Enter packing (e.g., 25kg)",onKeyDown:a=>{if("Enter"===a.key){a.preventDefault();const s=a.target.value.trim();s&&!e.value.includes(s)&&(e.onChange([...e.value,s]),a.target.value="")}}}),l.jsx(i,{type:"button",onClick:a=>{const s=a.currentTarget.previousSibling,l=s.value.trim();l&&!e.value.includes(l)&&(e.onChange([...e.value,l]),s.value="")},children:"Add"})]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:Array.isArray(e.value)&&e.value.map(((a,s)=>l.jsxs("div",{className:"flex items-center gap-1 bg-secondary px-2 py-1 rounded-md",children:[l.jsx("span",{children:a}),l.jsx("button",{type:"button",onClick:()=>{const a=e.value.filter(((e,a)=>a!==s));e.onChange(a)},className:"text-muted-foreground hover:text-foreground",children:l.jsx(n,{className:"h-4 w-4"})})]},s)))})]})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(t,{htmlFor:"grade",children:"Grade"}),l.jsx(h,{name:"grade",control:e,render:({field:e})=>l.jsx(r,{id:"grade",placeholder:"Enter grade",...e})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(t,{htmlFor:"iupac",children:"IUPAC Name"}),l.jsx(h,{name:"iupac",control:e,render:({field:e})=>l.jsx(r,{id:"iupac",placeholder:"Enter IUPAC name",...e})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(t,{htmlFor:"h_s_code",children:"HS Code"}),l.jsx(h,{name:"h_s_code",control:e,render:({field:e})=>l.jsx(r,{id:"h_s_code",placeholder:"Enter HS code",...e})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(t,{htmlFor:"molecular_weight",children:"Molecular Weight"}),l.jsx(h,{name:"molecular_weight",control:e,render:({field:e})=>l.jsx(r,{id:"molecular_weight",type:"number",placeholder:"Enter molecular weight",...e})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(t,{htmlFor:"molecular_formula",children:"Molecular Formula"}),l.jsx(h,{name:"molecular_formula",control:e,render:({field:e})=>l.jsx(r,{id:"molecular_formula",placeholder:"Enter molecular formula",...e})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(t,{htmlFor:"application",children:"Applications"}),l.jsx(h,{name:"application",control:e,defaultValue:[],render:({field:e})=>l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx(r,{placeholder:"Enter application",onKeyDown:a=>{if("Enter"===a.key){a.preventDefault();const s=a.target.value.trim();s&&!e.value.includes(s)&&(e.onChange([...e.value,s]),a.target.value="")}}}),l.jsx(i,{type:"button",onClick:a=>{const s=a.currentTarget.previousSibling,l=s.value.trim();l&&!e.value.includes(l)&&(e.onChange([...e.value,l]),s.value="")},children:"Add"})]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:Array.isArray(e.value)&&e.value.map(((a,s)=>l.jsxs("div",{className:"flex items-center gap-1 bg-secondary px-2 py-1 rounded-md",children:[l.jsx("span",{children:a}),l.jsx("button",{type:"button",onClick:()=>{const a=e.value.filter(((e,a)=>a!==s));e.onChange(a)},className:"text-muted-foreground hover:text-foreground",children:l.jsx(n,{className:"h-4 w-4"})})]},s)))})]})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(t,{htmlFor:"specs",children:"Specifications (PDF)"}),l.jsx(h,{name:"specs",control:e,render:({field:{value:e,onChange:a,...t}})=>l.jsxs("div",{className:"space-y-2",children:["string"==typeof d&&d&&l.jsxs("div",{className:"flex items-center gap-2 p-2 bg-secondary rounded-md",children:[l.jsx(A,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm truncate",children:d}),l.jsx(i,{type:"button",variant:"ghost",size:"sm",onClick:()=>m(d,"specs"),children:l.jsx(k,{className:"h-4 w-4"})}),l.jsx(i,{type:"button",variant:"ghost",size:"sm",onClick:()=>a(""),children:l.jsx(n,{className:"h-4 w-4"})})]}),l.jsx(r,{id:"specs",type:"file",accept:".pdf",disabled:s.specs,onChange:async e=>{const s=e.target.files?.[0];s&&(o((e=>({...e,specs:!0}))),a(s),o((e=>({...e,specs:!1}))))},...t}),s.specs&&l.jsx("p",{className:"text-sm text-muted-foreground",children:"Uploading specification file..."})]})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(t,{htmlFor:"msds",children:"MSDS (PDF)"}),l.jsx(h,{name:"msds",control:e,render:({field:{value:e,onChange:a,...t}})=>l.jsxs("div",{className:"space-y-2",children:["string"==typeof u&&u&&l.jsxs("div",{className:"flex items-center gap-2 p-2 bg-secondary rounded-md",children:[l.jsx(A,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm truncate",children:u}),l.jsx(i,{type:"button",variant:"ghost",size:"sm",onClick:()=>m(u,"msds"),children:l.jsx(k,{className:"h-4 w-4"})}),l.jsx(i,{type:"button",variant:"ghost",size:"sm",onClick:()=>a(""),children:l.jsx(n,{className:"h-4 w-4"})})]}),l.jsx(r,{id:"msds",type:"file",accept:".pdf",disabled:s.msds,onChange:async e=>{const s=e.target.files?.[0];s&&(o((e=>({...e,msds:!0}))),a(s),o((e=>({...e,msds:!1}))))},...t}),s.msds&&l.jsx("p",{className:"text-sm text-muted-foreground",children:"Uploading MSDS file..."})]})})]})]})})};z.propTypes={control:y.object.isRequired,watch:y.func},z.defaultProps={watch:()=>{}};const M=({control:e})=>l.jsx(b,{className:"w-full max-w-2xl mx-auto border-none shadow-none",children:l.jsxs(f,{className:"space-y-3",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(t,{htmlFor:"metatitle",children:"Meta Title"}),l.jsx(h,{name:"metatitle",control:e,render:({field:e})=>l.jsx(r,{id:"metatitle",placeholder:"Enter meta title",...e})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(t,{htmlFor:"metadescription",children:"Meta Description"}),l.jsx(h,{name:"metadescription",control:e,render:({field:e})=>l.jsx(E,{id:"metadescription",placeholder:"Enter meta description",...e,rows:3})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(t,{htmlFor:"metakeywords",children:"Meta Keywords"}),l.jsx(h,{name:"metakeywords",control:e,render:({field:e})=>l.jsx(r,{id:"metakeywords",placeholder:"Enter meta keywords",...e})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(t,{htmlFor:"metacanonical",children:"Meta Canonical URL"}),l.jsx(h,{name:"metacanonical",control:e,render:({field:e})=>l.jsx(r,{id:"metacanonical",placeholder:"Enter canonical URL",...e})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(t,{htmlFor:"metalanguage",children:"Meta Language"}),l.jsx(h,{name:"metalanguage",control:e,render:({field:e})=>l.jsx(r,{id:"metalanguage",placeholder:"Enter language code (e.g., en-US)",...e})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(t,{htmlFor:"metaschema",children:"Meta Schema"}),l.jsx(h,{name:"metaschema",control:e,render:({field:e})=>l.jsx(E,{id:"metaschema",placeholder:"Enter JSON-LD schema",...e,rows:4})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(t,{htmlFor:"otherMeta",children:"Other Meta Information"}),l.jsx(h,{name:"otherMeta",control:e,render:({field:e})=>l.jsx(E,{id:"otherMeta",placeholder:"Enter any additional meta information",...e,rows:3})})]})]})}),V=({control:e,setValue:a})=>{const{fields:s,append:o,remove:d,update:u}=x({control:e,name:"images"}),m={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image"]]},g=["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","color","background","align","direction","code-block","script"],p=c.useCallback(((e,a)=>{const l=e.target.files[0];if(l){s[a]?.preview?.startsWith("blob:")&&URL.revokeObjectURL(s[a].preview);const e=URL.createObjectURL(l);u(a,{...s[a],file:l,preview:e,altText:s[a]?.altText||"",title:s[a]?.title||"",url:null})}}),[s,u]);c.useEffect((()=>()=>{s.forEach((e=>{e?.preview?.startsWith("blob:")&&URL.revokeObjectURL(e.preview)}))}),[s]);const j=c.useCallback((e=>{s[e]?.preview?.startsWith("blob:")&&URL.revokeObjectURL(s[e].preview),s[e]._id&&a(`imagesToDelete.${s[e]._id}`,!0),d(e)}),[s,d,a]);return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(t,{htmlFor:"global_tagline",children:"Global Tagline"}),l.jsx(h,{name:"global_tagline",control:e,defaultValue:"",render:({field:e})=>l.jsx(r,{id:"global_tagline",placeholder:"Enter global tagline",...e})}),l.jsx("p",{className:"text-xs text-gray-500",children:"A brief tagline that will appear globally."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(t,{htmlFor:"description",children:"Description"}),l.jsx(h,{name:"description",control:e,defaultValue:"",render:({field:{onChange:e,value:a}})=>l.jsx("div",{className:"quill-container",children:l.jsx(S,{id:"description",theme:"snow",value:a,onChange:e,className:"bg-white",modules:m,formats:g,placeholder:"Enter detailed description..."})})}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Format your content using the toolbar above. Use headings, lists, and formatting to create well-structured content."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(t,{htmlFor:"synonyms",children:"Synonyms"}),l.jsx(h,{name:"synonyms",control:e,defaultValue:[],render:({field:e})=>l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx(r,{placeholder:"Enter synonym",onKeyDown:a=>{if("Enter"===a.key){a.preventDefault();const s=a.target.value.trim();s&&!e.value.includes(s)&&(e.onChange([...e.value,s]),a.target.value="")}}}),l.jsx(i,{type:"button",onClick:a=>{const s=a.currentTarget.previousSibling,l=s.value.trim();l&&!e.value.includes(l)&&(e.onChange([...e.value,l]),s.value="")},children:"Add"})]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:Array.isArray(e.value)&&e.value.map(((a,s)=>l.jsxs("div",{className:"flex items-center gap-1 bg-secondary px-2 py-1 rounded-md",children:[l.jsx("span",{children:a}),l.jsx("button",{type:"button",onClick:()=>{const a=e.value.filter(((e,a)=>a!==s));e.onChange(a)},className:"text-muted-foreground hover:text-foreground",children:l.jsx(n,{className:"h-4 w-4"})})]},s)))})]})})]}),l.jsx(t,{children:"Images"}),s.map(((a,s)=>l.jsxs("div",{className:"space-y-2 border p-4 rounded-lg",children:[a.preview||a.url?l.jsx("img",{src:a.preview||`/api/image/download/${a.url}`,alt:a.altText||"Image preview",className:"w-32 h-32 object-cover rounded border"}):l.jsx("div",{className:"w-32 h-32 flex items-center justify-center border rounded bg-gray-100",children:"No Preview"}),l.jsx("input",{type:"file",onChange:e=>p(e,s),accept:"image/*",className:"block w-full text-sm text-gray-500\r\n                file:mr-4 file:py-2 file:px-4\r\n                file:rounded-full file:border-0\r\n                file:text-sm file:font-semibold\r\n                file:bg-blue-50 file:text-blue-700\r\n                hover:file:bg-blue-100"}),l.jsx(t,{htmlFor:`alt-text-${s}`,children:"Alt Text"}),l.jsx(h,{name:`images.${s}.altText`,control:e,defaultValue:a.altText||"",render:({field:e})=>l.jsx(r,{id:`alt-text-${s}`,placeholder:"Alt Text",...e})}),l.jsx(t,{htmlFor:`image-title-${s}`,children:"Image Title"}),l.jsx(h,{name:`images.${s}.title`,control:e,defaultValue:a.title||"",render:({field:e})=>l.jsx(r,{id:`image-title-${s}`,placeholder:"Image Title",...e})}),l.jsx("button",{type:"button",onClick:()=>j(s),className:"text-red-600 hover:underline",children:"Remove"})]},a.id))),l.jsx("button",{type:"button",onClick:()=>o({file:null,preview:null,altText:"",title:"",url:null}),className:"px-4 py-2 mt-4 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Add Image"})]})},q=()=>{const{control:e,handleSubmit:a,watch:s,setValue:t}=p({defaultValues:{category:"",sub_category:"",subsub_category_id:"",categorySlug:"",subCategorySlug:"",subSubCategorySlug:"",name:"",slug:"",images:[],catalog:"",msds:"",specs:"",table:"",synonyms:[],application:[],chemical_industries:[],product_code:"",auto_p_code:"",metatitle:"",metadescription:"",metakeywords:"",metacanonical:"",metalanguage:"",metaschema:"",otherMeta:"",imagesToDelete:{}}}),r=d(),{id:n}=u(),[o,h]=c.useState(!1),[g,x]=c.useState(null);c.useEffect((()=>{(async()=>{if(n){h(!0);try{const e=(await j.get(`/api/chemical/getChemicalById?id=${n}`)).data;x(e),e.category&&(t("category",e.category._id),t("categorySlug",e.category.slug)),e.sub_category&&(t("sub_category",e.sub_category._id),t("subCategorySlug",e.sub_category.slug)),e.subsub_category_id&&(t("subsub_category_id","object"==typeof e.subsub_category_id?e.subsub_category_id._id:e.subsub_category_id),t("subSubCategorySlug",e.subsub_category_id.slug||"")),Object.entries(e).forEach((([e,a])=>{"category"!==e&&"sub_category"!==e&&"subsub_category_id"!==e&&"images"!==e&&t(e,a)})),e.images&&e.images.length>0&&t("images",e.images)}catch(e){}finally{h(!1)}}})()}),[n,t]);return o?l.jsx("div",{children:"Loading existing chemical data..."}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"mb-4 flex items-center text-sm text-gray-500",children:[l.jsx(m,{to:"/",className:"hover:text-purple-600",children:"Home"}),l.jsx("span",{className:"mx-2",children:"/"}),l.jsx(m,{to:"/chemical-table",className:"hover:text-purple-600",children:"Chemicals"}),l.jsx("span",{className:"mx-2",children:"/"}),l.jsx("span",{className:"text-gray-900",children:n?"Edit Chemical":"New Chemical"})]}),l.jsxs("form",{onSubmit:a((async e=>{try{const a=new FormData;let s;e.images.forEach(((e,s)=>{e.file instanceof File?(a.append("images",e.file),a.append(`altText-${s}`,e.altText||""),a.append(`title-${s}`,e.title||"")):e.url&&(a.append(`existingImages[${s}][url]`,e.url),a.append(`existingImages[${s}][altText]`,e.altText||""),a.append(`existingImages[${s}][title]`,e.title||""))})),Object.keys(e.imagesToDelete).forEach((e=>{a.append("imagesToDelete[]",e)})),Object.entries(e).forEach((([e,s])=>{"images"!==e&&"imagesToDelete"!==e&&null!=s&&""!==s&&(Array.isArray(s)?s.forEach(((s,l)=>{a.append(`${e}[${l}]`,s)})):"molecular_weight"===e&&s?a.append(e,Number(s)):a.append(e,s))})),s=n?await j.put(`/api/chemical/updateChemicalById?id=${n}`,a,{headers:{"Content-Type":"multipart/form-data"}}):await j.post("/api/chemical/add",a,{headers:{"Content-Type":"multipart/form-data"}}),r("/chemical-table")}catch(a){}})),className:"space-y-6 bg-white",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"border p-4 rounded-lg",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Category Information"}),l.jsx(O,{control:e,watch:s,setValue:t,chemicalData:g})]}),l.jsxs("div",{className:"border p-4 rounded-lg",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Chemical Details"}),l.jsx(L,{control:e,setValue:t,chemicalData:g})]}),l.jsxs("div",{className:"border p-4 rounded-lg",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Chemical Properties"}),l.jsx(z,{control:e,chemicalData:g})]}),l.jsxs("div",{className:"border p-4 rounded-lg",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Image Upload"}),l.jsx(V,{control:e,setValue:t,chemicalData:g})]}),l.jsxs("div",{className:"border p-4 rounded-lg",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Meta Information"}),l.jsx(M,{control:e,chemicalData:g})]})]}),l.jsx("div",{className:"flex justify-center mt-6",children:l.jsx(i,{type:"submit",className:"px-8 py-3 w-1/4 text-white rounded-md hover:bg-purple-700 transition duration-300 ease-in-out transform hover:scale-105",children:n?"Update Chemical":"Submit Chemical"})})]})]})};export{q as ChemicalFormPage,q as default};
//# sourceMappingURL=ChemcialFormPage-Bj033otP.js.map
