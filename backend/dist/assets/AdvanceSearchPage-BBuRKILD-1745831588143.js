import{r as c,u as g,j as e,B as u,g as x}from"./index-DG2rto3Y-1745831588143.js";import{B as b}from"./Banner-CAUr5QIw-1745831588143.js";import{S as p,a as j,b as S,c as y,d as l}from"./select--vxN2JJF-1745831588143.js";import"./index-Dwl8MdkE-1745831588143.js";import"./index-IWDah2sH-1745831588143.js";import"./check-DBXd-JkE-1745831588143.js";import"./chevron-up-ZYfEO7qL-1745831588143.js";const C="/assets/adBanner-CrOWzrBJ-1745831588143.jpg";function w({title:a}){const[d,s]=c.useState([]),[h,o]=c.useState(!0),[i,r]=c.useState(null),[t,f]=c.useState(""),v=g();c.useEffect(()=>{(async()=>{try{const m=await x.get("/api/chemicalCategory/getAll");s(m.data||[]),o(!1)}catch{r("Error loading categories"),o(!1)}})()},[]);const N=()=>{t&&v(`/${t}`)};return e.jsxs("div",{className:"bg-gray-100/80 p-6 space-y-4",children:[e.jsx("h2",{className:"text-xl font-medium",children:a}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(p,{onValueChange:n=>f(n),children:[e.jsx(j,{className:"bg-white",children:e.jsx(S,{placeholder:"Select category"})}),e.jsx(y,{children:h?e.jsx(l,{disabled:!0,children:"Loading..."}):i?e.jsx(l,{disabled:!0,children:i}):d.map(n=>e.jsx(l,{value:n.slug,children:n.category},n._id))})]}),e.jsx(u,{className:"w-full bg-secondary hover:bg-primary",onClick:N,children:"SUBMIT"})]})]})}function B(){const[a,d]=c.useState(""),[s,h]=c.useState(""),o=g(),i=async()=>{if(!a||!s){alert("Please select a search type and enter a search term.");return}const r=a==="product_name"?`/api/product/advanceSearch?name=${encodeURIComponent(s)}`:`/api/product/advanceSearch?price=${encodeURIComponent(s)}`;try{const t=await x.get(r);console.log("Search Results:",t.data),o("/product-search",{state:{results:t.data,searchTerm:s}})}catch(t){console.error("Error fetching products:",t)}};return e.jsxs("div",{className:"grid gap-6 md:grid-cols-3 py-6",children:[e.jsx(w,{title:"Search Chemicals"}),e.jsxs("div",{className:"bg-gray-100/80 p-6 rounded-lg space-y-4",children:[e.jsx("h2",{className:"text-xl font-medium",children:"Search Products"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(p,{onValueChange:r=>d(r),children:[e.jsx(j,{className:"bg-white",children:e.jsx(S,{placeholder:"Select search type"})}),e.jsxs(y,{children:[e.jsx(l,{value:"product_name",children:"Product Name"}),e.jsx(l,{value:"price",children:"Product Price"})]})]}),e.jsx("input",{type:"text",value:s,onChange:r=>h(r.target.value),placeholder:`Enter ${(a==null?void 0:a.replace("_"," "))||"search criteria"}`,className:"w-full px-3 py-2 border rounded-md border-input bg-background bg-white"}),e.jsx(u,{className:"w-full bg-secondary hover:bg-primary",onClick:i,children:"SUBMIT"})]})]})]})}const $=()=>e.jsxs(e.Fragment,{children:[e.jsx(b,{imageUrl:C}),e.jsx("div",{className:"w-full flex flex-col justify-center items-center",children:e.jsxs("div",{className:"lg:max-w-[75rem]",children:[e.jsxs("div",{className:"",children:[e.jsx("h2",{className:"text-3xl mt-8 font-bold text-gray-700",children:"Advance Search"}),e.jsx("div",{className:" bg-secondary w-[6%] h-1 "})]}),e.jsx(B,{})]})})]});export{$ as default};
