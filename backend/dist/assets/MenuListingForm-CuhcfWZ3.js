import{b$ as e,c0 as r,c1 as a,c2 as s,j as i}from"./main-DbCIA5nM.js";import{b as t,j as n,f as l}from"./vendor-X2E3PIZN.js";import{F as d}from"./index-BGrTmilS.js";import{C as m}from"./index-Do4FWjKb.js";import{I as o}from"./index-C8xsCgg9.js";import{S as c}from"./index-DKxChPud.js";import{_ as h}from"./objectSpread2-C2mPdFQ-.js";import{I as p}from"./AntdIcon-Bc_RgQsY.js";import{B as j}from"./index-CvhnQ2ZS.js";import{R as u}from"./PlusOutlined-DCOYj-on.js";import"./utils-ZFgnvnbw.js";import"./toArray-DIarnBRF.js";import"./index-BJvm14ET.js";import"./CheckCircleFilled-vSnFSXRd.js";import"./ExclamationCircleFilled-jOtwz4nB.js";import"./Skeleton-Ds91yGkQ.js";import"./index-Cie-PtDs.js";import"./getAllowClear-CF0z5FWe.js";import"./Input-DzV7KJ8a.js";import"./EyeOutlined-D6toRaq1.js";import"./TextArea-BQkixvnv.js";var x={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"minus-circle",theme:"outlined"},b=function(e,r){return t.createElement(p,h({},e,{ref:r,icon:x}))},f=t.forwardRef(b);const g=()=>{const{id:h}=n(),p=l(),[x]=d.useForm(),{data:b,isLoading:g}=e(h,{skip:!h}),{refetch:C}=r(),[y]=a(),[E]=s();t.useEffect((()=>{b&&x.setFieldsValue(b.data)}),[b,x]);return g?i.jsx("p",{children:"Loading..."}):i.jsx(m,{title:h?"Update Menu Listing":"Create Menu Listing",bordered:!1,children:i.jsxs(d,{form:x,layout:"vertical",onFinish:async e=>{h?await E({id:h,...e}):await y(e),await C(),p("/menu-listing-table")},initialValues:{children:[]},children:[i.jsxs(m,{title:"Parent Menu",bordered:!0,style:{marginBottom:"20px"},children:[i.jsx(d.Item,{name:["parent","name"],label:"Name",rules:[{required:!0,message:"Please enter parent menu name"}],children:i.jsx(o,{placeholder:"Enter parent menu name"})}),i.jsx(d.Item,{name:["parent","path"],label:"Path",rules:[{required:!0,message:"Please enter parent menu path"}],children:i.jsx(o,{placeholder:"Enter parent menu path"})})]}),i.jsx(d.List,{name:"children",children:(e,{add:r,remove:a})=>i.jsxs(m,{title:"Children Menus",bordered:!0,children:[e.map((({key:e,name:r,...s})=>i.jsxs(m,{bordered:!0,style:{marginBottom:"15px"},children:[i.jsxs(c,{align:"baseline",children:[i.jsx(d.Item,{...s,name:[r,"name"],label:"Child Name",rules:[{required:!0,message:"Enter child name"}],children:i.jsx(o,{placeholder:"Enter child name"})}),i.jsx(d.Item,{...s,name:[r,"path"],label:"Child Path",rules:[{required:!0,message:"Enter child path"}],children:i.jsx(o,{placeholder:"Enter child path"})}),i.jsx(f,{onClick:()=>a(r)})]}),i.jsx(d.List,{name:[r,"subChildren"],children:(e,{add:r,remove:a})=>i.jsxs(m,{title:"Sub-Children",bordered:!0,children:[e.map((({key:e,name:r,...s})=>i.jsxs(c,{align:"baseline",children:[i.jsx(d.Item,{...s,name:[r,"name"],label:"Sub-Child Name",rules:[{required:!0,message:"Enter sub-child name"}],children:i.jsx(o,{placeholder:"Enter sub-child name"})}),i.jsx(d.Item,{...s,name:[r,"path"],label:"Sub-Child Path",rules:[{required:!0,message:"Enter sub-child path"}],children:i.jsx(o,{placeholder:"Enter sub-child path"})}),i.jsx(f,{onClick:()=>a(r)})]},e))),i.jsx(j,{type:"dashed",onClick:()=>r(),block:!0,icon:i.jsx(u,{}),children:"Add Sub-Child"})]})})]},e))),i.jsx(j,{type:"dashed",onClick:()=>r(),block:!0,icon:i.jsx(u,{}),children:"Add Child"})]})}),i.jsx(j,{type:"primary",htmlType:"submit",style:{marginTop:"20px"},children:h?"Update":"Create"})]})})};export{g as default};
//# sourceMappingURL=MenuListingForm-CuhcfWZ3.js.map
