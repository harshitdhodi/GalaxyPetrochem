import{r as a,u as j,g as m,j as e,L as l}from"./index-pxV5F7Vk-1745663305082.js";import{P as f}from"./PromoSidebar-C-nCfXH0-1745663305082.js";import{M as N}from"./minus-BpET5NHv-1745663305082.js";import{P as v}from"./plus-CVRrUl95-1745663305082.js";const b=()=>{const[i,x]=a.useState([]),[d,h]=a.useState([]),[r,c]=a.useState({}),g=j();a.useEffect(()=>{m.get("/api/chemicalCategory/getAll").then(s=>{x(s.data),s.data.length>0&&c({[s.data[0].slug]:!0})}).catch(s=>console.error("Error fetching categories:",s)),m.get("/api/product").then(s=>h(s.data)).catch(s=>console.error("Error fetching products:",s))},[]);const u=i.map(s=>({...s,products:d.filter(t=>t.category.slug===s.slug)})),p=s=>{c(t=>({...t,[s]:!t[s]}))};return i.length?e.jsxs("div",{className:"w-full md:max-w-7xl mx-auto min-h-screen bg-white",children:[e.jsx("nav",{className:"pt-5 sm:text-xs md:text-sm lg:text-base text-[11px] border-b pb-3 w-[98%] ml-8 mb-5 py-2",children:e.jsxs("ul",{className:"flex gap-2 flex-wrap",children:[e.jsx("li",{children:e.jsx(l,{to:"/",className:"text-secondary  hover:text-main_light",children:"Home"})}),e.jsx("li",{className:"text-gray-400",children:">"}),e.jsx("li",{children:e.jsx(l,{to:"/products",className:"text-main hover:text-main_light",children:"Products"})})]})}),e.jsx("div",{className:"mx-auto max-w-7xl px-4 lg:px-0",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-center gap-10 p-6 w-full",children:[e.jsx("div",{className:"w-full border px-5 py-3 md:w-[75%]",children:e.jsx("div",{className:"space-y-8",children:u.map(s=>e.jsxs("div",{className:"rounded-lg p-4 shadow-md",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6 gap-6",children:[e.jsxs("div",{className:"flex gap-3 items-center",children:[e.jsx("img",{src:s.photo?`/api/logo/download/${s.photo}`:"https://img.freepik.com/free-vector/abstract-chemical-logo_23-2148610094.jpg?w=200",alt:s.name,className:"h-10 border-2 p-1"}),e.jsx(l,{to:`/${s.slug}`,className:"block",children:e.jsx("h2",{className:"text-main font-bold text-lg",children:s.category})})]}),e.jsx("div",{children:e.jsx("button",{onClick:()=>p(s.slug),className:"p-1 hover:bg-blue-100 rounded-full transition-colors",children:r[s.slug]?e.jsx(N,{className:"w-5 h-5 text-main"}):e.jsx(v,{className:"w-5 h-5 text-main"})})})]}),r[s.slug]&&e.jsx("ul",{className:"flex flex-col gap-5  bg-white rounded-lg",children:s.products.map(t=>{var o,n;return e.jsxs("li",{className:"flex p-1 px-4 justify-start items-center w-full bg-blue-100 cursor-pointer",onClick:()=>g(`/${s.slug}/${t.slug}`),children:[e.jsx("img",{src:(n=(o=t.images)==null?void 0:o[0])!=null&&n.url?`/api/image/download/${t.images[0].url}`:"https://via.placeholder.com/150",alt:t.name,className:"w-20 h-10 mt-2 object-contain mb-2"}),e.jsx("h3",{className:"text-main font-medium text-lg",children:t.name})]},t.slug)})})]},s.slug))})}),e.jsx("div",{className:"relative h-[30vh] sm:h-[40vh] lg:h-[60vh] w-1/4",children:e.jsx(f,{})})]})})]}):e.jsx("div",{className:"text-center py-4",children:"Loading..."})},E=()=>e.jsx("div",{children:e.jsx(b,{})});export{E as default};
