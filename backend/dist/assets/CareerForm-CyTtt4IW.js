import{e6 as e,ee as s,ef as a,j as t}from"./main-CzSo-TQq.js";import{f as i,k as r,b as l}from"./vendor-BCMiqwDy.js";import{F as n}from"./index-DNifZJQ5.js";import{B as o}from"./Breadcrumb-CWo6S1TK.js";import{C as d}from"./index-BPGKac_2.js";import{I as m}from"./index-DM93vOm6.js";import{U as p,R as c}from"./index-C3Salwgc.js";import{B as u}from"./index-DSpNpUBy.js";import{s as j}from"./index-9ZEY5nY4.js";import"./utils-ZFgnvnbw.js";import"./CheckCircleFilled-ReswMhjZ.js";import"./ExclamationCircleFilled-xRTYYEFC.js";import"./dropdown-Dz-q1Mre.js";import"./EllipsisOutlined-BfcsApT3.js";import"./Skeleton-DRGMwVq6.js";import"./PlusOutlined-CdZ2zpwb.js";import"./getAllowClear-CUuit-6u.js";import"./Input-dXXm4f2Q.js";import"./TextArea-BS9kE1Cd.js";import"./DeleteOutlined-BWd8Mtlr.js";import"./DownloadOutlined-xI3cqZd9.js";import"./CheckOutlined-Cn3WkZbn.js";import"./InfoCircleFilled-CAKYzuNC.js";const x=()=>{const[x]=n.useForm(),h=i(),{id:f}=r(),b=!!f,[g,F]=l.useState([]),[A]=e(),[y]=s(),{data:C,isLoading:w}=a(f,{skip:!b});l.useEffect((()=>{b&&C?.data&&(x.setFieldsValue({name:C.data.name,email:C.data.email,contactNo:C.data.contactNo,address:C.data.address,postAppliedFor:C.data.postAppliedFor}),C.data.resumeFile&&F([{uid:"-1",name:C.data.resumeFile.split("/").pop(),status:"done",url:C.data.resumeFile}]))}),[C,x,b]);const P={beforeUpload:e=>("application/pdf"===e.type||j.error("You can only upload PDF files!"),!1),maxCount:1,fileList:g,onChange:({fileList:e})=>{F(e)}};return t.jsxs("div",{style:{padding:"20px"},children:[t.jsx(o,{items:[{title:t.jsx("span",{onClick:()=>h("/dashboard"),style:{cursor:"pointer"},children:"Dashboard"})},{title:t.jsx("span",{onClick:()=>h("/career-table"),style:{cursor:"pointer"},children:"Career Applications"})},{title:b?"Edit Application":"Add Application"}],style:{marginBottom:"16px"}}),t.jsx(d,{title:b?"Edit Application":"Add New Application",children:t.jsxs(n,{form:x,layout:"vertical",onFinish:async e=>{try{const s=new FormData;s.append("name",e.name),s.append("email",e.email),s.append("contactNo",e.contactNo),s.append("address",e.address),s.append("postAppliedFor",e.postAppliedFor),g[0]?.originFileObj&&s.append("resumeFile",g[0].originFileObj),b?(await y({id:f,formData:s}).unwrap(),j.success("Application updated successfully!")):(await A(s).unwrap(),j.success("Application submitted successfully!")),h("/career-table")}catch(s){j.error(s.message||"Something went wrong")}},disabled:w,children:[t.jsx(n.Item,{name:"name",label:"Name",rules:[{required:!0,message:"Please enter name"},{min:2,message:"Name must be at least 2 characters"}],children:t.jsx(m,{})}),t.jsx(n.Item,{name:"email",label:"Email",rules:[{required:!0,message:"Please enter email"},{type:"email",message:"Please enter a valid email"}],children:t.jsx(m,{})}),t.jsx(n.Item,{name:"contactNo",label:"Contact Number",rules:[{required:!0,message:"Please enter contact number"},{pattern:/^[0-9]{10}$/,message:"Please enter a valid 10-digit number"}],children:t.jsx(m,{})}),t.jsx(n.Item,{name:"address",label:"Address",rules:[{required:!0,message:"Please enter address"},{min:5,message:"Address must be at least 5 characters"}],children:t.jsx(m.TextArea,{rows:4})}),t.jsx(n.Item,{name:"postAppliedFor",label:"Post Applied For",rules:[{required:!0,message:"Please enter post applied for"}],children:t.jsx(m,{})}),t.jsx(n.Item,{name:"resumeFile",label:"Resume",rules:[{required:!b&&!g.length,message:"Please upload resume"}],children:t.jsx(p,{...P,children:t.jsx(u,{icon:t.jsx(c,{}),children:g.length?"Replace Resume":"Upload Resume"})})}),t.jsxs(n.Item,{children:[t.jsx(u,{type:"primary",htmlType:"submit",loading:w,children:b?"Update":"Submit"}),t.jsx(u,{style:{marginLeft:"10px"},onClick:()=>h("/career-table"),children:"Cancel"})]})]})})]})};export{x as default};
//# sourceMappingURL=CareerForm-CyTtt4IW.js.map
