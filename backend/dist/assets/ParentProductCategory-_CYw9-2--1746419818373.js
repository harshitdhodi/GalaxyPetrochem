import{u as f,j as e,L as m,A as j,r as o,k as p,l as v,a as u}from"./index-CyqvOuOg-1746419818373.js";function N({title:n,image:i,subcategories:t,slug:c}){const a=f();console.log("Products in ProductSection:",t);const d=r=>{a(`/${c}/${r}`)};return e.jsxs("div",{className:"lg:mb-12 mt-5",children:[e.jsxs("div",{className:"flex  custom930:flex-row  items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-[#0a3161] mb-2",children:n}),e.jsx("div",{className:"h-1 w-16 bg-[#0a3161] "})]}),e.jsxs(m,{className:"flex items-center gap-2 text-[#e95821] font-semibold",to:`/${c}`,children:["View All ",e.jsx(j,{className:""})]})]}),e.jsxs("div",{className:"flex  gap-6",children:[e.jsx("div",{className:"flex-shrink shadow-lg shadow-blue-300 rounded-md border ",children:e.jsx("div",{className:"w-64 h-64 p-5 m-4 overflow-hidden group relative",children:e.jsx("img",{src:i||"/placeholder.svg",alt:n,className:"w-full h-full object-cover rounded-md transform transition-transform duration-500 group-hover:scale-110 "})})}),e.jsx("div",{className:"flex-grow",children:e.jsx("div",{className:"flex flex-col gap-2 max-h-[300px] overflow-y-auto pr-2 scrollbar",children:t&&t.length>0?t.map((r,x)=>e.jsx("p",{className:"bg-gray-100 shadow-sm py-2 px-5 text-sm rounded-md hover:text-[#2b60d9] cursor-pointer",onClick:()=>d(r.slug),children:r.category},x)):e.jsx("p",{className:"text-gray-500 bg-gray-200 py-2 px-5 text-sm rounded-md",children:"No products available for this category."})})})]})]})}function w(){const[n,i]=o.useState([]),[t,c]=o.useState(!0),[a,d]=o.useState([]),[r,x]=o.useState(!0),h=location.pathname.replace(/^\//,"")||"introduction";return o.useEffect(()=>{(async()=>{try{const s=await u.get(`/api/banner/getByPageSlug?pageSlug=${h}`);console.log(s.data),d(s.data||[])}catch(s){console.error("Failed to fetch banner:",s)}finally{x(!1)}})()},[h]),o.useEffect(()=>{(async()=>{try{const g=(await u.get("/api/chemicalCategory/getAllCategoriesWithProducts")).data;console.log("Fetched categories with products:",g),i(g)}catch(s){console.error("Error fetching categories with products:",s)}finally{c(!1)}})()},[]),t||r?e.jsx("p",{className:"text-center",children:"Loading..."}):e.jsxs("div",{children:[e.jsxs("div",{className:"relative",children:[a&&a.length>0?e.jsx(p,{imageUrl:`/api/image/download/${a[0].image}`,title:a[0].title}):e.jsx(p,{imageUrl:v}),e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 mt-5 z-10",children:e.jsxs("nav",{className:" px-4 py-2 rounded-md text-white text-sm sm:text-md font-semibold",children:[e.jsx(m,{to:"/",children:e.jsx("span",{className:"    text-[12px] sm:text-[15px]",children:"Home"})}),e.jsx("span",{className:"mx-2",children:"/"}),e.jsx(m,{to:"#",children:e.jsx("span",{className:"    text-[12px] sm:text-[15px]",children:"Product"})})]})})]}),e.jsx("div",{className:"container mx-auto px-4 max-w-7xl pt-10",children:e.jsx("h2",{className:"text-4xl text-[#0a3161] font-bold mb-3",children:"Our Categories"})}),e.jsx("div",{className:"container mx-auto px-4 grid grid-cols-1 lg:grid-cols-2 pb-8 max-w-7xl lg:gap-10",children:n.length===0?e.jsx("p",{children:"No categories found."}):n.map((l,s)=>e.jsx("div",{children:e.jsx(N,{title:l.category,image:`/api/logo/download/${l.photo}`,subcategories:l.subCategories||[],slug:l.slug})},s))})]})}export{w as default};
