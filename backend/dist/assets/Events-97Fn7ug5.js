import{j as e}from"./main-DbCIA5nM.js";import{b as t}from"./vendor-X2E3PIZN.js";import{a as s}from"./utils-ZFgnvnbw.js";import{R as i}from"./quill.snow-BtYlbvM3.js";import{F as r}from"./index-BGrTmilS.js";import{B as a}from"./index-CvhnQ2ZS.js";import{s as n}from"./index-BQxUT-WV.js";import"./isEqual-12EnfSUl.js";import"./toArray-DIarnBRF.js";import"./objectSpread2-C2mPdFQ-.js";import"./AntdIcon-Bc_RgQsY.js";import"./index-BJvm14ET.js";import"./CheckCircleFilled-vSnFSXRd.js";import"./ExclamationCircleFilled-jOtwz4nB.js";import"./InfoCircleFilled-BiVI0bqr.js";const l=()=>{const[l]=r.useForm(),[o,m]=t.useState(""),[d,c]=t.useState(null),[u,p]=t.useState(!1),v=async()=>{try{p(!0);const e=(await s.get(`/api/events/getEvent?t=${(new Date).getTime()}`)).data[0];c(e._id),m(e.events),l.setFieldsValue({events:e.events})}catch(e){n.error("Failed to fetch event.")}finally{p(!1)}};t.useEffect((()=>{v()}),[l]);return e.jsxs(r,{form:l,layout:"vertical",onFinish:async()=>{try{if(!d)return void n.error("No event ID available");p(!0),await s.put(`/api/events/editEvent/${d}`,{events:o}),n.success("Event updated successfully!"),await v()}catch(e){n.error("Failed to update event.")}finally{p(!1)}},name:"event_form",children:[e.jsx(r.Item,{name:"events",label:"Event Description",rules:[{required:!0,message:"Please input the event details!"}],children:e.jsx(i,{value:o,onChange:e=>{m(e),l.setFieldsValue({events:e})},modules:{toolbar:[["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],["link","image"]]}})}),e.jsxs(r.Item,{children:[e.jsx(a,{type:"primary",htmlType:"submit",loading:u,children:"Update Event"}),e.jsx(a,{onClick:v,style:{marginLeft:8},loading:u,children:"Refresh Data"})]})]})};export{l as default};
//# sourceMappingURL=Events-97Fn7ug5.js.map
