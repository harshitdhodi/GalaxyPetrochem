import{j as e}from"./main-DbCIA5nM.js";import{b as a,j as t,f as s,L as r,R as i}from"./vendor-X2E3PIZN.js";import{a as l}from"./utils-ZFgnvnbw.js";import{F as d}from"./index-BGrTmilS.js";import{B as m}from"./Breadcrumb-DZWgOyzs.js";import{S as n}from"./index-TlfG7RwS.js";import{I as o}from"./index-C8xsCgg9.js";import{B as c}from"./index-CvhnQ2ZS.js";import{s as p}from"./index-BQxUT-WV.js";import"./toArray-DIarnBRF.js";import"./objectSpread2-C2mPdFQ-.js";import"./AntdIcon-Bc_RgQsY.js";import"./index-BJvm14ET.js";import"./CheckCircleFilled-vSnFSXRd.js";import"./ExclamationCircleFilled-jOtwz4nB.js";import"./dropdown-C2Lyn6ws.js";import"./index-Cie-PtDs.js";import"./getAllowClear-CF0z5FWe.js";import"./CheckOutlined-qoM0f-f3.js";import"./Input-DzV7KJ8a.js";import"./EyeOutlined-D6toRaq1.js";import"./TextArea-BQkixvnv.js";import"./InfoCircleFilled-BiVI0bqr.js";const{Option:j}=n,u=()=>{const[u]=d.useForm(),[g,h]=a.useState([]),[x,y]=a.useState(!0),{id:f}=t(),b=s();a.useEffect((()=>{(async()=>{try{const e=await l.get("/api/menulist/get-menu");e.data&&Array.isArray(e.data.data)&&h(e.data.data)}catch(e){}finally{y(!1)}})()}),[]),a.useEffect((()=>{f&&l.get(`/api/meta/get-meta/${f}`).then((e=>{if(e.data&&e.data.success){const a=e.data.data;u.setFieldsValue({pageName:a.pageName,pageSlug:a.pageSlug,metaTitle:a.metaTitle,metaDescription:a.metaDescription,metaKeyword:a.metaKeyword})}})).catch((e=>{}))}),[f,u]);return e.jsxs("div",{children:[e.jsxs(m,{style:{marginBottom:20},children:[e.jsx(m.Item,{children:e.jsx(r,{to:"/dashboard",children:"Dashboard"})}),e.jsx(m.Item,{children:e.jsx(r,{to:"/meta-table",children:"Meta List"})}),e.jsx(m.Item,{children:f?"Edit Meta":"Add Meta"})]}),e.jsxs(d,{form:u,layout:"vertical",onFinish:async e=>{try{f?(await l.put(`/api/meta/update-meta/${f}`,e),p.success("Meta data updated successfully!")):(await l.post("/api/meta/add-meta",e),p.success("Meta data added successfully!"),u.resetFields()),b("/meta-table")}catch(a){p.error("Failed to save meta data.")}},children:[e.jsx(d.Item,{name:"pageName",label:"Page Name",rules:[{required:!0,message:"Please select a page"}],children:e.jsxs(n,{placeholder:"Select a page",loading:x,onChange:e=>{const a=e.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"");u.setFieldsValue({pageSlug:a})},children:[e.jsx(j,{value:"Static Page",children:"Static Page"}),g.map((a=>e.jsxs(i.Fragment,{children:[e.jsx(j,{value:a.parent.name,style:{fontWeight:"bold"},children:a.parent.name}),a.children.map((a=>e.jsxs(i.Fragment,{children:[e.jsxs(j,{value:a.name,style:{paddingLeft:20},children:["├── ",a.name]}),a.subChildren.map((a=>e.jsxs(j,{value:a.name,style:{paddingLeft:40},children:["├──── ",a.name]},a._id)))]},a._id)))]},a._id)))]})}),e.jsx(d.Item,{name:"pageSlug",label:"Page Slug",rules:[{required:!0,message:"Slug is required"}],children:e.jsx(o,{placeholder:"Auto-generated slug"})}),e.jsx(d.Item,{name:"metaTitle",label:"Meta Title",rules:[{required:!0,message:"Please enter meta title"}],children:e.jsx(o,{placeholder:"Enter Meta Title"})}),e.jsx(d.Item,{name:"metaDescription",label:"Meta Description",rules:[{required:!0,message:"Please enter meta description"}],children:e.jsx(o.TextArea,{placeholder:"Enter Meta Description",rows:4})}),e.jsx(d.Item,{name:"metaKeyword",label:"Meta Keywords",rules:[{required:!0,message:"Please enter meta keywords"}],children:e.jsx(o,{placeholder:"Enter Meta Keywords"})}),e.jsx(d.Item,{children:e.jsx(c,{type:"primary",htmlType:"submit",children:f?"Update Meta":"Add Meta"})})]})]})};export{u as default};
//# sourceMappingURL=StaticMetaForm-BrVTelar.js.map
