{"version":3,"file":"MenuListingForm-BlARWtkM.js","sources":["../../node_modules/@ant-design/icons-svg/es/asn/MinusCircleOutlined.js","../../node_modules/@ant-design/icons/es/icons/MinusCircleOutlined.js","../../src/websiteBackend/MenuListing/MenuListingForm.jsx"],"sourcesContent":["// This icon file is generated automatically.\nvar MinusCircleOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z\" } }] }, \"name\": \"minus-circle\", \"theme\": \"outlined\" };\nexport default MinusCircleOutlined;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport MinusCircleOutlinedSvg from \"@ant-design/icons-svg/es/asn/MinusCircleOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar MinusCircleOutlined = function MinusCircleOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: MinusCircleOutlinedSvg\n  }));\n};\n\n/**![minus-circle](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTY5NiA0ODBIMzI4Yy00LjQgMC04IDMuNi04IDh2NDhjMCA0LjQgMy42IDggOCA4aDM2OGM0LjQgMCA4LTMuNiA4LTh2LTQ4YzAtNC40LTMuNi04LTgtOHoiIC8+PHBhdGggZD0iTTUxMiA2NEMyNjQuNiA2NCA2NCAyNjQuNiA2NCA1MTJzMjAwLjYgNDQ4IDQ0OCA0NDggNDQ4LTIwMC42IDQ0OC00NDhTNzU5LjQgNjQgNTEyIDY0em0wIDgyMGMtMjA1LjQgMC0zNzItMTY2LjYtMzcyLTM3MnMxNjYuNi0zNzIgMzcyLTM3MiAzNzIgMTY2LjYgMzcyIDM3Mi0xNjYuNiAzNzItMzcyIDM3MnoiIC8+PC9zdmc+) */\nvar RefIcon = /*#__PURE__*/React.forwardRef(MinusCircleOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'MinusCircleOutlined';\n}\nexport default RefIcon;","import React, { useEffect } from \"react\";\r\nimport { Form, Input, Button, Space, Card } from \"antd\";\r\nimport { MinusCircleOutlined, PlusOutlined } from \"@ant-design/icons\";\r\nimport { useCreateMenuListingMutation, useUpdateMenuListingMutation, useGetMenuListingByIdQuery, useGetAllMenuListingsQuery } from \"@/slice/menuListing/menuList\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\n\r\nconst MenuListingForm = () => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  \r\n  const [form] = Form.useForm();\r\n  \r\n  const { data, isLoading } = useGetMenuListingByIdQuery(id, { skip: !id });\r\n  const { refetch: refetchAllMenuListings } = useGetAllMenuListingsQuery();\r\n  const [createMenuListing] = useCreateMenuListingMutation();\r\n  const [updateMenuListing] = useUpdateMenuListingMutation();\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      form.setFieldsValue(data.data);\r\n    }\r\n  }, [data, form]);\r\n\r\n  const handleSubmit = async (values) => {\r\n    if (id) {\r\n      await updateMenuListing({ id, ...values });\r\n    } else {\r\n      await createMenuListing(values);\r\n    }\r\n    await refetchAllMenuListings();\r\n    navigate(\"/menu-listing-table\");\r\n  };\r\n\r\n  if (isLoading) return <p>Loading...</p>;\r\n\r\n  return (\r\n    <Card title={id ? \"Update Menu Listing\" : \"Create Menu Listing\"} bordered={false}>\r\n      <Form form={form} layout=\"vertical\" onFinish={handleSubmit} initialValues={{ children: [] }}>\r\n        \r\n        {/* Parent Menu */}\r\n        <Card title=\"Parent Menu\" bordered={true} style={{ marginBottom: \"20px\" }}>\r\n          <Form.Item name={[\"parent\", \"name\"]} label=\"Name\" rules={[{ required: true, message: \"Please enter parent menu name\" }]}>\r\n            <Input placeholder=\"Enter parent menu name\" />\r\n          </Form.Item>\r\n          <Form.Item name={[\"parent\", \"path\"]} label=\"Path\" rules={[{ required: true, message: \"Please enter parent menu path\" }]}>\r\n            <Input placeholder=\"Enter parent menu path\" />\r\n          </Form.Item>\r\n        </Card>\r\n\r\n        {/* Children Menus */}\r\n        <Form.List name=\"children\">\r\n          {(fields, { add, remove }) => (\r\n            <Card title=\"Children Menus\" bordered={true}>\r\n              {fields.map(({ key, name, ...restField }) => (\r\n                <Card key={key} bordered={true} style={{ marginBottom: \"15px\" }}>\r\n                  <Space align=\"baseline\">\r\n                    <Form.Item {...restField} name={[name, \"name\"]} label=\"Child Name\" rules={[{ required: true, message: \"Enter child name\" }]}>\r\n                      <Input placeholder=\"Enter child name\" />\r\n                    </Form.Item>\r\n                    <Form.Item {...restField} name={[name, \"path\"]} label=\"Child Path\" rules={[{ required: true, message: \"Enter child path\" }]}>\r\n                      <Input placeholder=\"Enter child path\" />\r\n                    </Form.Item>\r\n                    <MinusCircleOutlined onClick={() => remove(name)} />\r\n                  </Space>\r\n\r\n                  {/* SubChildren */}\r\n                  <Form.List name={[name, \"subChildren\"]}>\r\n                    {(subFields, { add: addSub, remove: removeSub }) => (\r\n                      <Card title=\"Sub-Children\" bordered={true}>\r\n                        {subFields.map(({ key: subKey, name: subName, ...subRestField }) => (\r\n                          <Space key={subKey} align=\"baseline\">\r\n                            <Form.Item {...subRestField} name={[subName, \"name\"]} label=\"Sub-Child Name\" rules={[{ required: true, message: \"Enter sub-child name\" }]}>\r\n                              <Input placeholder=\"Enter sub-child name\" />\r\n                            </Form.Item>\r\n                            <Form.Item {...subRestField} name={[subName, \"path\"]} label=\"Sub-Child Path\" rules={[{ required: true, message: \"Enter sub-child path\" }]}>\r\n                              <Input placeholder=\"Enter sub-child path\" />\r\n                            </Form.Item>\r\n                            <MinusCircleOutlined onClick={() => removeSub(subName)} />\r\n                          </Space>\r\n                        ))}\r\n                        <Button type=\"dashed\" onClick={() => addSub()} block icon={<PlusOutlined />}>\r\n                          Add Sub-Child\r\n                        </Button>\r\n                      </Card>\r\n                    )}\r\n                  </Form.List>\r\n                </Card>\r\n              ))}\r\n              <Button type=\"dashed\" onClick={() => add()} block icon={<PlusOutlined />}>\r\n                Add Child\r\n              </Button>\r\n            </Card>\r\n          )}\r\n        </Form.List>\r\n\r\n        <Button type=\"primary\" htmlType=\"submit\" style={{ marginTop: \"20px\" }}>\r\n          {id ? \"Update\" : \"Create\"}\r\n        </Button>\r\n      </Form>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default MenuListingForm;"],"names":["MinusCircleOutlined","icon","tag","attrs","viewBox","focusable","children","d","name","theme","props","ref","createElement","AntdIcon","_extends","MinusCircleOutlinedSvg","RefIcon","React.forwardRef","forwardRef","MenuListingForm","id","useParams","navigate","useNavigate","form","Form","useForm","data","isLoading","useGetMenuListingByIdQuery","skip","refetch","refetchAllMenuListings","useGetAllMenuListingsQuery","createMenuListing","useCreateMenuListingMutation","updateMenuListing","useUpdateMenuListingMutation","useEffect","setFieldsValue","jsx","Card","title","bordered","jsxs","layout","onFinish","async","values","initialValues","style","marginBottom","Item","label","rules","required","message","Input","placeholder","List","fields","add","remove","map","key","restField","Space","align","onClick","subFields","addSub","removeSub","subKey","subName","subRestField","Button","type","block","PlusOutlined","htmlType","marginTop"],"mappings":"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","x_google_ignoreList":[0,1]}