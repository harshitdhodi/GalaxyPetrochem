import{r as a,bS as T,z as q,j as e,bT as E,bU as $,B as C,bV as _,av as R,ax as H,ay as O,az as z,bW as U,X as W,f as A,L as I,g as F,u as B}from"./index-pxV5F7Vk-1745663305082.js";import{R as G}from"./recaptcha-wrapper-CYkjMUXn-1745663305082.js";import{P}from"./index-DDd-nLD9-1745663305082.js";var V={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M713.5 599.9c-10.9-5.6-65.2-32.2-75.3-35.8-10.1-3.8-17.5-5.6-24.8 5.6-7.4 11.1-28.4 35.8-35 43.3-6.4 7.4-12.9 8.3-23.8 2.8-64.8-32.4-107.3-57.8-150-131.1-11.3-19.5 11.3-18.1 32.4-60.2 3.6-7.4 1.8-13.7-1-19.3-2.8-5.6-24.8-59.8-34-81.9-8.9-21.5-18.1-18.5-24.8-18.9-6.4-.4-13.7-.4-21.1-.4-7.4 0-19.3 2.8-29.4 13.7-10.1 11.1-38.6 37.8-38.6 92s39.5 106.7 44.9 114.1c5.6 7.4 77.7 118.6 188.4 166.5 70 30.2 97.4 32.8 132.4 27.6 21.3-3.2 65.2-26.6 74.3-52.5 9.1-25.8 9.1-47.9 6.4-52.5-2.7-4.9-10.1-7.7-21-13z"}},{tag:"path",attrs:{d:"M925.2 338.4c-22.6-53.7-55-101.9-96.3-143.3a444.35 444.35 0 00-143.3-96.3C630.6 75.7 572.2 64 512 64h-2c-60.6.3-119.3 12.3-174.5 35.9a445.35 445.35 0 00-142 96.5c-40.9 41.3-73 89.3-95.2 142.8-23 55.4-34.6 114.3-34.3 174.9A449.4 449.4 0 00112 714v152a46 46 0 0046 46h152.1A449.4 449.4 0 00510 960h2.1c59.9 0 118-11.6 172.7-34.3a444.48 444.48 0 00142.8-95.2c41.3-40.9 73.8-88.7 96.5-142 23.6-55.2 35.6-113.9 35.9-174.5.3-60.9-11.5-120-34.8-175.6zm-151.1 438C704 845.8 611 884 512 884h-1.7c-60.3-.3-120.2-15.3-173.1-43.5l-8.4-4.5H188V695.2l-4.5-8.4C155.3 633.9 140.3 574 140 513.7c-.4-99.7 37.7-193.3 107.6-263.8 69.8-70.5 163.1-109.5 262.8-109.9h1.7c50 0 98.5 9.7 144.2 28.9 44.6 18.7 84.6 45.6 119 80 34.3 34.3 61.3 74.4 80 119 19.4 46.2 29.1 95.2 28.9 145.8-.6 99.6-39.7 192.9-110.1 262.7z"}}]},name:"whats-app",theme:"outlined"},Y=function(r,t){return a.createElement(T,q({},r,{ref:t,icon:V}))},Q=a.forwardRef(Y);function X({images:s,selectedImage:r,setSelectedImage:t}){var l,o;return console.log(s),e.jsxs("div",{className:"sm:w-[80%] md:w-[100%] mb-5 lg:mb-0",children:[e.jsx("div",{className:"border items-center flex justify-center p-5 overflow-hidden mb-4 lg:h-[400px] md:h-[300px] h-[200px]",children:e.jsx("img",{src:(l=s[r])!=null&&l.url?`/api/image/download/${s[r].url}`:"https://via.placeholder.com/300x300?text=No+Image+Available",alt:((o=s[r])==null?void 0:o.alt)||"Chemical bottles with blue liquid",className:"w-full h-full object-contain"})}),e.jsx("div",{className:"flex gap-4",children:s.map((n,i)=>e.jsx("button",{onClick:()=>t(i),className:`border px-3 overflow-hidden w-26 h-24 ${r===i?"border-primary":""}`,children:e.jsx("img",{src:n.url?`/api/image/download/${n.url}`:"https://via.placeholder.com/150x150?text=No+Thumbnail",alt:n.alt||`Thumbnail ${i+1}`,className:"w-full h-full object-cover"})},i))})]})}function Z({tagline:s,productDetails:r,name:t,price:l,categorySlug:o}){const{extractedPContent:n,remainingContent:i}=a.useMemo(()=>{const c=document.createElement("div");c.innerHTML=r;const d=c.querySelector("p"),x=c.querySelector("table");let u="";return d&&(!x||d.compareDocumentPosition(x)&Node.DOCUMENT_POSITION_FOLLOWING)&&(u=d.innerHTML,d.remove()),{extractedPContent:u,remainingContent:c.innerHTML}},[r]);return e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"text-2xl font-bold text-[#2e60d7] ",children:t}),e.jsx("p",{className:"text-lg font-bold mb-4 text-[#3a6ada]",children:s}),n&&e.jsx("p",{className:"extracted-paragraph text-md text-gray-900",dangerouslySetInnerHTML:{__html:n}}),e.jsx("style",{jsx:!0,global:!0,children:`
        
        .custom-product-details table {
          width: max-content;
          min-width: 100%;
          table-layout: fixed;
          border-collapse: collapse;
        }
        .custom-product-details {
          max-width: 100%;
          overflow-x-auto;
        }
        .custom-product-details tr:nth-child(odd) {
          background-color: #f5f9ff !important;
        }
        .custom-product-details tr:nth-child(even) {
          background-color: white !important;
        }
        .custom-product-details td {
          padding: 12px !important;
          font-size: 16px !important;
          line-height: 20px !important;
          text-align: left !important;
          color: black !important;
          word-wrap: break-word;
          overflow: hidden;
          text-overflow: ellipsis;
        }
        .custom-product-details td:first-child {
          color: #145bc7 !important;
          width: 25%;
          min-width: 120px;
        }
        .custom-product-details td:nth-child(2) {
          width: 75%;
          max-width: 300px;
          word-break: break-word;
        }
        .custom-product-details table,
        .custom-product-details td {
          border: none !important;
        }
        @media (max-width: 640px) {
          .custom-product-details td {
            font-size: 14px !important;
            padding: 8px !important;
            white-space: normal;
            max-width: 100px !important;
          }
          .custom-product-details table {
            table-layout: auto !important;
          }
        }
      `})]})}function J({msds:s,specs:r,name:t,onInquiry:l}){const{data:o,isLoading:n}=E(),{data:i,isLoading:c}=$(),[d,x]=a.useState(""),[u,j]=a.useState("");a.useEffect(()=>{o&&o.length>0&&(x(o[0].number),j(`Hi, I'm interested in ${t}`))},[o,t]);const p=()=>{const f=`https://wa.me/${d}?text=${encodeURIComponent(u)}`;window.open(f,"_blank")};return n||c?e.jsx("div",{children:"Loading..."}):e.jsxs("div",{className:"mt-12 bg-gradient-to-r from-blue-50 to-blue-100 p-5 shadow-md",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-6 text-blue-900 border-b border-blue-200 pb-3",children:[t," MSDS (Material Safety Data Sheet) or SDS, COA and Specs"]}),e.jsxs("div",{className:"flex flex-wrap gap-4 mb-3",children:[i&&i.length>0?i.map(f=>e.jsx("div",{className:"w-full md:w-1/3 lg:w-1/4",children:e.jsx(C,{onClick:()=>window.open(`/api/image/view/${r}`,"_blank"),className:"w-full bg-[#e85920] hover:bg-[#0f7aa8] transition-colors duration-300 text-white text-md py-2",children:"Catalogue"})},f._id)):e.jsx("div",{children:"No catalogues available for download."}),e.jsx(C,{onClick:()=>window.open(`/api/image/view/${s}`,"_blank"),className:"w-full md:w-1/4 bg-[#e95821] hover:bg-[#e85920] transition-colors duration-300 text-white text-md py-5 flex items-center gap-2",children:"MSDS"}),e.jsx(C,{onClick:l,className:"w-full md:w-1/4 bg-[#e85920] hover:bg-[#e95821] transition-colors duration-300 text-white text-md py-5 flex items-center gap-2",children:"Inquiry Now"}),e.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:opacity-80 transition-opacity",onClick:p,children:[e.jsx(Q,{className:"text-4xl text-green-500"})," "]})]})]})}function K({global_tagline:s,name:r,cas:t}){return e.jsxs("div",{className:"mt-8 border rounded-lg p-4 bg-orange-500/10 border-orange-600 flex justify-center items-center gap-4",children:[e.jsx("div",{className:"w-16",children:e.jsx("img",{src:"https://img.freepik.com/free-vector/illustration-india-flag_53876-27130.jpg?w=64&h=64",alt:"Made in India",className:"w-full h-auto"})}),e.jsxs("p",{className:"font-medium",children:[s," ",r," | ",t]})]})}function D({productName:s,onClose:r}){const[t,l]=a.useState(""),[o,n]=a.useState(""),[i,c]=a.useState(""),[d,x]=a.useState(""),[u,j]=a.useState(""),[p,f]=a.useState(null),[v,w]=a.useState(!1),[N,y]=a.useState(""),[g,h]=a.useState(!1),[b]=_(),S=async m=>{var k;if(m.preventDefault(),!p){y("Please complete the reCAPTCHA.");return}w(!0),y("");try{await b({name:t,email:o,phone:i,subject:d,message:u,productName:s,captchaToken:p}).unwrap(),h(!0),w(!1),l(""),n(""),c(""),x(""),j(""),f(null),r()}catch(M){y(((k=M.data)==null?void 0:k.message)||"Failed to submit inquiry. Please try again."),w(!1)}};return e.jsxs("div",{className:"fixed inset-0 top-[16%] flex items-center justify-center bg-black bg-opacity-50 p-4",children:[e.jsxs("div",{className:"bg-white p-6 rounded-md shadow-2xl w-full max-w-2xl",children:[e.jsx("h2",{className:"text-xl font-bold mb-6 text-gray-800 border-b pb-4",children:`Inquiry for ${s}`}),e.jsxs("form",{onSubmit:S,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm font-semibold mb-2",children:"Name"}),e.jsx("input",{type:"text",value:t,onChange:m=>l(m.target.value),className:"w-full border border-gray-300 p-2 rounded-lg focus:ring-2 focus:ring-blue-400 focus:border-transparent transition duration-200",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm font-semibold mb-2",children:"Email"}),e.jsx("input",{type:"email",value:o,onChange:m=>n(m.target.value),className:"w-full border border-gray-300 p-2 rounded-lg focus:ring-2 focus:ring-blue-400 focus:border-transparent transition duration-200",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm font-semibold mb-2",children:"Phone No"}),e.jsx("input",{type:"text",value:i,onChange:m=>c(m.target.value),className:"w-full border border-gray-300 p-2 rounded-lg focus:ring-2 focus:ring-blue-400 focus:border-transparent transition duration-200",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm font-semibold mb-2",children:"Subject"}),e.jsx("input",{type:"text",value:d,onChange:m=>x(m.target.value),className:"w-full border border-gray-300 p-2 rounded-lg focus:ring-2 focus:ring-blue-400 focus:border-transparent transition duration-200",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm font-semibold mb-2",children:"Message"}),e.jsx("textarea",{value:u,onChange:m=>j(m.target.value),className:"w-full border border-gray-300 p-2 rounded-lg transition duration-200 h-24",required:!0})]}),e.jsxs("div",{className:"flex flex-col  space-y-4",children:[e.jsx(G,{sitekey:"6Lfc_AQrAAAAACZeHEU6zFrGBNcdeni4-s3Ebx93",onChange:m=>f(m),className:"w-full max-w-xs"}),N&&e.jsx("p",{className:"text-red-500 text-sm",children:N})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",className:"bg-gray-500 hover:bg-gray-600 w-1/3 md:w-1/4 text-white px-4 py-2 rounded-md transition duration-200",onClick:r,disabled:v,children:"Cancel"}),e.jsx("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 w-1/3 md:w-1/4 rounded-md transition duration-200 disabled:opacity-50 disabled:cursor-not-allowed",disabled:!p||v,children:v?"Submitting...":"Submit"})]})]})]}),e.jsx(R,{open:g,onOpenChange:h,children:e.jsxs(H,{className:"bg-white max-w-md p-6",children:[e.jsxs(O,{children:[e.jsx(z,{className:"text-green-700 text-xl font-bold",children:"Thank You!"}),e.jsx(U,{className:"absolute right-4 top-4 text-gray-700",children:e.jsx(W,{size:20})})]}),e.jsxs("div",{className:"text-gray-800 mt-2",children:[e.jsx("p",{className:"mb-2",children:"Your message has been successfully sent."}),e.jsx("p",{children:"We will get back to you soon."})]})]})})]})}const ee=()=>{const[s,r]=a.useState([]),{slug:t}=A();return a.useEffect(()=>{(async()=>{var o;try{const n=await F.get(`/api/petrochemProduct/getRecentProductsByCategorySlug?slug=${t}`);console.log(n.data),r(((o=n.data)==null?void 0:o.slice(0,6))||[])}catch(n){console.error("Error fetching recent products:",n)}})()},[t]),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl lg:text-3xl font-bold mb-2 text-blue-900",children:"Recent Products"}),e.jsx("div",{className:"w-[10%] h-1 bg-blue-800"})]}),s.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:s.map(l=>{var o,n,i,c;return e.jsx(I,{to:`/${l.slug}`,className:`group bg-white overflow-hidden shadow-lg hover:shadow-balck/70 hover:shadow-2xl \r
              transition-all duration-300 transform hover:-translate-y-1`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"relative  bg-gray-50",children:e.jsx("div",{className:"flex-shrink-0 border bg-[#2b60d9]",children:e.jsx("div",{className:"w-52 h-52 ml-9 rounded-full m-4  border overflow-hidden",children:e.jsx("img",{src:(n=(o=l.images)==null?void 0:o[0])!=null&&n.url?`/api/image/download/${l.images[0].url}`:"/placeholder.jpg",alt:((c=(i=l.images)==null?void 0:i[0])==null?void 0:c.altText)||l.name,className:"w-full h-full  object-cover transition-transform duration-300 group-hover:scale-105"})})})}),e.jsxs("div",{className:"w-2/3 p-4 bg-gradient-to-br from-blue-50 to-white",children:[e.jsx("h3",{className:"text-xl font-bold text-blue-900 mb-1",children:l.name}),e.jsxs("p",{className:"text-sm text-blue-700 mb-1 font-semibold",children:["Category: ",l.categoryId.category]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-3 font-medium",children:["Brand: ",l.brandId.name]}),l.table&&e.jsx("div",{className:"text-sm text-gray-700 space-y-1",dangerouslySetInnerHTML:{__html:l.table.replace(/border:\s?1px\s?solid[^;]+;/g,"").replace(/<table[^>]*>/g,"<div class='space-y-1'>").replace(/<\/table>/g,"</div>").replace(/<tbody>|<\/tbody>/g,"").replace(/<tr>/g,"<div class='flex space-x-2'>").replace(/<\/tr>/g,"</div>").replace(/<td[^>]*>(.*?)<\/td>\s*<td[^>]*>(.*?)<\/td>/g,"<span class='font-semibold text-blue-800'>$1:</span><span class='text-gray-800'>$2</span>").split("</div>").slice(0,2).join("</div>")}})]})]})},l._id)})}):e.jsx("p",{className:"text-center text-gray-500",children:"No recent products found."})]})};function L({chemicals:s="",slug:r="",categorySlug:t=""}){return console.log(r),e.jsx("nav",{className:"pt-5 sm:text-xs md:text-sm  lg:text-base text-md pb-3 w-full mb-5 py-2 ",children:e.jsxs("ul",{className:"flex gap-2 flex-wrap",children:[e.jsx("li",{children:e.jsx(I,{to:"/",className:"text-[#000] hover:text-[#000]",children:"Home"})}),e.jsx("li",{className:"text-[#000]",children:">"}),e.jsx("li",{children:e.jsx(I,{to:"/categories",className:"text-[#000] hover:text-[#000]",children:"Products"})}),s&&e.jsx("li",{className:"text-secondary",children:">"}),s&&e.jsx("li",{children:e.jsx(I,{to:`/${r}`,className:"text-[#000] hover:text-[#000]",children:s.charAt(0).toUpperCase()+s.slice(1).toLowerCase()})}),t&&e.jsx("li",{className:"text-[#e95821]",children:">"}),t&&e.jsx("li",{children:e.jsx("span",{className:"text-[#e95821]",children:t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()})})]})})}L.propTypes={chemicals:P.string.isRequired,categorySlug:P.string.isRequired,selectedLetter:P.string};function re(){var w,N,y;const[s,r]=a.useState(0),[t,l]=a.useState(null),[o,n]=a.useState(!0),[i,c]=a.useState(!1),[d,x]=a.useState(!1),{slug:u}=A(),j=B();a.useEffect(()=>{u&&(async()=>{try{n(!0),c(!1);const h=await fetch(`/api/petrochemProduct/getbySlug?slug=${u}`),b=await h.json();if(console.log(b),!h.ok)throw new Error("Failed to fetch product data");if(!b||b.length===0){j("/404",{replace:!0});return}l(b[0])}catch(h){console.error("Error fetching product data:",h),c(!0)}finally{n(!1)}})()},[u,j]),a.useEffect(()=>(document.body.style.overflow=d?"hidden":"unset",()=>{document.body.style.overflow="unset"}),[d]),a.useEffect(()=>{var h;const g="Product Details";if((h=t==null?void 0:t.meta)!=null&&h.title){document.title=`${t.meta.title} - Product Details`;let b=document.querySelector('meta[name="description"]');if(b)b.setAttribute("content",t.meta.description||`Details about ${t.name}`);else{const S=document.createElement("meta");S.setAttribute("name","description"),S.setAttribute("content",t.meta.description||`Details about ${t.name}`),document.head.appendChild(S)}}else document.title=o?"Loading...":g;return()=>{document.title=g}},[t,o]);const p="https://via.placeholder.com/300x300?text=No+Image+Available",f=(w=t==null?void 0:t.images)!=null&&w.length?t.images.map(g=>({url:g.url||p,alt:g.alt||"Product Image",title:g.title||"Product Image"})):[{url:p,alt:"No Image Available",title:"No Image"}],v=(t==null?void 0:t.details)||"";return i?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[e.jsx("p",{className:"text-red-600 font-semibold",children:"Error fetching product data."}),e.jsx(C,{onClick:()=>window.location.reload(),className:"mt-4",children:"Retry"})]}):e.jsxs("div",{className:"max-w-7xl mx-auto mb-10 px-4 py-2 relative",children:[d&&e.jsx("div",{className:"fixed inset-0  z-50 flex items-center justify-center",children:e.jsx(D,{productName:t==null?void 0:t.name,onClose:()=>x(!1)})}),o?e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-blue-500"})}):e.jsxs(e.Fragment,{children:[e.jsx(L,{chemicals:(N=t==null?void 0:t.categoryId)==null?void 0:N.category,slug:(y=t==null?void 0:t.categoryId)==null?void 0:y.slug,categorySlug:t==null?void 0:t.name}),e.jsxs("div",{className:"lg:flex gap-12",children:[e.jsx(X,{images:f,selectedImage:s,setSelectedImage:r}),e.jsxs("div",{className:"w-full",children:[e.jsx(Z,{productDetails:v,name:t==null?void 0:t.name,price:t==null?void 0:t.price,categorySlug:t==null?void 0:t.categorySlug,tagline:t==null?void 0:t.tagline}),e.jsx(J,{msds:t==null?void 0:t.msds,specs:t==null?void 0:t.pdf,name:t==null?void 0:t.name,onInquiry:()=>x(!0)})]})]}),e.jsxs("div",{className:"mt-12 bg-gradient-to-r from-blue-50 to-blue-100 p-8 rounded-lg shadow-md border border-blue-200",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-6 text-blue-900 border-b border-blue-200 pb-3",children:"Product Description"}),e.jsx("div",{className:`text-gray-700 bg-transparent leading-relaxed prose prose-sm max-w-none\r
    prose-headings:text-blue-900 \r
    prose-p:text-gray-600 \r
    prose-strong:text-blue-800\r
    prose-ul:list-disc \r
    prose-ul:pl-5\r
    prose-li:my-1\r
    prose-a:text-blue-600 \r
    prose-a:hover:text-blue-800`,style:{backgroundColor:"transparent"},dangerouslySetInnerHTML:{__html:(t==null?void 0:t.details)||"No description available for this product."}}),e.jsx("div",{className:"bg-transparent leading-relaxed prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:(t==null?void 0:t.tableInfo)||"No description available for this product."}})]})]}),e.jsx(ee,{}),e.jsx(K,{name:t==null?void 0:t.name})]})}export{re as default};
