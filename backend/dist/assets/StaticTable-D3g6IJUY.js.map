{"version":3,"file":"StaticTable-D3g6IJUY.js","sources":["../../src/websiteBackend/staticMetaKeyword/StaticTable.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Breadcrumb, Table, Button, Popconfirm, message } from \"antd\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { EditOutlined, DeleteOutlined } from \"@ant-design/icons\";\r\n\r\nconst MetaList = () => {\r\n  const [metaList, setMetaList] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const fetchMeta = async () => {\r\n      try {\r\n        const response = await axios.get(\"/api/meta/get-meta\");\r\n        if (response.data && Array.isArray(response.data.data)) {\r\n          setMetaList(response.data.data);\r\n        } else {\r\n          console.error(\"Unexpected API response:\", response.data);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching meta data:\", error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchMeta();\r\n  }, []);\r\n\r\n  const handleDelete = async (id) => {\r\n    try {\r\n      await axios.delete(`/api/meta/delete-meta/${id}`);\r\n      message.success(\"Meta data deleted successfully!\");\r\n      setMetaList(metaList.filter((item) => item._id !== id));\r\n    } catch (error) {\r\n      message.error(\"Failed to delete meta data.\");\r\n      console.error(\"Delete error:\", error);\r\n    }\r\n  };\r\n\r\n  const columns = [\r\n    {\r\n      title: \"Page Name\",\r\n      dataIndex: \"pageName\",\r\n      key: \"pageName\",\r\n    },\r\n    {\r\n      title: \"Meta Title\",\r\n      dataIndex: \"metaTitle\",\r\n      key: \"metaTitle\",\r\n    },\r\n    {\r\n      title: \"Meta Description\",\r\n      dataIndex: \"metaDescription\",\r\n      key: \"metaDescription\",\r\n    },\r\n    {\r\n      title: \"Meta Keywords\",\r\n      dataIndex: \"metaKeyword\",\r\n      key: \"metaKeyword\",\r\n    },\r\n    {\r\n      title: \"Actions\",\r\n      key: \"actions\",\r\n      render: (text, record) => (\r\n        <div className=\"flex space-x-2\">\r\n          <Button\r\n            type=\"link\"\r\n            icon={<EditOutlined />}\r\n            onClick={() => navigate(`/edit-meta-form/${record._id}`)}\r\n          />\r\n          <Popconfirm\r\n            title=\"Are you sure to delete this meta data?\"\r\n            onConfirm={() => handleDelete(record._id)}\r\n            okText=\"Yes\"\r\n            cancelText=\"No\"\r\n          >\r\n            <Button type=\"link\" danger icon={<DeleteOutlined />} />\r\n          </Popconfirm>\r\n        </div>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"p-6 bg-white rounded-lg shadow-md\">\r\n      <Breadcrumb className=\"mb-4\">\r\n        <Breadcrumb.Item>Home</Breadcrumb.Item>\r\n        <Breadcrumb.Item>Meta Data</Breadcrumb.Item>\r\n      </Breadcrumb>\r\n\r\n      <div className=\"flex justify-between items-center mb-4\">\r\n        <h2 className=\"text-xl font-semibold\">Static Page Meta</h2>\r\n        <Button type=\"primary\" onClick={() => navigate(\"/meta-form\")}>Add Meta</Button>\r\n      </div>\r\n\r\n      <Table\r\n        columns={columns}\r\n        dataSource={metaList}\r\n        rowKey=\"_id\"\r\n        loading={loading}\r\n        bordered\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MetaList;"],"names":["MetaList","metaList","setMetaList","useState","loading","setLoading","navigate","useNavigate","useEffect","async","response","axios","get","data","Array","isArray","error","fetchMeta","columns","title","dataIndex","key","render","text","record","jsxs","className","children","jsx","Button","type","icon","EditOutlined","onClick","_id","Popconfirm","onConfirm","id","delete","message","success","filter","item","handleDelete","okText","cancelText","danger","DeleteOutlined","Breadcrumb","Item","Table","dataSource","rowKey","bordered"],"mappings":"62BAMA,MAAMA,EAAW,KACf,MAAOC,EAAUC,GAAeC,EAAAA,SAAS,KAClCC,EAASC,GAAcF,EAAAA,UAAS,GACjCG,EAAWC,IAEjBC,EAAAA,WAAU,KACUC,WACZ,IACF,MAAMC,QAAiBC,EAAMC,IAAI,sBAC7BF,EAASG,MAAQC,MAAMC,QAAQL,EAASG,KAAKA,OACnCX,EAAAQ,EAASG,KAAKA,YAIrBG,GACyC,CAChD,QACAX,GAAW,EAAK,GAIVY,EAAA,GACT,IAEG,MAWAC,EAAU,CACd,CACEC,MAAO,YACPC,UAAW,WACXC,IAAK,YAEP,CACEF,MAAO,aACPC,UAAW,YACXC,IAAK,aAEP,CACEF,MAAO,mBACPC,UAAW,kBACXC,IAAK,mBAEP,CACEF,MAAO,gBACPC,UAAW,cACXC,IAAK,eAEP,CACEF,MAAO,UACPE,IAAK,UACLC,OAAQ,CAACC,EAAMC,IACZC,EAAAA,KAAA,MAAA,CAAIC,UAAU,iBACbC,SAAA,CAAAC,EAAAA,IAACC,EAAA,CACCC,KAAK,OACLC,WAAOC,EAAa,IACpBC,QAAS,IAAM3B,EAAS,mBAAmBkB,EAAOU,SAEpDN,EAAAA,IAACO,EAAA,CACChB,MAAM,yCACNiB,UAAW,IA5CA3B,OAAO4B,IACtB,UACI1B,EAAM2B,OAAO,yBAAyBD,KAC5CE,EAAQC,QAAQ,mCAChBtC,EAAYD,EAASwC,QAAQC,GAASA,EAAKR,MAAQG,WAC5CrB,GACPuB,EAAQvB,MAAM,8BACsB,GAqCb2B,CAAanB,EAAOU,KACrCU,OAAO,MACPC,WAAW,KAEXlB,SAAAC,EAAAA,IAACC,GAAOC,KAAK,OAAOgB,QAAM,EAACf,KAAOH,EAAAA,IAAAmB,EAAA,CAAe,YAQzD,OAAAtB,EAAAA,KAAC,MAAI,CAAAC,UAAU,oCACbC,SAAA,CAACF,EAAAA,KAAAuB,EAAA,CAAWtB,UAAU,OACpBC,SAAA,CAACC,EAAAA,IAAAoB,EAAWC,KAAX,CAAgBtB,SAAI,SACpBC,EAAAA,IAAAoB,EAAWC,KAAX,CAAgBtB,SAAS,iBAG5BF,EAAAA,KAAC,MAAI,CAAAC,UAAU,yCACbC,SAAA,CAACC,EAAAA,IAAA,KAAA,CAAGF,UAAU,wBAAwBC,SAAgB,qBACtDC,EAAAA,IAACC,GAAOC,KAAK,UAAUG,QAAS,IAAM3B,EAAS,cAAeqB,SAAQ,gBAGxEC,EAAAA,IAACsB,EAAA,CACChC,UACAiC,WAAYlD,EACZmD,OAAO,MACPhD,UACAiD,UAAQ,MAEZ"}