import{bP as e,bQ as t,j as o}from"./main-DbCIA5nM.js";import{f as r}from"./vendor-X2E3PIZN.js";import{B as i}from"./Breadcrumb-DZWgOyzs.js";import{B as s}from"./index-CvhnQ2ZS.js";import{R as a}from"./PlusOutlined-DCOYj-on.js";import{F as n}from"./Table-DuH0XXff.js";import{R as d}from"./DownloadOutlined-B6iPWVSX.js";import{S as l}from"./index-DKxChPud.js";import{R as c}from"./EditOutlined-_U-8X4qF.js";import{R as m}from"./DeleteOutlined-D5hKN4qo.js";import{s as p}from"./index-BQxUT-WV.js";import{M as j}from"./index-s4gvY70H.js";import"./utils-ZFgnvnbw.js";import"./AntdIcon-Bc_RgQsY.js";import"./objectSpread2-C2mPdFQ-.js";import"./dropdown-C2Lyn6ws.js";import"./index-Cie-PtDs.js";import"./toArray-DIarnBRF.js";import"./addEventListener-Dm19rJS7.js";import"./index-TlfG7RwS.js";import"./getAllowClear-CF0z5FWe.js";import"./CheckOutlined-qoM0f-f3.js";import"./Input-DzV7KJ8a.js";import"./index-CoLLPh3Y.js";import"./CheckCircleFilled-vSnFSXRd.js";import"./ExclamationCircleFilled-jOtwz4nB.js";import"./InfoCircleFilled-BiVI0bqr.js";import"./ActionButton-9gw_uhHA.js";import"./index-CjgsjwJv.js";import"./index-BJvm14ET.js";import"./fade-CZ8b_ilM.js";import"./Skeleton-Ds91yGkQ.js";const f=()=>{const f=r(),{data:x,isLoading:u}=e(),[h]=t(),w=[{title:"Info",key:"info",render:(e,t)=>o.jsxs("div",{children:[o.jsx("strong",{children:t.name}),o.jsx("div",{children:t.contactNo}),o.jsx("div",{style:{color:"#666"},children:t.address})]}),sorter:(e,t)=>e.name.localeCompare(t.name)},{title:"Email",dataIndex:"email",key:"email"},{title:"Post Applied For",dataIndex:"postAppliedFor",key:"postAppliedFor",sorter:(e,t)=>e.postAppliedFor.localeCompare(t.postAppliedFor)},{title:"Resume",key:"resume",render:(e,t)=>o.jsx(d,{onClick:()=>(async e=>{try{const t=e.split("/").pop(),o=await fetch(`/api/image/pdf/download/${t}`);if(!o.ok)throw new Error("Download failed");const r=await o.blob(),i=window.URL.createObjectURL(r),s=document.createElement("a");s.href=i,s.download=t,document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(i)}catch(t){p.error("Failed to download file")}})(t.resumeFile),style:{cursor:"pointer",color:"#1890ff"}})},{title:"Applied Date",dataIndex:"createdAt",key:"createdAt",render:e=>new Date(e).toLocaleDateString(),sorter:(e,t)=>new Date(e.createdAt)-new Date(t.createdAt)},{title:"Actions",key:"actions",render:(e,t)=>o.jsxs(l,{size:"middle",children:[o.jsx(c,{style:{color:"#1890ff",cursor:"pointer"},onClick:()=>(e=>{f(`/career/edit/${e._id}`)})(t)}),o.jsx(m,{style:{color:"#ff4d4f",cursor:"pointer"},onClick:()=>{return e=t._id,void j.confirm({title:"Are you sure you want to delete this application?",content:"This action cannot be undone.",okText:"Yes",okType:"danger",cancelText:"No",onOk:async()=>{try{await h(e).unwrap(),p.success("Application deleted successfully!")}catch(t){p.error(t.message||"Something went wrong")}}});var e}})]})}];return o.jsxs("div",{children:[o.jsx(i,{items:[{title:o.jsx("span",{onClick:()=>f("/dashboard"),className:"cursor-pointer",children:"Dashboard"})},{title:"Career Applications"}],className:"mb-4"}),o.jsxs("div",{className:"flex justify-between items-center mb-5",children:[o.jsx("div",{className:"text-2xl font-semibold",children:"Career List "}),o.jsx(s,{type:"primary",icon:o.jsx(a,{}),onClick:()=>f("/career/add"),style:{marginBottom:"16px"},className:"float-right",children:"Add New Application"})]}),o.jsx(n,{columns:w,dataSource:x?.data||[],loading:u,rowKey:"_id",pagination:{pageSize:10,showSizeChanger:!0,showTotal:e=>`Total ${e} applications`},scroll:{x:!0}})]})};export{f as default};
//# sourceMappingURL=CareerTable-CxbCKVvR.js.map
