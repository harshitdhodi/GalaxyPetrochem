import{da as e,eg as t,j as i,eh as s,ei as o}from"./main-CYgOQvaw.js";import{b as r}from"./vendor-BCMiqwDy.js";import{F as a}from"./Table-DE-uw6w5.js";import{S as l}from"./index-DgxO-2IE.js";import{B as n}from"./index-KxCZag0G.js";import{R as m}from"./EditOutlined-DoV0jE2u.js";import{P as d}from"./index-KhLp2M-2.js";import{R as c}from"./DeleteOutlined-UvyX438x.js";import{s as j}from"./index-8QCZ4j4K.js";import{F as p}from"./index-D5CjVNbC.js";import{M as u}from"./index-BjoAxhQz.js";import{I as y}from"./index-BXpZ5tEM.js";import{C as x}from"./index-m3rpagXu.js";import{R as g}from"./PlusOutlined-qRlhxGok.js";import"./utils-ZFgnvnbw.js";import"./styleChecker-CIIr7Nl-.js";import"./index-DXGSnt5L.js";import"./EllipsisOutlined-Cze1ZPQm.js";import"./dropdown-Bj_SuELm.js";import"./getAllowClear-BT_cn9Om.js";import"./CheckOutlined-D_PsN1dT.js";import"./Input-rDQgC5HY.js";import"./index-CjYu-pHv.js";import"./ExclamationCircleFilled-DLWZbO_o.js";import"./ActionButton-CpH6NjgB.js";import"./CheckCircleFilled-Cv6hAgl9.js";import"./InfoCircleFilled-D_WbiPnY.js";import"./Skeleton-eQTlzOGc.js";import"./TextArea-C1O1HANU.js";const C=({onEditClick:s})=>{const{data:o,isLoading:r}=e(),[p]=t(),u=[{title:"Category Name",dataIndex:"emailCategory",key:"emailCategory"},{title:"Actions",key:"actions",render:(e,t)=>i.jsxs(l,{children:[i.jsx(n,{type:"primary",icon:i.jsx(m,{}),onClick:()=>s(t)}),i.jsx(d,{title:"Are you sure you want to delete this category?",onConfirm:()=>(async e=>{try{await p(e).unwrap(),j.success("Category deleted successfully")}catch(t){j.error("Failed to delete category")}})(t._id),okText:"Yes",cancelText:"No",children:i.jsx(n,{type:"primary",danger:!0,icon:i.jsx(c,{})})})]})}];return i.jsx(a,{columns:u,dataSource:o,rowKey:"_id",loading:r,pagination:{pageSize:10,showSizeChanger:!0,showTotal:e=>`Total ${e} items`}})},f=({visible:e,onClose:t,editingCategory:r})=>{const[a]=p.useForm(),[l]=s(),[n]=o();return i.jsx(u,{title:r?"Edit Category":"Add New Category",open:e,onCancel:t,onOk:()=>a.submit(),children:i.jsx(p,{form:a,layout:"vertical",onFinish:async e=>{try{r?(await n({id:r._id,data:e}).unwrap(),j.success("Category updated successfully")):(await l(e).unwrap(),j.success("Category created successfully")),t()}catch(i){j.error("Failed to save category")}},initialValues:r,children:i.jsx(p.Item,{name:"emailCategory",label:"Category Name",rules:[{required:!0,message:"Please enter category name"}],children:i.jsx(y,{placeholder:"Enter category name"})})})})},h=()=>{const[e,t]=r.useState(!1),[s,o]=r.useState(null);return i.jsxs(x,{title:"Email Categories",children:[i.jsx(n,{type:"primary",icon:i.jsx(g,{}),onClick:()=>{o(null),t(!0)},style:{marginBottom:16},children:"Add New Category"}),i.jsx(C,{onEditClick:e=>{o(e),t(!0)}}),e&&i.jsx(f,{visible:e,onClose:()=>{t(!1),o(null)},editingCategory:s})]})};export{h as default};
//# sourceMappingURL=EmailCategoryParent-DRd-b55M.js.map
