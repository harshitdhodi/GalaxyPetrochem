import{ep as e,es as i,j as t}from"./main-CzSo-TQq.js";import{f as r,L as s}from"./vendor-BCMiqwDy.js";import{C as n}from"./index-BPGKac_2.js";import{T as a}from"./index-TqbGoctT.js";import{B as o}from"./index-DSpNpUBy.js";import{R as l}from"./PlusOutlined-CdZ2zpwb.js";import{F as m}from"./Table-C-n2--3-.js";import{S as d}from"./index-BJFDSJ5H.js";import{P as p}from"./index-6nOIGb1W.js";import{R as j}from"./DeleteOutlined-BWd8Mtlr.js";import{R as c}from"./EditOutlined-nN6QtEy1.js";import"./utils-ZFgnvnbw.js";import"./Skeleton-DRGMwVq6.js";import"./EllipsisOutlined-BfcsApT3.js";import"./getAllowClear-CUuit-6u.js";import"./styleChecker-CytH8GIy.js";import"./TextArea-BS9kE1Cd.js";import"./CheckOutlined-Cn3WkZbn.js";import"./index-B7eE-GBL.js";import"./dropdown-Dz-q1Mre.js";import"./Input-dXXm4f2Q.js";import"./index-D5p0e1mK.js";import"./ExclamationCircleFilled-xRTYYEFC.js";import"./ActionButton-B_-XN75h.js";const{Title:h}=a,x=()=>{const{data:a,error:x,isLoading:u,refetch:f}=e(),[y]=i(),k=r();if(u)return t.jsx("p",{children:"Loading..."});if(x)return t.jsxs("p",{style:{color:"red"},children:["Error: ",x.message]});const g=(a?.data||[]).map((e=>({key:e._id,name:e.parent.name,path:e.parent.path,isParent:!0,children:e.children.length>0?e.children.map((e=>({key:e._id,name:`└── ${e.name}`,path:e.path,isParent:!1,children:e.subChildren?.length>0?e.subChildren.map((e=>({key:e._id,name:`    └── ${e.name}`,path:e.path,isParent:!1}))):void 0}))):void 0}))),C=[{title:"Name",dataIndex:"name",key:"name"},{title:"Path",dataIndex:"path",key:"path"},{title:"Actions",key:"actions",render:(e,i)=>t.jsxs(d,{children:[t.jsx(p,{title:"Are you sure?",onConfirm:()=>(async e=>{await y(e),f()})(i.key),children:t.jsx(o,{type:"danger",shape:"circle",icon:t.jsx(j,{})})}),!i.name.includes("└──")&&t.jsx(o,{type:"primary",shape:"circle",icon:t.jsx(c,{}),onClick:()=>{return e=i.key,void k(`/menu-listing-form/${e}`);var e}})]})}];return t.jsxs(n,{children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:16},children:[t.jsx(h,{level:3,children:"Menu Listings"}),t.jsx(s,{to:"/menu-listing-form",children:t.jsx(o,{type:"primary",icon:t.jsx(l,{}),children:"Add Menu"})})]}),t.jsx(m,{columns:C,dataSource:g,expandable:{defaultExpandAllRows:!1}})]})};export{x as default};
//# sourceMappingURL=MenuListingTable-moERKpjE.js.map
