import{Z as e,ap as t,j as r,$ as s,aq as a,a1 as n,ar as o,as as c,a8 as d}from"./main-DbCIA5nM.js";import{b as i}from"./vendor-X2E3PIZN.js";import{u as l}from"./index-DPOpahcV.js";import{C as u}from"./check-DSfnMMtB.js";var f="Checkbox",[b,p]=s(f),[h,m]=b(f),k=i.forwardRef(((s,o)=>{const{__scopeCheckbox:c,name:d,checked:l,defaultChecked:u,required:f,disabled:b,value:p="on",onCheckedChange:m,form:k,...v}=s,[x,g]=i.useState(null),w=e(o,(e=>g(e))),E=i.useRef(!1),N=!x||(k||!!x.closest("form")),[R=!1,q]=t({prop:l,defaultProp:u,onChange:m}),D=i.useRef(R);return i.useEffect((()=>{const e=x?.form;if(e){const t=()=>q(D.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}}),[x,q]),r.jsxs(h,{scope:c,state:R,disabled:b,children:[r.jsx(a.button,{type:"button",role:"checkbox","aria-checked":j(R)?"mixed":R,"aria-required":f,"data-state":C(R),"data-disabled":b?"":void 0,disabled:b,value:p,...v,ref:w,onKeyDown:n(s.onKeyDown,(e=>{"Enter"===e.key&&e.preventDefault()})),onClick:n(s.onClick,(e=>{q((e=>!!j(e)||!e)),N&&(E.current=e.isPropagationStopped(),E.current||e.stopPropagation())}))}),N&&r.jsx(y,{control:x,bubbles:!E.current,name:d,value:p,checked:R,required:f,disabled:b,form:k,style:{transform:"translateX(-100%)"},defaultChecked:!j(u)&&u})]})}));k.displayName=f;var v="CheckboxIndicator",x=i.forwardRef(((e,t)=>{const{__scopeCheckbox:s,forceMount:n,...c}=e,d=m(v,s);return r.jsx(o,{present:n||j(d.state)||!0===d.state,children:r.jsx(a.span,{"data-state":C(d.state),"data-disabled":d.disabled?"":void 0,...c,ref:t,style:{pointerEvents:"none",...e.style}})})}));x.displayName=v;var y=e=>{const{control:t,checked:s,bubbles:a=!0,defaultChecked:n,...o}=e,d=i.useRef(null),u=l(s),f=c(t);i.useEffect((()=>{const e=d.current,t=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(t,"checked").set;if(u!==s&&r){const t=new Event("click",{bubbles:a});e.indeterminate=j(s),r.call(e,!j(s)&&s),e.dispatchEvent(t)}}),[u,s,a]);const b=i.useRef(!j(s)&&s);return r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n??b.current,...o,tabIndex:-1,ref:d,style:{...e.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function j(e){return"indeterminate"===e}function C(e){return j(e)?"indeterminate":e?"checked":"unchecked"}var g=k,w=x;const E=i.forwardRef((({className:e,...t},s)=>r.jsx(g,{ref:s,className:d("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-blue-500 data-[state=checked]:text-white data-[state=checked]:border-none bg-white",e),...t,children:r.jsx(w,{className:d("flex items-center justify-center text-current"),children:r.jsx(u,{className:"h-4 w-4"})})})));E.displayName=g.displayName;export{E as C};
//# sourceMappingURL=checkbox-B4CvUtyY.js.map
