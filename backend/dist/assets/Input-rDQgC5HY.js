import{bF as e,q as t,a8 as n,a6 as r,bU as a,ac as s,bV as o,a9 as l,ab as u,ca as c,c1 as i,c2 as f,c0 as p}from"./main-CYgOQvaw.js";import{b as m,R as d}from"./vendor-BCMiqwDy.js";import{o as v,a as g,u as C,F as x,C as b}from"./index-KxCZag0G.js";import{h as y,B as w,t as h,r as E,j as N,k as j,l as O,u as S,e as F,f as R}from"./getAllowClear-BT_cn9Om.js";var $={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},B=function(n,r){return m.createElement(e,t({},n,{ref:r,icon:$}))},z=m.forwardRef(B),A=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","onKeyUp","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","count","type","classes","classNames","styles","onCompositionStart","onCompositionEnd"],P=m.forwardRef((function(e,c){var i=e.autoComplete,f=e.onChange,p=e.onFocus,g=e.onBlur,C=e.onPressEnter,x=e.onKeyDown,b=e.onKeyUp,N=e.prefixCls,j=void 0===N?"rc-input":N,O=e.disabled,S=e.htmlSize,F=e.className,R=e.maxLength,$=e.suffix,B=e.showCount,z=e.count,P=e.type,K=void 0===P?"text":P,k=e.classes,I=e.classNames,L=e.styles,U=e.onCompositionStart,D=e.onCompositionEnd,T=n(e,A),V=m.useState(!1),M=r(V,2),W=M[0],q=M[1],H=m.useRef(!1),Z=m.useRef(!1),G=m.useRef(null),J=m.useRef(null),Q=function(e){G.current&&h(G.current,e)},X=a(e.defaultValue,{value:e.value}),Y=r(X,2),_=Y[0],ee=Y[1],te=null==_?"":String(_),ne=m.useState(null),re=r(ne,2),ae=re[0],se=re[1],oe=y(z,B),le=oe.max||R,ue=oe.strategy(te),ce=!!le&&ue>le;m.useImperativeHandle(c,(function(){var e;return{focus:Q,blur:function(){var e;null===(e=G.current)||void 0===e||e.blur()},setSelectionRange:function(e,t,n){var r;null===(r=G.current)||void 0===r||r.setSelectionRange(e,t,n)},select:function(){var e;null===(e=G.current)||void 0===e||e.select()},input:G.current,nativeElement:(null===(e=J.current)||void 0===e?void 0:e.nativeElement)||G.current}})),m.useEffect((function(){Z.current&&(Z.current=!1),q((function(e){return(!e||!O)&&e}))}),[O]);var ie=function(e,t,n){var r,a,s=t;if(!H.current&&oe.exceedFormatter&&oe.max&&oe.strategy(t)>oe.max)t!==(s=oe.exceedFormatter(t,{max:oe.max}))&&se([(null===(r=G.current)||void 0===r?void 0:r.selectionStart)||0,(null===(a=G.current)||void 0===a?void 0:a.selectionEnd)||0]);else if("compositionEnd"===n.source)return;ee(s),G.current&&E(G.current,e,f,s)};m.useEffect((function(){var e;ae&&(null===(e=G.current)||void 0===e||e.setSelectionRange.apply(e,s(ae)))}),[ae]);var fe,pe=function(e){ie(e,e.target.value,{source:"change"})},me=function(e){H.current=!1,ie(e,e.currentTarget.value,{source:"compositionEnd"}),null==D||D(e)},de=function(e){C&&"Enter"===e.key&&!Z.current&&(Z.current=!0,C(e)),null==x||x(e)},ve=function(e){"Enter"===e.key&&(Z.current=!1),null==b||b(e)},ge=function(e){q(!0),null==p||p(e)},Ce=function(e){Z.current&&(Z.current=!1),q(!1),null==g||g(e)},xe=ce&&"".concat(j,"-out-of-range");return d.createElement(w,t({},T,{prefixCls:j,className:o(F,xe),handleReset:function(e){ee(""),Q(),G.current&&E(G.current,e,f)},value:te,focused:W,triggerFocus:Q,suffix:function(){var e=Number(le)>0;if($||oe.show){var t=oe.showFormatter?oe.showFormatter({value:te,count:ue,maxLength:le}):"".concat(ue).concat(e?" / ".concat(le):"");return d.createElement(d.Fragment,null,oe.show&&d.createElement("span",{className:o("".concat(j,"-show-count-suffix"),u({},"".concat(j,"-show-count-has-suffix"),!!$),null==I?void 0:I.count),style:l({},null==L?void 0:L.count)},t),$)}return null}(),disabled:O,classes:k,classNames:I,styles:L}),(fe=v(e,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","count","classes","htmlSize","styles","classNames","onClear"]),d.createElement("input",t({autoComplete:i},fe,{onChange:pe,onFocus:ge,onBlur:Ce,onKeyDown:de,onKeyUp:ve,className:o(j,u({},"".concat(j,"-disabled"),O),null==I?void 0:I.input),style:null==L?void 0:L.input,ref:G,size:S,type:K,onCompositionStart:function(e){H.current=!0,null==U||U(e)},onCompositionEnd:me}))))}));function K(e,t){const n=m.useRef([]),r=()=>{n.current.push(setTimeout((()=>{var t,n,r,a;(null===(t=e.current)||void 0===t?void 0:t.input)&&"password"===(null===(n=e.current)||void 0===n?void 0:n.input.getAttribute("type"))&&(null===(r=e.current)||void 0===r?void 0:r.input.hasAttribute("value"))&&(null===(a=e.current)||void 0===a||a.input.removeAttribute("value"))})))};return m.useEffect((()=>(t&&r(),()=>n.current.forEach((e=>{e&&clearTimeout(e)})))),[]),r}const k=m.forwardRef(((e,t)=>{const{prefixCls:n,bordered:r=!0,status:a,size:s,disabled:l,onBlur:u,onFocus:v,suffix:y,allowClear:w,addonAfter:h,addonBefore:E,className:$,style:B,styles:z,rootClassName:A,onChange:k,classNames:I,variant:L}=e,U=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","style","styles","rootClassName","onChange","classNames","variant"]),{getPrefixCls:D,direction:T,allowClear:V,autoComplete:M,className:W,style:q,classNames:H,styles:Z}=c("input"),G=D("input",n),J=m.useRef(null),Q=i(G),[X,Y,_]=N(G,A),[ee]=j(G,Q),{compactSize:te,compactItemClassnames:ne}=g(G,T),re=C((e=>{var t;return null!==(t=null!=s?s:te)&&void 0!==t?t:e})),ae=d.useContext(f),se=null!=l?l:ae,{status:oe,hasFeedback:le,feedbackIcon:ue}=m.useContext(x),ce=R(oe,a),ie=function(e){return!!(e.prefix||e.suffix||e.allowClear||e.showCount)}(e)||!!le;m.useRef(ie);const fe=K(J,!0),pe=(le||y)&&d.createElement(d.Fragment,null,y,le&&ue),me=O(null!=w?w:V),[de,ve]=S("input",L,r);return X(ee(d.createElement(P,Object.assign({ref:p(t,J),prefixCls:G,autoComplete:M},U,{disabled:se,onBlur:e=>{fe(),null==u||u(e)},onFocus:e=>{fe(),null==v||v(e)},style:Object.assign(Object.assign({},q),B),styles:Object.assign(Object.assign({},Z),z),suffix:pe,allowClear:me,className:o($,A,_,Q,ne,W),onChange:e=>{fe(),null==k||k(e)},addonBefore:E&&d.createElement(b,{form:!0,space:!0},E),addonAfter:h&&d.createElement(b,{form:!0,space:!0},h),classNames:Object.assign(Object.assign(Object.assign({},I),H),{input:o({[`${G}-sm`]:"small"===re,[`${G}-lg`]:"large"===re,[`${G}-rtl`]:"rtl"===T},null==I?void 0:I.input,H.input,Y),variant:o({[`${G}-${de}`]:ve},F(G,ce)),affixWrapper:o({[`${G}-affix-wrapper-sm`]:"small"===re,[`${G}-affix-wrapper-lg`]:"large"===re,[`${G}-affix-wrapper-rtl`]:"rtl"===T},Y),wrapper:o({[`${G}-group-rtl`]:"rtl"===T},Y),groupWrapper:o({[`${G}-group-wrapper-sm`]:"small"===re,[`${G}-group-wrapper-lg`]:"large"===re,[`${G}-group-wrapper-rtl`]:"rtl"===T,[`${G}-group-wrapper-${de}`]:ve},F(`${G}-group-wrapper`,ce,le),Y)})}))))}));export{k as I,z as R,K as u};
//# sourceMappingURL=Input-rDQgC5HY.js.map
