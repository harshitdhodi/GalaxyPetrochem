{"version":3,"file":"AdvanceSearchPage-WqONq5n_.js","sources":["../../src/website/componets/advanceSearch/SearchSections.jsx","../../src/website/pages/AdvanceSearchPage.jsx","../../src/website/images/adBanner.jpg"],"sourcesContent":["import { Button } from \"@/components/ui/button\";\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from \"@/components/ui/select\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nfunction SearchCategorySection({ title }) {\r\n  const [categories, setCategories] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [selectedCategory, setSelectedCategory] = useState(\"\");\r\n  const navigate = useNavigate();\r\n\r\n  // Fetch categories from the API\r\n  useEffect(() => {\r\n    const fetchCategories = async () => {\r\n      try {\r\n        const response = await axios.get(\"/api/chemicalCategory/getAll\");\r\n        setCategories(response.data || []);\r\n        setIsLoading(false);\r\n      } catch (err) {\r\n        setError(\"Error loading categories\");\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchCategories();\r\n  }, []);\r\n\r\n  const handleSubmit = () => {\r\n    if (selectedCategory) {\r\n      navigate(`/${selectedCategory}`);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-gray-100/80 p-6 space-y-4\">\r\n      <h2 className=\"text-xl font-medium\">{title}</h2>\r\n      <div className=\"space-y-4\">\r\n        <Select onValueChange={(value) => setSelectedCategory(value)}>\r\n          <SelectTrigger className=\"bg-white\">\r\n            <SelectValue placeholder=\"Select category\" />\r\n          </SelectTrigger>\r\n          <SelectContent>\r\n            {isLoading ? (\r\n              <SelectItem disabled>Loading...</SelectItem>\r\n            ) : error ? (\r\n              <SelectItem disabled>{error}</SelectItem>\r\n            ) : (\r\n              categories.map((subcat) => (\r\n                <SelectItem key={subcat._id} value={subcat.slug}>\r\n                  {subcat.category}\r\n                </SelectItem>\r\n              ))\r\n            )}\r\n          </SelectContent>\r\n        </Select>\r\n        <Button\r\n          className=\"w-full bg-secondary hover:bg-primary\"\r\n          onClick={handleSubmit}\r\n        >\r\n          SUBMIT\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function SearchSections() {\r\n  const [searchType, setSearchType] = useState(\"\");\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const navigate = useNavigate();\r\n\r\n  const handleSearchSubmit = async () => {\r\n    if (!searchType || !searchTerm) {\r\n      alert(\"Please select a search type and enter a search term.\");\r\n      return;\r\n    }\r\n  \r\n    const queryParam =\r\n      searchType === \"product_name\"\r\n        ? `/api/product/advanceSearch?name=${encodeURIComponent(searchTerm)}`\r\n        : `/api/product/advanceSearch?price=${encodeURIComponent(searchTerm)}`;\r\n  \r\n    try {\r\n      const response = await axios.get(queryParam);\r\n      console.log(\"Search Results:\", response.data);\r\n  \r\n      // Pass search results via state\r\n      navigate(`/product-search`, { state: { results: response.data, searchTerm } });\r\n    } catch (error) {\r\n      console.error(\"Error fetching products:\", error);\r\n    }\r\n  };\r\n  \r\n  \r\n\r\n  return (\r\n    <div className=\"grid gap-6 md:grid-cols-3 py-6\">\r\n      {/* Chemicals Section */}\r\n      <SearchCategorySection title=\"Search Chemicals\" />\r\n\r\n      {/* Products Section */}\r\n      <div className=\"bg-gray-100/80 p-6 rounded-lg space-y-4\">\r\n        <h2 className=\"text-xl font-medium\">Search Products</h2>\r\n        <div className=\"space-y-4\">\r\n          <Select onValueChange={(value) => setSearchType(value)}>\r\n            <SelectTrigger className=\"bg-white\">\r\n              <SelectValue placeholder=\"Select search type\" />\r\n            </SelectTrigger>\r\n            <SelectContent>\r\n              <SelectItem value=\"product_name\">Product Name</SelectItem>\r\n              <SelectItem value=\"price\">Product Price</SelectItem>\r\n            </SelectContent>\r\n          </Select>\r\n          <input\r\n            type=\"text\"\r\n            value={searchTerm}\r\n            onChange={(e) => setSearchTerm(e.target.value)}\r\n            placeholder={`Enter ${searchType?.replace(\"_\", \" \") || \"search criteria\"}`}\r\n            className=\"w-full px-3 py-2 border rounded-md border-input bg-background bg-white\"\r\n          />\r\n          <Button\r\n            className=\"w-full bg-secondary hover:bg-primary\"\r\n            onClick={handleSearchSubmit}\r\n          >\r\n            SUBMIT\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react'\r\nimport img from \"../images/adBanner.jpg\"\r\nimport { Banner } from '../componets/Banner'\r\nimport SearchSections from '../componets/advanceSearch/SearchSections'\r\nconst AdvanceSearch = () => {\r\n  return (\r\n    <>\r\n      <Banner imageUrl={img} /> \r\n     <div className='w-full flex flex-col justify-center items-center'>\r\n     <div className='lg:max-w-[75rem]'>\r\n        <div className=\"\">\r\n            <h2 className=\"text-3xl mt-8 font-bold text-gray-700\">\r\n                Advance Search\r\n            </h2>\r\n            <div className=\" bg-secondary w-[6%] h-1 \"></div>\r\n        </div>\r\n      <SearchSections/>\r\n      </div>\r\n     </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default AdvanceSearch\r\n","export default \"__VITE_ASSET__BN9OfM2D__\""],"names":["SearchCategorySection","title","categories","setCategories","useState","isLoading","setIsLoading","error","setError","selectedCategory","setSelectedCategory","navigate","useNavigate","useEffect","async","response","axios","get","data","err","fetchCategories","jsxs","className","children","jsx","Select","onValueChange","value","SelectTrigger","SelectValue","placeholder","SelectContent","SelectItem","disabled","map","subcat","slug","category","_id","Button","onClick","SearchSections","searchType","setSearchType","searchTerm","setSearchTerm","type","onChange","e","target","replace","alert","queryParam","encodeURIComponent","state","results","AdvanceSearch","Fragment","Banner","imageUrl"],"mappings":"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"}