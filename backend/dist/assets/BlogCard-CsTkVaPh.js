import{j as e,an as r}from"./main-CYgOQvaw.js";import{b as a}from"./vendor-BCMiqwDy.js";import{a as l}from"./utils-ZFgnvnbw.js";import{F as t}from"./index-D5CjVNbC.js";import{B as o}from"./index-KxCZag0G.js";import{s}from"./index-8QCZ4j4K.js";import"./CheckCircleFilled-Cv6hAgl9.js";import"./ExclamationCircleFilled-DLWZbO_o.js";import"./InfoCircleFilled-D_WbiPnY.js";const i=()=>{const[i]=t.useForm(),[d,n]=a.useState(""),[c,m]=a.useState(""),[f,g]=a.useState(null),u=async()=>{try{const e=(await l.get("/api/blogCard/getCard")).data[0];g(e._id),n(e.blogCard);const r=(new DOMParser).parseFromString(e.blogCard,"text/html"),a=r.getElementsByTagName("*");for(let l of a)"white"!==l.style.color&&"#ffffff"!==l.style.color||(l.style.color="black");m(r.body.innerHTML),i.setFieldsValue({blogCard:e.blogCard})}catch(e){s.error("Failed to fetch blog card.")}};a.useEffect((()=>{u()}),[i]);return e.jsxs(t,{form:i,layout:"vertical",onFinish:async()=>{try{f?(await l.put(`/api/blogCard/editCard/${f}`,{blogCard:d}),s.success("Blog card updated successfully!")):(await l.post("/api/blogCard/addCard",{blogCard:d}),s.success("Blog card added successfully!")),i.resetFields(),n(""),m(""),u()}catch(e){s.error("Failed to save blog card.")}},name:"blog_card_form",children:[e.jsx(t.Item,{name:"blogCard",label:"Blog Card Content",rules:[{required:!0,message:"Please input the blog card content!"}],children:e.jsx(r,{value:c||d,onChange:e=>{n(e);const r=(new DOMParser).parseFromString(e,"text/html"),a=r.getElementsByTagName("*");for(let l of a)"white"!==l.style.color&&"#ffffff"!==l.style.color||(l.style.color="black");m(r.body.innerHTML)},modules:{toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{list:"ordered"},{list:"bullet"}],["bold","italic","underline","blockquote"],[{align:[]}],["link","image","video"],["clean"]]},formats:["header","font","list","bold","italic","underline","blockquote","align","link","image","video"]})}),e.jsx(t.Item,{children:e.jsx(o,{type:"primary",htmlType:"submit",children:f?"Update Blog Card":"Add Blog Card"})})]})};export{i as default};
//# sourceMappingURL=BlogCard-CsTkVaPh.js.map
