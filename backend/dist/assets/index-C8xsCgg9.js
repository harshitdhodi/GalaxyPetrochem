import{b as e}from"./vendor-X2E3PIZN.js";import{I as t,c as n}from"./AntdIcon-Bc_RgQsY.js";import{C as o,F as r,g as a,m as s,w as l,p as i,f as c,x as u,D as p,o as f,c as d,h as m,U as v,B as g}from"./index-CvhnQ2ZS.js";import{k as y,i as b,a as x,f as O}from"./getAllowClear-CF0z5FWe.js";import{I as C,u as h,R as j}from"./Input-DzV7KJ8a.js";import{h as E}from"./toArray-DIarnBRF.js";import{_ as w}from"./objectSpread2-C2mPdFQ-.js";import{R as P}from"./EyeOutlined-D6toRaq1.js";import{T as k}from"./TextArea-BQkixvnv.js";var I={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},S=function(n,o){return e.createElement(t,w({},n,{ref:o,icon:I}))},$=e.forwardRef(S);const z=e=>{const{componentCls:t,paddingXS:n}=e;return{[t]:{display:"inline-flex",alignItems:"center",flexWrap:"nowrap",columnGap:n,"&-rtl":{direction:"rtl"},[`${t}-input`]:{textAlign:"center",paddingInline:e.paddingXXS},[`&${t}-sm ${t}-input`]:{paddingInline:e.calc(e.paddingXXS).div(2).equal()},[`&${t}-lg ${t}-input`]:{paddingInline:e.paddingXS}}}},M=a(["Input","OTP"],(e=>{const t=s(e,b(e));return[z(t)]}),x);var A=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};const R=e.forwardRef(((t,n)=>{const{value:o,onChange:r,onActiveChange:a,index:s,mask:i}=t,c=A(t,["value","onChange","onActiveChange","index","mask"]),u=o&&"string"==typeof i?i:o,p=e.useRef(null);e.useImperativeHandle(n,(()=>p.current));const f=()=>{l((()=>{var e;const t=null===(e=p.current)||void 0===e?void 0:e.input;document.activeElement===t&&t&&t.select()}))};return e.createElement(C,Object.assign({type:!0===i?"password":"text"},c,{ref:p,value:u,onInput:e=>{r(s,e.target.value)},onFocus:f,onKeyDown:e=>{const{key:t,ctrlKey:n,metaKey:o}=e;"ArrowLeft"===t?a(s-1):"ArrowRight"===t?a(s+1):"z"===t&&(n||o)&&e.preventDefault(),f()},onKeyUp:e=>{"Backspace"!==e.key||o||a(s-1),f()},onMouseDown:f,onMouseUp:f}))}));function N(e){return(e||"").split("")}const B=t=>{const{index:n,prefixCls:o,separator:r}=t,a="function"==typeof r?r(n):r;return a?e.createElement("span",{className:`${o}-separator`},a):null},D=e.forwardRef(((t,a)=>{const{prefixCls:s,length:l=6,size:p,defaultValue:f,value:d,onChange:m,formatter:v,separator:g,variant:y,disabled:b,status:x,autoFocus:C,mask:h,type:j,onInput:w,inputMode:P}=t,k=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}(t,["prefixCls","length","size","defaultValue","value","onChange","formatter","separator","variant","disabled","status","autoFocus","mask","type","onInput","inputMode"]),{getPrefixCls:I,direction:S}=e.useContext(o),$=I("otp",s),z=i(k,{aria:!0,data:!0,attr:!0}),[A,D,F]=M($),T=c((e=>null!=p?p:e)),L=e.useContext(r),X=O(L.status,x),q=e.useMemo((()=>Object.assign(Object.assign({},L),{status:X,hasFeedback:!1,feedbackIcon:null})),[L,X]),U=e.useRef(null),K=e.useRef({});e.useImperativeHandle(a,(()=>({focus:()=>{var e;null===(e=K.current[0])||void 0===e||e.focus()},blur:()=>{var e;for(let t=0;t<l;t+=1)null===(e=K.current[t])||void 0===e||e.blur()},nativeElement:U.current})));const Q=e=>v?v(e):e,[V,_]=e.useState((()=>N(Q(f||""))));e.useEffect((()=>{void 0!==d&&_(N(d))}),[d]);const G=u((e=>{_(e),w&&w(e),m&&e.length===l&&e.every((e=>e))&&e.some(((e,t)=>V[t]!==e))&&m(e.join(""))})),H=u(((e,t)=>{let n=E(V);for(let r=0;r<e;r+=1)n[r]||(n[r]="");t.length<=1?n[e]=t:n=n.slice(0,e).concat(N(t)),n=n.slice(0,l);for(let r=n.length-1;r>=0&&!n[r];r-=1)n.pop();const o=Q(n.map((e=>e||" ")).join(""));return n=N(o).map(((e,t)=>" "!==e||n[t]?e:n[t])),n})),W=(e,t)=>{var n;const o=H(e,t),r=Math.min(e+t.length,l-1);r!==e&&void 0!==o[e]&&(null===(n=K.current[r])||void 0===n||n.focus()),G(o)},J=e=>{var t;null===(t=K.current[e])||void 0===t||t.focus()},Y={variant:y,disabled:b,status:X,mask:h,type:j,inputMode:P};return A(e.createElement("div",Object.assign({},z,{ref:U,className:n($,{[`${$}-sm`]:"small"===T,[`${$}-lg`]:"large"===T,[`${$}-rtl`]:"rtl"===S},F,D)}),e.createElement(r.Provider,{value:q},Array.from({length:l}).map(((t,n)=>{const o=`otp-${n}`,r=V[n]||"";return e.createElement(e.Fragment,{key:o},e.createElement(R,Object.assign({ref:e=>{K.current[n]=e},index:n,size:T,htmlSize:1,className:`${$}-input`,onChange:W,value:r,onActiveChange:J,autoFocus:0===n&&C},Y)),n<l-1&&e.createElement(B,{separator:g,index:n,prefixCls:$}))})))))}));const F=t=>t?e.createElement(P,null):e.createElement($,null),T={click:"onClick",hover:"onMouseOver"},L=e.forwardRef(((t,r)=>{const{disabled:a,action:s="click",visibilityToggle:l=!0,iconRender:i=F}=t,c=e.useContext(p),u=null!=a?a:c,m="object"==typeof l&&void 0!==l.visible,[v,g]=e.useState((()=>!!m&&l.visible)),y=e.useRef(null);e.useEffect((()=>{m&&g(l.visible)}),[m,l]);const b=h(y),x=()=>{var e;if(u)return;v&&b();const t=!v;g(t),"object"==typeof l&&(null===(e=l.onVisibleChange)||void 0===e||e.call(l,t))},{className:O,prefixCls:j,inputPrefixCls:E,size:w}=t,P=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}(t,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:k}=e.useContext(o),I=k("input",E),S=k("input-password",j),$=l&&(t=>{const n=T[s]||"",o=i(v),r={[n]:x,className:`${t}-icon`,key:"passwordIcon",onMouseDown:e=>{e.preventDefault()},onMouseUp:e=>{e.preventDefault()}};return e.cloneElement(e.isValidElement(o)?o:e.createElement("span",null,o),r)})(S),z=n(S,O,{[`${S}-${w}`]:!!w}),M=Object.assign(Object.assign({},f(P,["suffix","iconRender","visibilityToggle"])),{type:v?"text":"password",className:z,prefixCls:I,suffix:$});return w&&(M.size=w),e.createElement(C,Object.assign({ref:d(r,y)},M))}));const X=e.forwardRef(((t,r)=>{const{prefixCls:a,inputPrefixCls:s,className:l,size:i,suffix:u,enterButton:p=!1,addonAfter:f,loading:y,disabled:b,onSearch:x,onChange:O,onCompositionStart:h,onCompositionEnd:E}=t,w=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}(t,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),{getPrefixCls:P,direction:k}=e.useContext(o),I=e.useRef(!1),S=P("input-search",a),$=P("input",s),{compactSize:z}=m(S,k),M=c((e=>{var t;return null!==(t=null!=i?i:z)&&void 0!==t?t:e})),A=e.useRef(null),R=e=>{var t;document.activeElement===(null===(t=A.current)||void 0===t?void 0:t.input)&&e.preventDefault()},N=e=>{var t,n;x&&x(null===(n=null===(t=A.current)||void 0===t?void 0:t.input)||void 0===n?void 0:n.value,e,{source:"input"})},B="boolean"==typeof p?e.createElement(j,null):null,D=`${S}-button`;let F;const T=p||{},L=T.type&&!0===T.type.__ANT_BUTTON;F=L||"button"===T.type?v(T,Object.assign({onMouseDown:R,onClick:e=>{var t,n;null===(n=null===(t=null==T?void 0:T.props)||void 0===t?void 0:t.onClick)||void 0===n||n.call(t,e),N(e)},key:"enterButton"},L?{className:D,size:M}:{})):e.createElement(g,{className:D,type:p?"primary":void 0,size:M,disabled:b,key:"enterButton",onMouseDown:R,onClick:N,loading:y,icon:B},p),f&&(F=[F,v(f,{key:"addonAfter"})]);const X=n(S,{[`${S}-rtl`]:"rtl"===k,[`${S}-${M}`]:!!M,[`${S}-with-button`]:!!p},l),q=Object.assign(Object.assign({},w),{className:X,prefixCls:$,type:"search"});return e.createElement(C,Object.assign({ref:d(A,r),onPressEnter:e=>{I.current||y||N(e)}},q,{size:M,onCompositionStart:e=>{I.current=!0,null==h||h(e)},onCompositionEnd:e=>{I.current=!1,null==E||E(e)},addonAfter:F,suffix:u,onChange:e=>{(null==e?void 0:e.target)&&"click"===e.type&&x&&x(e.target.value,e,{source:"clear"}),null==O||O(e)},disabled:b}))})),q=C;q.Group=t=>{const{getPrefixCls:a,direction:s}=e.useContext(o),{prefixCls:l,className:i}=t,c=a("input-group",l),u=a("input"),[p,f,d]=y(u),m=n(c,d,{[`${c}-lg`]:"large"===t.size,[`${c}-sm`]:"small"===t.size,[`${c}-compact`]:t.compact,[`${c}-rtl`]:"rtl"===s},f,i),v=e.useContext(r),g=e.useMemo((()=>Object.assign(Object.assign({},v),{isFormItemInput:!1})),[v]);return p(e.createElement("span",{className:m,style:t.style,onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave,onFocus:t.onFocus,onBlur:t.onBlur},e.createElement(r.Provider,{value:g},t.children)))},q.Search=X,q.TextArea=k,q.Password=L,q.OTP=D;export{q as I};
//# sourceMappingURL=index-C8xsCgg9.js.map
