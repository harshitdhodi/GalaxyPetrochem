import{f as u,dW as h,c5 as f,j as e,u as j,P as c,b as p,r as d}from"./index-BIIJyams-1746013935166.js";import v from"./BlogPage-C3bGYU7e-1746013935166.js";import"./phone-CV69O2Ld-1746013935166.js";import"./mail-DONfCHKG-1746013935166.js";const m=({title:t,image:s,date:i,slug:o})=>{const r=j(),n=()=>{r(`/blog/${o}`)};return e.jsxs("div",{className:"bg-white rounded-lg shadow-md shadow-[#995f99] overflow-hidden mb-4 group relative cursor-pointer",onClick:n,children:[e.jsxs("div",{className:"overflow-hidden relative",children:[e.jsx("img",{src:`/api/image/download/${s==null?void 0:s[0]}`,alt:t,name:t,className:"w-full h-40 object-cover transform transition-transform duration-300 group-hover:scale-105"}),e.jsx("div",{className:"absolute inset-0 bg-primary/40 bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"font-semibold hover:border-b text-lg mb-2 group relative",children:t}),e.jsx("p",{className:"text-gray-600 text-sm",children:i})]})]})};m.propTypes={title:c.string.isRequired,image:c.string.isRequired,date:c.string.isRequired,slug:c.string.isRequired};const w=()=>{const{slug:t}=u(),{data:s,error:i,isLoading:o}=h(t),{data:r=[],isLoading:n}=f(t);return console.log(r,"recentBlogs"),o?e.jsx("div",{children:"Loading blog..."}):i?e.jsx("div",{children:"Something went wrong..."}):n?e.jsx("div",{children:"Loading recent posts..."}):e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:e.jsxs("div",{className:"flex flex-wrap gap-5",children:[e.jsxs("div",{className:"w-full lg:w-[65%] px-4 mb-8 lg:mb-0",children:[e.jsx("h1",{className:"text-4xl text-[#2d60d6] font-bold mb-4",children:s==null?void 0:s.title}),e.jsxs("p",{className:"text-gray-600 mb-4",children:["Published on ",s==null?void 0:s.date," | By ",s==null?void 0:s.postedBy]}),e.jsx("img",{src:`/api/image/download/${s==null?void 0:s.image}`,alt:s==null?void 0:s.title,className:"w-full h-[400px] object-cover rounded-lg mb-6"}),e.jsx("div",{className:"prose max-w-none",children:e.jsx("div",{className:"text-gray-600 text-lg text-justify mb-4",dangerouslySetInnerHTML:{__html:s==null?void 0:s.details}})})]}),e.jsxs("div",{className:"w-full lg:w-[30%] h-fit shadow-md shadow-[#2d60d6]/70 ml-8 py-5 rounded-md px-8",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4 text-blue-900",children:"Recent Posts"}),r==null?void 0:r.map((a,l)=>e.jsx(m,{title:a==null?void 0:a.title,image:a==null?void 0:a.image,date:a==null?void 0:a.date,slug:a==null?void 0:a.slug},l))]})]})})},B=()=>{const t=p(),[s,i]=d.useState([]),[o,r]=d.useState(!1);return d.useEffect(()=>{(async()=>{try{const l=await(await fetch("/api/blogCategory/get")).json();console.log(l),i(l);const g=l.some(x=>t.pathname.startsWith(`/blog/${x.slug}`));r(g)}catch(a){console.error("Error fetching blog categories:",a)}})()},[t.pathname]),e.jsx("div",{children:o?e.jsx(v,{}):e.jsx(w,{})})};export{B as default};
