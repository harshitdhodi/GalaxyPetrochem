{"version":3,"file":"PromoSidebar-CZw7Bgks.js","sources":["../../src/website/componets/SubCategoryPage/PromoSidebar.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\nexport default function PromoSidebar() {\n    const [images, setImages] = useState([]);\n    const [currentImageIndex, setCurrentImageIndex] = useState(0);\n    const BASE_URL = \"/api/logo/download/\"; // Change this to your actual image server path\n\n    useEffect(() => {\n        // Fetch images from API\n        const fetchImages = async () => {\n            try {\n                const response = await axios.get(\"/api/slideShow/getAll\");\n              console.log(response.data)\n                if (response.data) {\n                    setImages(response.data.map(item => ({\n                        url: `${BASE_URL}${item.image}`, // Construct full image URL\n                        altText: item.altText || \"Slideshow Image\",\n                        title: item.title || item.altText || \"Slideshow Image\" // Add this line\n                    })));\n                }\n            } catch (error) {\n                console.error(\"Error fetching slideshow images:\", error);\n            }\n        };\n\n        fetchImages();\n    }, []);\n\n    useEffect(() => {\n        if (images.length > 0) {\n            const interval = setInterval(() => {\n                setCurrentImageIndex((prevIndex) => (prevIndex + 1) % images.length);\n            }, 3000);\n\n            return () => clearInterval(interval);\n        }\n    }, [currentImageIndex, images.length]);\n\n    return (\n        <div className=\"md:w-62 w-[100wh] relative h-[30vh] md:h-[68vh] overflow-hidden\">\n            {images.length > 0 ? (\n                images.map((image, index) => (\n                    <img\n                        key={index}\n                        src={image.url}\n                        alt={image.altText}\n                        title={image.title} // This will now correctly show the title from your data\n                        className={`w-full h-full absolute object-cover transition-opacity duration-1000 ease-in-out ${index === currentImageIndex ? \"opacity-100\" : \"opacity-0\"\n                            }`}\n                    />\n                ))\n            ) : (\n                <p className=\"text-center text-gray-500\">Loading images...</p>\n            )}\n        </div>\n    );\n}\n"],"names":["PromoSidebar","images","setImages","useState","currentImageIndex","setCurrentImageIndex","useEffect","async","response","axios","get","data","map","item","url","image","altText","title","error","fetchImages","length","interval","setInterval","prevIndex","clearInterval","jsx","className","children","index","src","alt"],"mappings":"mHAGA,SAAwBA,IACpB,MAAOC,EAAQC,GAAaC,EAAAA,SAAS,KAC9BC,EAAmBC,GAAwBF,EAAAA,SAAS,GAmCvD,OAhCJG,EAAAA,WAAU,KAEcC,WACZ,IACA,MAAMC,QAAiBC,EAAMC,IAAI,yBAE7BF,EAASG,MACCT,EAAAM,EAASG,KAAKC,KAAaC,IAAA,CACjCC,IAAK,sBAAcD,EAAKE,QACxBC,QAASH,EAAKG,SAAW,kBACzBC,MAAOJ,EAAKI,OAASJ,EAAKG,SAAW,6BAGxCE,GACkD,GAInDC,EAAA,GACb,IAEHb,EAAAA,WAAU,KACF,GAAAL,EAAOmB,OAAS,EAAG,CACb,MAAAC,EAAWC,aAAY,KACzBjB,GAAsBkB,IAAeA,EAAY,GAAKtB,EAAOmB,QAAM,GACpE,KAEI,MAAA,IAAMI,cAAcH,EAAQ,IAExC,CAACjB,EAAmBH,EAAOmB,SAG1BK,EAAAA,IAAC,MAAI,CAAAC,UAAU,kEACVC,SAAA1B,EAAOmB,OAAS,EACbnB,EAAOW,KAAI,CAACG,EAAOa,IACfH,EAAAA,IAAC,MAAA,CAEGI,IAAKd,EAAMD,IACXgB,IAAKf,EAAMC,QACXC,MAAOF,EAAME,MACbS,UAAW,qFAAoFE,IAAUxB,EAAoB,cAAgB,cAJxIwB,KASbH,EAAAA,IAAC,KAAEC,UAAU,4BAA4BC,gCAIzD"}