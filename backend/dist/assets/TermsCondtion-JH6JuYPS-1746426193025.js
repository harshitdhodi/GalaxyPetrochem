import{u as g,r as s,j as t,L as y,al as F,a as d}from"./index-BBIQ2JaG-1746426193025.js";import{F as e}from"./index-B5p0oqBc-1746426193025.js";import{B as m}from"./Breadcrumb-BrOsfjN--1746426193025.js";import{B as T}from"./index-C2jQErNw-1746426193025.js";import{s as i}from"./index-CkVR94Ui-1746426193025.js";import"./toArray-uRWhWYCg-1746426193025.js";import"./extends-rM07bN2b-1746426193025.js";import"./AntdIcon-D1dRJs5H-1746426193025.js";import"./index-4NCSjFKa-1746426193025.js";import"./CheckCircleFilled-KdwSm50E-1746426193025.js";import"./ExclamationCircleFilled-Cs3Fj5lZ-1746426193025.js";import"./dropdown-QB3XOUdc-1746426193025.js";import"./EllipsisOutlined-BV9z6e4b-1746426193025.js";import"./InfoCircleFilled-uxDeatFe-1746426193025.js";const P=()=>{g();const[o]=e.useForm(),[a,c]=s.useState(""),[l,u]=s.useState(!0),[p,h]=s.useState(!1),[f,x]=s.useState(null);s.useEffect(()=>{(async()=>{try{const r=await d.get("/api/terms");if(r.data.length>0){const n=r.data[0];c(n.termsCondition),x(n._id),o.setFieldsValue({termsCondition:n.termsCondition}),h(!0)}}catch{i.error("Failed to fetch terms and conditions data")}finally{u(!1)}})()},[o]);const C=async()=>{try{p?(await d.put(`/api/terms/${f}`,{termsCondition:a}),i.success("Terms and conditions data updated successfully")):(await d.post("/api/terms/add",{termsCondition:a}),i.success("Terms and conditions data created successfully"))}catch{i.error("Failed to save terms and conditions data")}};return l?t.jsx("p",{children:"Loading..."}):t.jsxs(t.Fragment,{children:[t.jsxs(m,{style:{marginBottom:"16px"},children:[t.jsx(m.Item,{children:t.jsx(y,{to:"/dashboard",children:"Dashboard"})}),t.jsx(m.Item,{children:"Terms and Conditions Form"})]}),t.jsxs(e,{form:o,layout:"vertical",onFinish:C,children:[t.jsx(e.Item,{name:"termsCondition",label:"Terms and Conditions",rules:[{required:!0,message:"Please enter the terms and conditions"}],children:t.jsx(F,{theme:"snow",value:a,onChange:c})}),t.jsx(e.Item,{children:t.jsx(T,{type:"primary",htmlType:"submit",children:"Save"})})]})]})};export{P as default};
