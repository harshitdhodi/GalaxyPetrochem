import{j as e,an as t}from"./main-CYgOQvaw.js";import{b as s}from"./vendor-BCMiqwDy.js";import{a as i}from"./utils-ZFgnvnbw.js";import{F as a}from"./index-D5CjVNbC.js";import{B as n}from"./index-KxCZag0G.js";import{s as l}from"./index-8QCZ4j4K.js";import"./CheckCircleFilled-Cv6hAgl9.js";import"./ExclamationCircleFilled-DLWZbO_o.js";import"./InfoCircleFilled-D_WbiPnY.js";const r=()=>{const[r]=a.useForm(),[o,d]=s.useState(""),[m,c]=s.useState(null),[u,v]=s.useState(!1),p=async()=>{try{v(!0);const e=(await i.get(`/api/events/getEvent?t=${(new Date).getTime()}`)).data[0];c(e._id),d(e.events),r.setFieldsValue({events:e.events})}catch(e){l.error("Failed to fetch event.")}finally{v(!1)}};s.useEffect((()=>{p()}),[r]);return e.jsxs(a,{form:r,layout:"vertical",onFinish:async()=>{try{if(!m)return void l.error("No event ID available");v(!0),await i.put(`/api/events/editEvent/${m}`,{events:o}),l.success("Event updated successfully!"),await p()}catch(e){l.error("Failed to update event.")}finally{v(!1)}},name:"event_form",children:[e.jsx(a.Item,{name:"events",label:"Event Description",rules:[{required:!0,message:"Please input the event details!"}],children:e.jsx(t,{value:o,onChange:e=>{d(e),r.setFieldsValue({events:e})},modules:{toolbar:[["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],["link","image"]]}})}),e.jsxs(a.Item,{children:[e.jsx(n,{type:"primary",htmlType:"submit",loading:u,children:"Update Event"}),e.jsx(n,{onClick:p,style:{marginLeft:8},loading:u,children:"Refresh Data"})]})]})};export{r as default};
//# sourceMappingURL=Events-DEiCymXp.js.map
