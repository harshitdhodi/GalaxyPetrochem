import{u as s,j as e,B as a,P as r,O as i,Q as t,S as d,T as c}from"./main-DbCIA5nM.js";import{L as n,f as o,R as l}from"./vendor-X2E3PIZN.js";import{T as m,a as x,b as j,c as h,d as u,e as g}from"./table-DVNdpQ_I.js";import{C as b}from"./chevron-right-BX1oQPFZ.js";import"./utils-ZFgnvnbw.js";const y=({item:s,level:r,parentIds:n={}})=>{const m=o(),[x,h]=l.useState(!1),u=s.subCategories?.length>0||s.subSubCategory?.length>0,[f,{isLoading:p}]=i(),v={...n,...0===r?{categoryId:s._id}:1===r?{subcategoryId:s._id}:{subSubCategoryId:s._id}};return e.jsxs(e.Fragment,{children:[e.jsxs(j,{children:[e.jsx(g,{className:"font-medium",children:e.jsxs("div",{className:"flex items-center",style:{paddingLeft:20*r+"px"},children:[u&&e.jsx("button",{onClick:()=>h(!x),className:"mr-2",children:x?e.jsx(t,{className:"h-4 w-4"}):e.jsx(b,{className:"h-4 w-4"})}),s.category]})}),e.jsx(g,{children:e.jsxs("div",{className:"flex justify-start ",children:[e.jsx(a,{variant:"ghost",size:"icon",onClick:()=>{const s=`/edit-chemical-category/${v.categoryId||""}${v.subcategoryId?`/${v.subcategoryId}`:""}${v.subSubCategoryId?`/${v.subSubCategoryId}`:""}`;m(s)},children:e.jsx(d,{className:"h-4 w-4 text-blue-600"})}),e.jsx(a,{variant:"ghost",size:"icon",onClick:async()=>{try{await f(s._id).unwrap()}catch(e){}},disabled:p,children:e.jsx(c,{className:"h-4 w-4 text-red-600"})})]})})]}),x&&s.subCategories&&s.subCategories.map((s=>e.jsx(y,{item:s,level:r+1,parentIds:v},s._id))),x&&s.subSubCategory&&s.subSubCategory.map((s=>e.jsx(y,{item:s,level:r+1,parentIds:v},s._id)))]})};function f(){const{data:i,error:t,isLoading:d}=s();if(d)return e.jsx("div",{children:"Loading..."});if(t)return e.jsxs("div",{children:["Error: ",t.message||"An error occurred"]});const c=Array.isArray(i)?i:[i];return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex justify-end",children:e.jsx(n,{to:"/chemical-category-form",children:e.jsxs(a,{children:[e.jsx(r,{className:"mr-2 h-4 w-4"})," Add Category"]})})}),e.jsx("div",{className:"border rounded-lg overflow-hidden",children:e.jsxs(m,{children:[e.jsx(x,{children:e.jsxs(j,{children:[e.jsx(h,{children:"Categories"}),e.jsx(h,{children:"Actions"})]})}),e.jsx(u,{children:c.map((s=>e.jsx(y,{item:s,level:0,parentIds:{}},s._id)))})]})})]})}function p(){return e.jsxs("div",{className:"container mx-auto py-10",children:[e.jsx("h1",{className:"text-2xl font-bold mb-5",children:"Product Categories"}),e.jsx(f,{})]})}export{p as default};
//# sourceMappingURL=ChemicalCategoryPage-BwDuWOV0.js.map
