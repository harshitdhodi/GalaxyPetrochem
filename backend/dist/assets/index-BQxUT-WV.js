import{h as e}from"./toArray-DIarnBRF.js";import{b as n,R as t,c as o}from"./vendor-X2E3PIZN.js";import{p as r,K as s,az as a,g as c,m as i,Q as l,r as u,aa as f,C as m,d,S as p,ab as v,a1 as g,M as y,ad as h,a9 as C,ac as x}from"./index-CvhnQ2ZS.js";import{R as b}from"./CheckCircleFilled-vSnFSXRd.js";import{R as E}from"./ExclamationCircleFilled-jOtwz4nB.js";import{R as k}from"./InfoCircleFilled-BiVI0bqr.js";import{c as N}from"./AntdIcon-Bc_RgQsY.js";import{b as O,f as j,_ as $,e as w,c as S,d as R}from"./objectSpread2-C2mPdFQ-.js";var P=n.forwardRef((function(e,t){var o=e.prefixCls,a=e.style,c=e.className,i=e.duration,l=void 0===i?4.5:i,u=e.showProgress,f=e.pauseOnHover,m=void 0===f||f,d=e.eventKey,p=e.content,v=e.closable,g=e.closeIcon,y=void 0===g?"x":g,h=e.props,C=e.onClick,x=e.onNoticeClose,b=e.times,E=e.hovering,k=n.useState(!1),S=O(k,2),R=S[0],P=S[1],I=n.useState(0),A=O(I,2),M=A[0],F=A[1],H=n.useState(0),D=O(H,2),z=D[0],L=D[1],T=E||R,W=l>0&&u,B=function(){x(d)};n.useEffect((function(){if(!T&&l>0){var e=Date.now()-z,n=setTimeout((function(){B()}),1e3*l-z);return function(){m&&clearTimeout(n),L(Date.now()-e)}}}),[l,T,b]),n.useEffect((function(){if(!T&&W&&(m||0===z)){var e,n=performance.now();return function t(){cancelAnimationFrame(e),e=requestAnimationFrame((function(e){var o=e+z-n,r=Math.min(o/(1e3*l),1);F(100*r),r<1&&t()}))}(),function(){m&&cancelAnimationFrame(e)}}}),[l,z,T,W,b]);var K=n.useMemo((function(){return"object"===j(v)&&null!==v?v:v?{closeIcon:y}:{}}),[v,y]),X=r(K,!0),G=100-(!M||M<0?0:M>100?100:M),Y="".concat(o,"-notice");return n.createElement("div",$({},h,{ref:t,className:N(Y,c,w({},"".concat(Y,"-closable"),v)),style:a,onMouseEnter:function(e){var n;P(!0),null==h||null===(n=h.onMouseEnter)||void 0===n||n.call(h,e)},onMouseLeave:function(e){var n;P(!1),null==h||null===(n=h.onMouseLeave)||void 0===n||n.call(h,e)},onClick:C}),n.createElement("div",{className:"".concat(Y,"-content")},p),v&&n.createElement("a",$({tabIndex:0,className:"".concat(Y,"-close"),onKeyDown:function(e){"Enter"!==e.key&&"Enter"!==e.code&&e.keyCode!==s.ENTER||B()},"aria-label":"Close"},X,{onClick:function(e){e.preventDefault(),e.stopPropagation(),B()}}),K.closeIcon),W&&n.createElement("progress",{className:"".concat(Y,"-progress"),max:"100",value:G},G+"%"))})),I=t.createContext({}),A=function(e){var n=e.children,o=e.classNames;return t.createElement(I.Provider,{value:{classNames:o}},n)},M=["className","style","classNames","styles"],F=function(o){var r,s,c,i,l,u=o.configList,f=o.placement,m=o.prefixCls,d=o.className,p=o.style,v=o.motion,g=o.onAllNoticeRemoved,y=o.onNoticeClose,h=o.stack,C=n.useContext(I).classNames,x=n.useRef({}),b=n.useState(null),E=O(b,2),k=E[0],A=E[1],F=n.useState([]),H=O(F,2),D=H[0],z=H[1],L=u.map((function(e){return{config:e,key:String(e.key)}})),T=(l={offset:8,threshold:3,gap:16},(r=h)&&"object"===j(r)&&(l.offset=null!==(s=r.offset)&&void 0!==s?s:8,l.threshold=null!==(c=r.threshold)&&void 0!==c?c:3,l.gap=null!==(i=r.gap)&&void 0!==i?i:16),[!!r,l]),W=O(T,2),B=W[0],K=W[1],X=K.offset,G=K.threshold,Y=K.gap,Q=B&&(D.length>0||L.length<=G),_="function"==typeof v?v(f):v;return n.useEffect((function(){B&&D.length>1&&z((function(e){return e.filter((function(e){return L.some((function(n){var t=n.key;return e===t}))}))}))}),[D,L,B]),n.useEffect((function(){var e,n;B&&x.current[null===(e=L[L.length-1])||void 0===e?void 0:e.key]&&A(x.current[null===(n=L[L.length-1])||void 0===n?void 0:n.key])}),[L,B]),t.createElement(a,$({key:f,className:N(m,"".concat(m,"-").concat(f),null==C?void 0:C.list,d,w(w({},"".concat(m,"-stack"),!!B),"".concat(m,"-stack-expanded"),Q)),style:p,keys:L,motionAppear:!0},_,{onAllRemoved:function(){g(f)}}),(function(n,o){var r=n.config,s=n.className,a=n.style,c=n.index,i=r,l=i.key,u=i.times,d=String(l),p=r,v=p.className,g=p.style,h=p.classNames,b=p.styles,E=S(p,M),O=L.findIndex((function(e){return e.key===d})),j={};if(B){var w=L.length-1-(O>-1?O:c-1),I="top"===f||"bottom"===f?"-50%":"0";if(w>0){var A,F,H;j.height=Q?null===(A=x.current[d])||void 0===A?void 0:A.offsetHeight:null==k?void 0:k.offsetHeight;for(var T=0,W=0;W<w;W++){var K;T+=(null===(K=x.current[L[L.length-1-W].key])||void 0===K?void 0:K.offsetHeight)+Y}var G=(Q?T:w*X)*(f.startsWith("top")?1:-1),_=!Q&&null!=k&&k.offsetWidth&&null!==(F=x.current[d])&&void 0!==F&&F.offsetWidth?((null==k?void 0:k.offsetWidth)-2*X*(w<3?w:3))/(null===(H=x.current[d])||void 0===H?void 0:H.offsetWidth):1;j.transform="translate3d(".concat(I,", ").concat(G,"px, 0) scaleX(").concat(_,")")}else j.transform="translate3d(".concat(I,", 0, 0)")}return t.createElement("div",{ref:o,className:N("".concat(m,"-notice-wrapper"),s,null==h?void 0:h.wrapper),style:R(R(R({},a),j),null==b?void 0:b.wrapper),onMouseEnter:function(){return z((function(n){return n.includes(d)?n:[].concat(e(n),[d])}))},onMouseLeave:function(){return z((function(e){return e.filter((function(e){return e!==d}))}))}},t.createElement(P,$({},E,{ref:function(e){O>-1?x.current[d]=e:delete x.current[d]},prefixCls:m,classNames:h,styles:b,className:N(v,null==C?void 0:C.notice),style:g,times:u,key:l,eventKey:l,onNoticeClose:y,hovering:B&&D.length>0})))}))},H=n.forwardRef((function(t,r){var s=t.prefixCls,a=void 0===s?"rc-notification":s,c=t.container,i=t.motion,l=t.maxCount,u=t.className,f=t.style,m=t.onAllRemoved,d=t.stack,p=t.renderNotifications,v=n.useState([]),g=O(v,2),y=g[0],h=g[1],C=function(e){var n,t=y.find((function(n){return n.key===e}));null==t||null===(n=t.onClose)||void 0===n||n.call(t),h((function(n){return n.filter((function(n){return n.key!==e}))}))};n.useImperativeHandle(r,(function(){return{open:function(n){h((function(t){var o,r=e(t),s=r.findIndex((function(e){return e.key===n.key})),a=R({},n);s>=0?(a.times=((null===(o=t[s])||void 0===o?void 0:o.times)||0)+1,r[s]=a):(a.times=0,r.push(a));return l>0&&r.length>l&&(r=r.slice(-l)),r}))},close:function(e){C(e)},destroy:function(){h([])}}}));var x=n.useState({}),b=O(x,2),E=b[0],k=b[1];n.useEffect((function(){var e={};y.forEach((function(n){var t=n.placement,o=void 0===t?"topRight":t;o&&(e[o]=e[o]||[],e[o].push(n))})),Object.keys(E).forEach((function(n){e[n]=e[n]||[]})),k(e)}),[y]);var N=function(e){k((function(n){var t=R({},n);return(t[e]||[]).length||delete t[e],t}))},j=n.useRef(!1);if(n.useEffect((function(){Object.keys(E).length>0?j.current=!0:j.current&&(null==m||m(),j.current=!1)}),[E]),!c)return null;var $=Object.keys(E);return o.createPortal(n.createElement(n.Fragment,null,$.map((function(e){var t=E[e],o=n.createElement(F,{key:e,configList:t,placement:e,prefixCls:a,className:null==u?void 0:u(e),style:null==f?void 0:f(e),motion:i,onNoticeClose:C,onAllNoticeRemoved:N,stack:d});return p?p(o,{prefixCls:a,key:e}):o}))),c)})),D=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications"],z=function(){return document.body},L=0;function T(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=t.getContainer,r=void 0===o?z:o,s=t.motion,a=t.prefixCls,c=t.maxCount,i=t.className,l=t.style,u=t.onAllRemoved,f=t.stack,m=t.renderNotifications,d=S(t,D),p=n.useState(),v=O(p,2),g=v[0],y=v[1],h=n.useRef(),C=n.createElement(H,{container:g,ref:h,prefixCls:a,motion:s,maxCount:c,className:i,style:l,onAllRemoved:u,stack:f,renderNotifications:m}),x=n.useState([]),b=O(x,2),E=b[0],k=b[1],N=n.useMemo((function(){return{open:function(n){var t=function(){for(var e={},n=arguments.length,t=new Array(n),o=0;o<n;o++)t[o]=arguments[o];return t.forEach((function(n){n&&Object.keys(n).forEach((function(t){var o=n[t];void 0!==o&&(e[t]=o)}))})),e}(d,n);null!==t.key&&void 0!==t.key||(t.key="rc-notification-".concat(L),L+=1),k((function(n){return[].concat(e(n),[{type:"open",config:t}])}))},close:function(n){k((function(t){return[].concat(e(t),[{type:"close",key:n}])}))},destroy:function(){k((function(n){return[].concat(e(n),[{type:"destroy"}])}))}}}),[]);return n.useEffect((function(){y(r())})),n.useEffect((function(){var e,n;h.current&&E.length&&(E.forEach((function(e){switch(e.type){case"open":h.current.open(e.config);break;case"close":h.current.close(e.key);break;case"destroy":h.current.destroy()}})),k((function(t){return e===t&&n||(e=t,n=t.filter((function(e){return!E.includes(e)}))),n})))}),[E]),[N,C]}const W=e=>{const{componentCls:n,iconCls:t,boxShadow:o,colorText:r,colorSuccess:s,colorError:a,colorWarning:c,colorInfo:i,fontSizeLG:f,motionEaseInOutCirc:m,motionDurationSlow:d,marginXS:p,paddingXS:v,borderRadiusLG:g,zIndexPopup:y,contentPadding:h,contentBg:C}=e,x=`${n}-notice`,b=new l("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:v,transform:"translateY(0)",opacity:1}}),E=new l("MessageMoveOut",{"0%":{maxHeight:e.height,padding:v,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}}),k={padding:v,textAlign:"center",[`${n}-custom-content`]:{display:"flex",alignItems:"center"},[`${n}-custom-content > ${t}`]:{marginInlineEnd:p,fontSize:f},[`${x}-content`]:{display:"inline-block",padding:h,background:C,borderRadius:g,boxShadow:o,pointerEvents:"all"},[`${n}-success > ${t}`]:{color:s},[`${n}-error > ${t}`]:{color:a},[`${n}-warning > ${t}`]:{color:c},[`${n}-info > ${t},\n      ${n}-loading > ${t}`]:{color:i}};return[{[n]:Object.assign(Object.assign({},u(e)),{color:r,position:"fixed",top:p,width:"100%",pointerEvents:"none",zIndex:y,[`${n}-move-up`]:{animationFillMode:"forwards"},[`\n        ${n}-move-up-appear,\n        ${n}-move-up-enter\n      `]:{animationName:b,animationDuration:d,animationPlayState:"paused",animationTimingFunction:m},[`\n        ${n}-move-up-appear${n}-move-up-appear-active,\n        ${n}-move-up-enter${n}-move-up-enter-active\n      `]:{animationPlayState:"running"},[`${n}-move-up-leave`]:{animationName:E,animationDuration:d,animationPlayState:"paused",animationTimingFunction:m},[`${n}-move-up-leave${n}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[n]:{[`${x}-wrapper`]:Object.assign({},k)}},{[`${n}-notice-pure-panel`]:Object.assign(Object.assign({},k),{padding:0,textAlign:"start"})}]},B=c("Message",(e=>{const n=i(e,{height:150});return[W(n)]}),(e=>({zIndexPopup:e.zIndexPopupBase+f+10,contentBg:e.colorBgElevated,contentPadding:`${(e.controlHeightLG-e.fontSize*e.lineHeight)/2}px ${e.paddingSM}px`})));var K=function(e,n){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(t[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)n.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(t[o[r]]=e[o[r]])}return t};const X={info:n.createElement(k,null),success:n.createElement(b,null),error:n.createElement(v,null),warning:n.createElement(E,null),loading:n.createElement(p,null)},G=e=>{let{prefixCls:t,type:o,icon:r,children:s}=e;return n.createElement("div",{className:N(`${t}-custom-content`,`${t}-${o}`)},r||X[o],n.createElement("span",null,s))};function Y(e){let n;const t=new Promise((t=>{n=e((()=>{t(!0)}))})),o=()=>{null==n||n()};return o.then=(e,n)=>t.then(e,n),o.promise=t,o}const Q=3,_=e=>{let{children:t,prefixCls:o}=e;const r=d(o),[s,a,c]=B(o,r);return s(n.createElement(A,{classNames:{list:N(a,c,r)}},t))},q=(e,t)=>{let{prefixCls:o,key:r}=t;return n.createElement(_,{prefixCls:o,key:r},e)},U=n.forwardRef(((e,t)=>{const{top:o,prefixCls:r,getContainer:s,maxCount:a,duration:c=Q,rtl:i,transitionName:l,onAllRemoved:u}=e,{getPrefixCls:f,getPopupContainer:d,message:p,direction:v}=n.useContext(m),y=r||f("message"),h=n.createElement("span",{className:`${y}-close-x`},n.createElement(g,{className:`${y}-close-icon`})),[C,x]=T({prefixCls:y,style:()=>({left:"50%",transform:"translateX(-50%)",top:null!=o?o:8}),className:()=>N({[`${y}-rtl`]:null!=i?i:"rtl"===v}),motion:()=>function(e,n){return{motionName:null!=n?n:`${e}-move-up`}}(y,l),closable:!1,closeIcon:h,duration:c,getContainer:()=>(null==s?void 0:s())||(null==d?void 0:d())||document.body,maxCount:a,onAllRemoved:u,renderNotifications:q});return n.useImperativeHandle(t,(()=>Object.assign(Object.assign({},C),{prefixCls:y,message:p}))),x}));let J=0;function V(e){const t=n.useRef(null);y();const o=n.useMemo((()=>{const e=e=>{var n;null===(n=t.current)||void 0===n||n.close(e)},o=o=>{if(!t.current){const e=()=>{};return e.then=()=>{},e}const{open:r,prefixCls:s,message:a}=t.current,c=`${s}-notice`,{content:i,icon:l,type:u,key:f,className:m,style:d,onClose:p}=o,v=function(e,n){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(t[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)n.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(t[o[r]]=e[o[r]])}return t}(o,["content","icon","type","key","className","style","onClose"]);let g=f;return null==g&&(J+=1,g=`antd-message-${J}`),Y((t=>(r(Object.assign(Object.assign({},v),{key:g,content:n.createElement(G,{prefixCls:s,type:u,icon:l},i),placement:"top",className:N(u&&`${c}-${u}`,m,null==a?void 0:a.className),style:Object.assign(Object.assign({},null==a?void 0:a.style),d),onClose:()=>{null==p||p(),t()}})),()=>{e(g)})))},r={open:o,destroy:n=>{var o;void 0!==n?e(n):null===(o=t.current)||void 0===o||o.destroy()}};return["info","success","warning","error","loading"].forEach((e=>{r[e]=(n,t,r)=>{let s,a,c;s=n&&"object"==typeof n&&"content"in n?n:{content:n},"function"==typeof t?c=t:(a=t,c=r);const i=Object.assign(Object.assign({onClose:c,duration:a},s),{type:e});return o(i)}})),r}),[]);return[o,n.createElement(U,Object.assign({key:"message-holder"},e,{ref:t}))]}const Z=t.createContext({});let ee=null,ne=e=>e(),te=[],oe={};function re(){const{getContainer:e,duration:n,rtl:t,maxCount:o,top:r}=oe,s=(null==e?void 0:e())||document.body;return{getContainer:()=>s,duration:n,rtl:t,maxCount:o,top:r}}const se=t.forwardRef(((e,o)=>{const{messageConfig:r,sync:s}=e,{getPrefixCls:a}=n.useContext(m),c=oe.prefixCls||a("message"),i=n.useContext(Z),[l,u]=V(Object.assign(Object.assign(Object.assign({},r),{prefixCls:c}),i.message));return t.useImperativeHandle(o,(()=>{const e=Object.assign({},l);return Object.keys(e).forEach((n=>{e[n]=function(){return s(),l[n].apply(l,arguments)}})),{instance:e,sync:s}})),u})),ae=t.forwardRef(((e,n)=>{const[o,r]=t.useState(re),s=()=>{r(re)};t.useEffect(s,[]);const a=x(),c=a.getRootPrefixCls(),i=a.getIconPrefixCls(),l=a.getTheme(),u=t.createElement(se,{ref:n,sync:s,messageConfig:o});return t.createElement(C,{prefixCls:c,iconPrefixCls:i,theme:l},a.holderRender?a.holderRender(u):u)}));function ce(){if(!ee){const e=document.createDocumentFragment(),n={fragment:e};return ee=n,void ne((()=>{h()(t.createElement(ae,{ref:e=>{const{instance:t,sync:o}=e||{};Promise.resolve().then((()=>{!n.instance&&t&&(n.instance=t,n.sync=o,ce())}))}}),e)}))}ee.instance&&(te.forEach((n=>{const{type:t,skipped:o}=n;if(!o)switch(t){case"open":ne((()=>{const e=ee.instance.open(Object.assign(Object.assign({},oe),n.config));null==e||e.then(n.resolve),n.setCloseFn(e)}));break;case"destroy":ne((()=>{null==ee||ee.instance.destroy(n.key)}));break;default:ne((()=>{var o;const r=(o=ee.instance)[t].apply(o,e(n.args));null==r||r.then(n.resolve),n.setCloseFn(r)}))}})),te=[])}const ie={open:function(e){const n=Y((n=>{let t;const o={type:"open",config:e,resolve:n,setCloseFn:e=>{t=e}};return te.push(o),()=>{t?ne((()=>{t()})):o.skipped=!0}}));return ce(),n},destroy:e=>{te.push({type:"destroy",key:e}),ce()},config:function(e){oe=Object.assign(Object.assign({},oe),e),ne((()=>{var e;null===(e=null==ee?void 0:ee.sync)||void 0===e||e.call(ee)}))},useMessage:function(e){return V(e)},_InternalPanelDoNotUseOrYouWillBeFired:e=>{const{prefixCls:t,className:o,type:r,icon:s,content:a}=e,c=K(e,["prefixCls","className","type","icon","content"]),{getPrefixCls:i}=n.useContext(m),l=t||i("message"),u=d(l),[f,p,v]=B(l,u);return f(n.createElement(P,Object.assign({},c,{prefixCls:l,className:N(o,p,`${l}-notice-pure-panel`,v,u),eventKey:"pure",duration:null,content:n.createElement(G,{prefixCls:l,type:r,icon:s},a)})))}};["success","info","warning","error","loading"].forEach((e=>{ie[e]=function(){for(var n=arguments.length,t=new Array(n),o=0;o<n;o++)t[o]=arguments[o];return function(e,n){const t=Y((t=>{let o;const r={type:e,args:n,resolve:t,setCloseFn:e=>{o=e}};return te.push(r),()=>{o?ne((()=>{o()})):r.skipped=!0}}));return ce(),t}(e,t)}}));export{ie as s};
//# sourceMappingURL=index-BQxUT-WV.js.map
