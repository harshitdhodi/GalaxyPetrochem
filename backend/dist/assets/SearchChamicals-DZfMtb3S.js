import{j as e,T as s,e as a,f as l,g as t,i as n,h as r,B as i,b8 as c,I as d}from"./main-CzSo-TQq.js";import{R as o,b as h}from"./vendor-BCMiqwDy.js";import"./utils-ZFgnvnbw.js";function m({chemicals:c,onRemoveChemical:d}){const[h,m]=o.useState(1),[u,x]=o.useState(10),[p,j]=o.useState(""),[v,N]=o.useState(""),g=c.filter((e=>e.name.toLowerCase().includes(p.toLowerCase())&&e.cas_number.toLowerCase().includes(v.toLowerCase()))),b=Math.ceil(g.length/u),f=(h-1)*u,S=f+u,C=g.slice(f,S);return e.jsxs("div",{className:"border rounded-md mt-4",children:[e.jsxs(s,{children:[e.jsxs(a,{children:[e.jsxs(l,{children:[e.jsx(t,{children:"Chemical Name"}),e.jsx(t,{children:"CAS Number"})]}),e.jsxs(l,{children:[e.jsx(n,{children:e.jsx("input",{type:"text",placeholder:"Filter by Chemical Name",value:p,onChange:e=>j(e.target.value),className:"w-full border rounded px-2 py-1"})}),e.jsx(n,{children:e.jsx("input",{type:"text",placeholder:"Filter by CAS Number",value:v,onChange:e=>N(e.target.value),className:"w-full border rounded px-2 py-1"})})]})]}),e.jsx(r,{children:0===C.length?e.jsx(l,{children:e.jsx(n,{colSpan:2,className:"text-center",children:"No chemicals found."})}):C.map((s=>e.jsxs(l,{children:[e.jsx(n,{children:s.name}),e.jsx(n,{children:s.cas_number})]},s._id)))})]}),e.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-t",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:["Items per page:"," ",e.jsxs("select",{className:"border rounded",value:u,onChange:e=>x(Number(e.target.value)),children:[e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:20,children:"20"}),e.jsx("option",{value:50,children:"50"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(i,{variant:"outline",size:"sm",onClick:()=>m(h-1),disabled:1===h,children:"Previous"}),e.jsx("span",{className:"flex items-center gap-1",children:e.jsxs("span",{className:"text-sm text-gray-500",children:[f+1," - ",Math.min(S,g.length)," of"," ",g.length]})}),e.jsx(i,{variant:"outline",size:"sm",onClick:()=>m(h+1),disabled:h===b,children:"Next"})]})]})]})}function u({onSelectSupplier:s}){const[a,l]=h.useState(""),[t,n]=h.useState(""),[r,i]=h.useState(null),[o,u]=h.useState([]),{data:x,isLoading:p}=c(t.charAt(0),{skip:0===t.length});return e.jsxs("div",{className:"mt-4",children:[e.jsx(d,{placeholder:"Search Supplier",value:a,onChange:e=>{const s=e.target.value;l(s),n(s)},className:"w-full mb-4"}),p?e.jsx("div",{children:"Loading..."}):t&&x&&x.length>0&&e.jsx("ul",{className:"border bg-white rounded max-h-40 overflow-y-auto",children:x.map((a=>e.jsx("li",{onClick:()=>(e=>{i(e),l(e.name),n(""),s(e)})(a),className:"p-2 hover:bg-gray-200 cursor-pointer",children:a.name},a.id)))}),0===x?.length&&!p&&t&&e.jsx("div",{className:"p-2 text-gray-500",children:"No Supplier found"}),e.jsx("div",{className:"mt-4",children:e.jsx(m,{chemicals:r?.chemical_ids||[],onRemoveChemical:e=>{u((s=>s.filter((s=>s.id!==e.id))))}})})]})}function x(){const[s,a]=o.useState(null),[l,t]=o.useState([]);return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-purple-700",children:"Search Chemical By Supplier Name"}),e.jsx("div",{className:"space-y-4",children:e.jsx(u,{onSelectCustomer:e=>{a(e),t([])}})})]})}export{x as default};
//# sourceMappingURL=SearchChamicals-DZfMtb3S.js.map
