import{ec as e,ed as t,j as o}from"./main-CzSo-TQq.js";import{f as i}from"./vendor-BCMiqwDy.js";import{B as r}from"./Breadcrumb-CWo6S1TK.js";import{B as s}from"./index-DSpNpUBy.js";import{R as a}from"./PlusOutlined-CdZ2zpwb.js";import{F as l}from"./Table-C-n2--3-.js";import{R as n}from"./DownloadOutlined-xI3cqZd9.js";import{S as d}from"./index-BJFDSJ5H.js";import{R as c}from"./EditOutlined-nN6QtEy1.js";import{R as p}from"./DeleteOutlined-BWd8Mtlr.js";import{s as m}from"./index-9ZEY5nY4.js";import{M as j}from"./index-CxFUZGYS.js";import"./utils-ZFgnvnbw.js";import"./dropdown-Dz-q1Mre.js";import"./EllipsisOutlined-BfcsApT3.js";import"./styleChecker-CytH8GIy.js";import"./index-B7eE-GBL.js";import"./getAllowClear-CUuit-6u.js";import"./CheckOutlined-Cn3WkZbn.js";import"./Input-dXXm4f2Q.js";import"./index-D5p0e1mK.js";import"./CheckCircleFilled-ReswMhjZ.js";import"./ExclamationCircleFilled-xRTYYEFC.js";import"./InfoCircleFilled-CAKYzuNC.js";import"./ActionButton-B_-XN75h.js";import"./Skeleton-DRGMwVq6.js";const f=()=>{const f=i(),{data:u,isLoading:x}=e(),[h]=t(),w=[{title:"Info",key:"info",render:(e,t)=>o.jsxs("div",{children:[o.jsx("strong",{children:t.name}),o.jsx("div",{children:t.contactNo}),o.jsx("div",{style:{color:"#666"},children:t.address})]}),sorter:(e,t)=>e.name.localeCompare(t.name)},{title:"Email",dataIndex:"email",key:"email"},{title:"Post Applied For",dataIndex:"postAppliedFor",key:"postAppliedFor",sorter:(e,t)=>e.postAppliedFor.localeCompare(t.postAppliedFor)},{title:"Resume",key:"resume",render:(e,t)=>o.jsx(n,{onClick:()=>(async e=>{try{const t=e.split("/").pop(),o=await fetch(`/api/image/pdf/download/${t}`);if(!o.ok)throw new Error("Download failed");const i=await o.blob(),r=window.URL.createObjectURL(i),s=document.createElement("a");s.href=r,s.download=t,document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(r)}catch(t){m.error("Failed to download file")}})(t.resumeFile),style:{cursor:"pointer",color:"#1890ff"}})},{title:"Applied Date",dataIndex:"createdAt",key:"createdAt",render:e=>new Date(e).toLocaleDateString(),sorter:(e,t)=>new Date(e.createdAt)-new Date(t.createdAt)},{title:"Actions",key:"actions",render:(e,t)=>o.jsxs(d,{size:"middle",children:[o.jsx(c,{style:{color:"#1890ff",cursor:"pointer"},onClick:()=>(e=>{f(`/career/edit/${e._id}`)})(t)}),o.jsx(p,{style:{color:"#ff4d4f",cursor:"pointer"},onClick:()=>{return e=t._id,void j.confirm({title:"Are you sure you want to delete this application?",content:"This action cannot be undone.",okText:"Yes",okType:"danger",cancelText:"No",onOk:async()=>{try{await h(e).unwrap(),m.success("Application deleted successfully!")}catch(t){m.error(t.message||"Something went wrong")}}});var e}})]})}];return o.jsxs("div",{children:[o.jsx(r,{items:[{title:o.jsx("span",{onClick:()=>f("/dashboard"),className:"cursor-pointer",children:"Dashboard"})},{title:"Career Applications"}],className:"mb-4"}),o.jsxs("div",{className:"flex justify-between items-center mb-5",children:[o.jsx("div",{className:"text-2xl font-semibold",children:"Career List "}),o.jsx(s,{type:"primary",icon:o.jsx(a,{}),onClick:()=>f("/career/add"),style:{marginBottom:"16px"},className:"float-right",children:"Add New Application"})]}),o.jsx(l,{columns:w,dataSource:u?.data||[],loading:x,rowKey:"_id",pagination:{pageSize:10,showSizeChanger:!0,showTotal:e=>`Total ${e} applications`},scroll:{x:!0}})]})};export{f as default};
//# sourceMappingURL=CareerTable-BfF7Rxoi.js.map
