import{R as o,j as e,T as f,n as w,o as g,p as b,s as h,q as T,B as N,r as C,bo as I,I as L}from"./index-2C6dvy5y-1746272272211.js";function P({chemicals:m,onRemoveChemical:u}){const[t,l]=o.useState(1),[n,r]=o.useState(10),[x,v]=o.useState(""),[p,c]=o.useState(""),i=m.filter(s=>s.name.toLowerCase().includes(x.toLowerCase())&&s.cas_number.toLowerCase().includes(p.toLowerCase())),S=Math.ceil(i.length/n),d=(t-1)*n,j=d+n,a=i.slice(d,j);return e.jsxs("div",{className:"border rounded-md mt-4",children:[e.jsxs(f,{children:[e.jsxs(w,{children:[e.jsxs(g,{children:[e.jsx(b,{children:"Chemical Name"}),e.jsx(b,{children:"CAS Number"})]}),e.jsxs(g,{children:[e.jsx(h,{children:e.jsx("input",{type:"text",placeholder:"Filter by Chemical Name",value:x,onChange:s=>v(s.target.value),className:"w-full border rounded px-2 py-1"})}),e.jsx(h,{children:e.jsx("input",{type:"text",placeholder:"Filter by CAS Number",value:p,onChange:s=>c(s.target.value),className:"w-full border rounded px-2 py-1"})})]})]}),e.jsx(T,{children:a.length===0?e.jsx(g,{children:e.jsx(h,{colSpan:2,className:"text-center",children:"No chemicals found."})}):a.map(s=>e.jsxs(g,{children:[e.jsx(h,{children:s.name}),e.jsx(h,{children:s.cas_number})]},s._id))})]}),e.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-t",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:["Items per page:"," ",e.jsxs("select",{className:"border rounded",value:n,onChange:s=>r(Number(s.target.value)),children:[e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:20,children:"20"}),e.jsx("option",{value:50,children:"50"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(N,{variant:"outline",size:"sm",onClick:()=>l(t-1),disabled:t===1,children:"Previous"}),e.jsx("span",{className:"flex items-center gap-1",children:e.jsxs("span",{className:"text-sm text-gray-500",children:[d+1," - ",Math.min(j,i.length)," of"," ",i.length]})}),e.jsx(N,{variant:"outline",size:"sm",onClick:()=>l(t+1),disabled:t===S,children:"Next"})]})]})]})}function R({onSelectSupplier:m}){const[u,t]=C.useState(""),[l,n]=C.useState(""),[r,x]=C.useState(null),[v,p]=C.useState([]),{data:c,isLoading:i}=I(l.charAt(0),{skip:l.length===0}),S=a=>{x(a),t(a.name),n(""),m(a)},d=a=>{const s=a.target.value;t(s),n(s)},j=a=>{p(s=>s.filter(y=>y.id!==a.id))};return e.jsxs("div",{className:"mt-4",children:[e.jsx(L,{placeholder:"Search Supplier",value:u,onChange:d,className:"w-full mb-4"}),i?e.jsx("div",{children:"Loading..."}):l&&c&&c.length>0&&e.jsx("ul",{className:"border bg-white rounded max-h-40 overflow-y-auto",children:c.map(a=>e.jsx("li",{onClick:()=>S(a),className:"p-2 hover:bg-gray-200 cursor-pointer",children:a.name},a.id))}),(c==null?void 0:c.length)===0&&!i&&l&&e.jsx("div",{className:"p-2 text-gray-500",children:"No Supplier found"}),e.jsx("div",{className:"mt-4",children:e.jsx(P,{chemicals:(r==null?void 0:r.chemical_ids)||[],onRemoveChemical:j})})]})}function A(){const[m,u]=o.useState(null),[t,l]=o.useState([]),n=r=>{u(r),l([])};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-purple-700",children:"Search Chemical By Supplier Name"}),e.jsx("div",{className:"space-y-4",children:e.jsx(R,{onSelectCustomer:n})})]})}export{A as default};
