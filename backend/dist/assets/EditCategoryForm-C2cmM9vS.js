import{j as e}from"./main-CYgOQvaw.js";import{k as a,f as t,b as l,L as s}from"./vendor-BCMiqwDy.js";import{a as o}from"./utils-ZFgnvnbw.js";const r=()=>{const{categoryId:r,subCategoryId:n,subSubCategoryId:c}=a(),i=t(),[d,m]=l.useState(""),[u,h]=l.useState(""),[b,p]=l.useState(""),[g,x]=l.useState(""),[y,j]=l.useState(""),[f,v]=l.useState(""),[N,C]=l.useState(""),[w,S]=l.useState(""),[F,k]=l.useState(""),[I,$]=l.useState(""),[q,M]=l.useState(""),[L,D]=l.useState(""),[A,E]=l.useState(""),[T,U]=l.useState(""),[z,R]=l.useState(),[O,P]=l.useState(),[B,H]=l.useState(0),[K,W]=l.useState("active");l.useEffect((()=>{(async()=>{let e="";r&&n&&c?e=`/api/chemicalCategory/getSpecificSubSubcategory?categoryId=${r}&subCategoryId=${n}&subSubCategoryId=${c}`:r&&n?e=`/api/chemicalCategory/getSpecificSubcategory?categoryId=${r}&subCategoryId=${n}`:r&&(e=`/api/chemicalCategory/getSpecificCategoryById?categoryId=${r}`);try{const a=await o.get(e,{withCredentials:!0}),{category:t,details:l,photo:s,alt:r,imgtitle:n,slug:c,metatitle:i,metadescription:d,metakeywords:u,metalanguage:h,metacanonical:b,metaschema:g,otherMeta:y,changeFreq:f,priority:N}=a.data;m(t),v(s),p(r),x(n),C(c),W(K),j(l),S(i),k(d),$(u),M(h),D(b),E(g),U(y),P(f),H(N)}catch(a){}})()}),[r,n,c]);l.useEffect((()=>{R(`https://rndtechnosoft.com/${N}`)}),[N,r,n]),l.useEffect((()=>{C(d.replace(/\s+/g,"-").toLowerCase().replace(/[^a-z0-9-]/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""))}),[d]),l.useEffect((()=>{C(N.toLowerCase().replace(/[^a-z0-9-]/g,"").replace(/--+/g,"-"))}),[N]);return e.jsxs("form",{onSubmit:async e=>{e.preventDefault();let a="";r&&n&&c?a=`/api/chemicalCategory/updatesubsubcategory?categoryId=${r}&subCategoryId=${n}&subSubCategoryId=${c}`:r&&n?a=`/api/chemicalCategory/updateSubCategory?categoryId=${r}&subCategoryId=${n}`:r&&(a=`/api/chemicalCategory/updateCategory?categoryId=${r}`);const t=new FormData;t.append("category",d),t.append("alt",b),t.append("imgtitle",g),t.append("slug",N),t.append("metatitle",w||""),t.append("metakeywords",I||""),t.append("metadescription",F||""),t.append("metalanguage",q||""),t.append("metacanonical",L||""),t.append("metaschema",A||""),t.append("otherMeta",T||""),t.append("url",z),t.append("changeFreq",O||""),t.append("priority",B),t.append("status",K),t.append("details",y),u&&t.append("photo",u);try{await o.put(a,t,{withCredentials:!0,headers:{"Content-Type":"multipart/form-data"}});i("/chemical-category")}catch(l){alert(l.response?l.response.data.error:"An error occurred")}},className:"",children:[e.jsx("nav",{children:e.jsxs("ul",{className:"flex gap-2 mb-5 flex-wrap",children:[e.jsx("li",{children:e.jsx(s,{to:"/",className:"text-gray-500 hover:text-main",children:"Dashboard"})}),e.jsx("li",{className:"text-gray-500",children:">"}),e.jsx("li",{children:e.jsx(s,{to:"/chemical-category  ",className:"text-gray-500 hover:text-main",children:"Categories"})}),e.jsx("li",{className:"text-gray-500",children:">"}),e.jsx("li",{children:e.jsx(s,{to:"",className:"text-main hover:text-main",children:"Add Category"})})]})}),e.jsx("h1",{className:"text-xl font-bold font-serif text-gray-700 uppercase text-center",children:"Edit Category"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"category",className:"block font-semibold mb-2",children:"Category"}),e.jsx("input",{type:"text",id:"category",value:d,onChange:e=>m(e.target.value),className:"w-full p-2 border rounded focus:outline-none",required:!0})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("label",{htmlFor:"photo",className:"block font-semibold mb-2",children:"Photo"}),e.jsx("input",{type:"file",name:"photo",id:"photo",onChange:e=>{const a=e.target.files[0];h(a)},className:"border rounded focus:outline-none",accept:"image/*"}),(u||f)&&e.jsxs("div",{className:"mt-2 w-56 relative group",children:[e.jsx("img",{src:u?URL.createObjectURL(u):`/api/logo/download/${f}`,alt:b||"Category Image",className:"h-32 w-56 object-cover"}),e.jsx("button",{type:"button",onClick:()=>{h(""),p(""),x("")},className:"absolute top-4 right-2 bg-red-500 text-white rounded-md p-1 size-6 flex items-center justify-center hover:bg-red-600 focus:outline-none",children:"X"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"alt",className:"block font-semibold mb-2",children:"Alternative Text"}),e.jsx("input",{type:"text",id:"alt",value:b,onChange:e=>p(e.target.value),className:"w-full p-2 border rounded focus:outline-none",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"imgtitle",className:"block font-semibold mb-2",children:"Image Title Text"}),e.jsx("input",{type:"text",id:"imgtitle",value:g,onChange:e=>x(e.target.value),className:"w-full p-2 border rounded focus:outline-none",required:!0})]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"imgtitle",className:"block font-semibold mb-2",children:"Details"}),e.jsx("textarea",{type:"text",id:"details",value:y,onChange:e=>j(e.target.value),className:"w-full p-2 border rounded focus:outline-none",required:!0})]}),e.jsxs("div",{className:"mb-4 mt-4",children:[e.jsx("label",{htmlFor:"slug",className:"block font-semibold mb-2",children:"Slug"}),e.jsx("input",{type:"text",id:"slug",value:N,onChange:e=>C(e.target.value),className:"w-full p-2 border rounded focus:outline-none"})]}),e.jsxs("div",{className:"mb-4 mt-4",children:[e.jsx("label",{htmlFor:"url",className:"block font-semibold mb-2",children:"URL"}),e.jsx("input",{type:"text",id:"url",value:z,disabled:!0,className:"w-full p-2 border rounded focus:outline-none"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"meta",className:"block font-semibold mb-2",children:"Meta Title"}),e.jsx("textarea",{id:"meta",value:w,onChange:e=>S(e.target.value),className:"w-full p-2 border rounded focus:outline-none",rows:"3"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"meta",className:"block font-semibold mb-2",children:"Meta Description"}),e.jsx("textarea",{id:"meta",value:F,onChange:e=>k(e.target.value),className:"w-full p-2 border rounded focus:outline-none",rows:"3"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"meta",className:"block font-semibold mb-2",children:"Meta Keywords"}),e.jsx("textarea",{id:"meta",value:I,onChange:e=>$(e.target.value),className:"w-full p-2 border rounded focus:outline-none",rows:"3"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"meta",className:"block font-semibold mb-2",children:"Meta Canonical"}),e.jsx("textarea",{id:"meta",value:L,onChange:e=>D(e.target.value),className:"w-full p-2 border rounded focus:outline-none",rows:"3"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"meta",className:"block font-semibold mb-2",children:"Meta Language"}),e.jsx("textarea",{id:"meta",value:q,onChange:e=>M(e.target.value),className:"w-full p-2 border rounded focus:outline-none",rows:"3"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"meta",className:"block font-semibold mb-2",children:"Other Meta"}),e.jsx("textarea",{id:"meta",value:T,onChange:e=>U(e.target.value),className:"w-full p-2 border rounded focus:outline-none",rows:"3"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"meta",className:"block font-semibold mb-2",children:"Schema"}),e.jsx("textarea",{id:"meta",value:A,onChange:e=>E(e.target.value),className:"w-full p-2 border rounded focus:outline-none",rows:"3"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"priority",className:"block font-semibold mb-2",children:"Priority"}),e.jsx("input",{type:"number",id:"priority",min:0,max:1,step:.01,value:B,onChange:e=>H(e.target.value),className:"w-full p-2 border rounded focus:outline-none"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"changeFreq",className:"block font-semibold mb-2",children:"Change Frequency"}),e.jsxs("select",{id:"changeFreq",value:O,onChange:e=>P(e.target.value),className:"w-full p-2 border rounded focus:outline-none",children:[e.jsx("option",{value:"",children:"Select Change Frequency"}),e.jsx("option",{value:"always",children:"Always"}),e.jsx("option",{value:"hourly",children:"Hourly"}),e.jsx("option",{value:"daily",children:"Daily"}),e.jsx("option",{value:"weekly",children:"Weekly"}),e.jsx("option",{value:"monthly",children:"Monthly"}),e.jsx("option",{value:"yearly",children:"Yearly"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"status",className:"block font-semibold mb-2",children:"Status"}),e.jsxs("select",{id:"status",value:K,onChange:e=>W(e.target.value),className:"w-full p-2 border rounded focus:outline-none",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]}),e.jsx("button",{type:"submit",className:"bg-blue-500 text-white py-2 px-4 rounded",children:"Update Category"})]})};export{r as default};
//# sourceMappingURL=EditCategoryForm-C2cmM9vS.js.map
