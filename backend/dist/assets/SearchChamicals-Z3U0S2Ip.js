import{j as e,B as s,aa as a,I as l}from"./main-DbCIA5nM.js";import{R as t,b as r}from"./vendor-X2E3PIZN.js";import{T as n,a as i,b as c,c as d,e as o,d as h}from"./table-DVNdpQ_I.js";import"./utils-ZFgnvnbw.js";function m({chemicals:a,onRemoveChemical:l}){const[r,m]=t.useState(1),[u,x]=t.useState(10),[p,j]=t.useState(""),[v,N]=t.useState(""),g=a.filter((e=>e.name.toLowerCase().includes(p.toLowerCase())&&e.cas_number.toLowerCase().includes(v.toLowerCase()))),b=Math.ceil(g.length/u),f=(r-1)*u,S=f+u,C=g.slice(f,S);return e.jsxs("div",{className:"border rounded-md mt-4",children:[e.jsxs(n,{children:[e.jsxs(i,{children:[e.jsxs(c,{children:[e.jsx(d,{children:"Chemical Name"}),e.jsx(d,{children:"CAS Number"})]}),e.jsxs(c,{children:[e.jsx(o,{children:e.jsx("input",{type:"text",placeholder:"Filter by Chemical Name",value:p,onChange:e=>j(e.target.value),className:"w-full border rounded px-2 py-1"})}),e.jsx(o,{children:e.jsx("input",{type:"text",placeholder:"Filter by CAS Number",value:v,onChange:e=>N(e.target.value),className:"w-full border rounded px-2 py-1"})})]})]}),e.jsx(h,{children:0===C.length?e.jsx(c,{children:e.jsx(o,{colSpan:2,className:"text-center",children:"No chemicals found."})}):C.map((s=>e.jsxs(c,{children:[e.jsx(o,{children:s.name}),e.jsx(o,{children:s.cas_number})]},s._id)))})]}),e.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-t",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:["Items per page:"," ",e.jsxs("select",{className:"border rounded",value:u,onChange:e=>x(Number(e.target.value)),children:[e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:20,children:"20"}),e.jsx("option",{value:50,children:"50"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(s,{variant:"outline",size:"sm",onClick:()=>m(r-1),disabled:1===r,children:"Previous"}),e.jsx("span",{className:"flex items-center gap-1",children:e.jsxs("span",{className:"text-sm text-gray-500",children:[f+1," - ",Math.min(S,g.length)," of"," ",g.length]})}),e.jsx(s,{variant:"outline",size:"sm",onClick:()=>m(r+1),disabled:r===b,children:"Next"})]})]})]})}function u({onSelectSupplier:s}){const[t,n]=r.useState(""),[i,c]=r.useState(""),[d,o]=r.useState(null),[h,u]=r.useState([]),{data:x,isLoading:p}=a(i.charAt(0),{skip:0===i.length});return e.jsxs("div",{className:"mt-4",children:[e.jsx(l,{placeholder:"Search Supplier",value:t,onChange:e=>{const s=e.target.value;n(s),c(s)},className:"w-full mb-4"}),p?e.jsx("div",{children:"Loading..."}):i&&x&&x.length>0&&e.jsx("ul",{className:"border bg-white rounded max-h-40 overflow-y-auto",children:x.map((a=>e.jsx("li",{onClick:()=>(e=>{o(e),n(e.name),c(""),s(e)})(a),className:"p-2 hover:bg-gray-200 cursor-pointer",children:a.name},a.id)))}),0===x?.length&&!p&&i&&e.jsx("div",{className:"p-2 text-gray-500",children:"No Supplier found"}),e.jsx("div",{className:"mt-4",children:e.jsx(m,{chemicals:d?.chemical_ids||[],onRemoveChemical:e=>{u((s=>s.filter((s=>s.id!==e.id))))}})})]})}function x(){const[s,a]=t.useState(null),[l,r]=t.useState([]);return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-purple-700",children:"Search Chemical By Supplier Name"}),e.jsx("div",{className:"space-y-4",children:e.jsx(u,{onSelectCustomer:e=>{a(e),r([])}})})]})}export{x as default};
//# sourceMappingURL=SearchChamicals-Z3U0S2Ip.js.map
