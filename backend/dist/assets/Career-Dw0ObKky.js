import{e6 as e,l as s,j as a,aE as r,I as l,B as t}from"./main-CYgOQvaw.js";import{b as n,u as i,L as d}from"./vendor-BCMiqwDy.js";import{T as c}from"./textarea-BQffPqX4.js";import{B as o}from"./Banner-CcIOM-ft.js";import{a as m}from"./utils-ZFgnvnbw.js";import{R as p}from"./recaptcha-wrapper-Bf3ojibv.js";import"./index-CMYIxM2W.js";function x(){const[x,u]=n.useState({name:"",address:"",email:"",contactNo:"",postAppliedFor:""}),[h,j]=n.useState(null),[f,g]=n.useState(!1),[v,N]=n.useState(null),[y,{isLoading:b}]=e(),F=i().pathname.replace(/^\//,"")||"career",{data:C,isLoading:w}=s(F),[A,L]=n.useState(null),S=n.useRef(null),q=n.useRef(null);n.useEffect((()=>{m.get("/api/careerInfo").then((e=>{e.data.length>0&&L(e.data[0])})).catch((e=>{}))}),[]);const B=e=>{const{id:s,value:a}=e.target;u((e=>({...e,[s]:a})))},D=()=>{u({name:"",address:"",email:"",contactNo:"",postAppliedFor:""}),j(null),S.current&&S.current.reset(),q.current&&q.current.reset(),N(null)};return a.jsxs(a.Fragment,{children:[w?a.jsx("div",{children:"Loading banner..."}):a.jsx(o,{imageUrl:C&&C.length>0?`/api/image/download/${C[0].image}`:"/assets/career-CkIT_sJc.jpg"}),a.jsxs("div",{className:"sm:max-w-[75rem] w-full mx-auto",children:[a.jsx("nav",{className:"py-4 px-4 sm:px-0 md:px-6",children:a.jsxs("div",{className:"flex border-b border-gray-300 pb-4 items-center space-x-2 text-sm",children:[a.jsx(d,{to:"/",className:"text-primary hover:text-gray-900",children:"Home"}),a.jsx("span",{className:"text-primary",children:"Â»"}),a.jsx("span",{className:"text-main",children:"Careers"})]})}),a.jsxs("div",{className:"mb-7 px-4 md:px-6 sm:px-0",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Careers"}),a.jsx("div",{className:"bg-primary h-1 w-12"})]}),A&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"mb-4",children:a.jsx("div",{dangerouslySetInnerHTML:{__html:A.info}})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 overflow-hidden w-full gap-7 px-4 md:px-6 sm:px-0",children:[a.jsxs("form",{ref:S,className:"space-y-6 w-full",onSubmit:async e=>{if(e.preventDefault(),!v)return void alert("Please complete the reCAPTCHA");if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(x.email))try{g(!0);const e=new FormData;Object.keys(x).forEach((s=>{e.append(s,x[s])})),h&&e.append("resumeFile",h);const s=await m.post("/api/career/add",e,{headers:{"Content-Type":"multipart/form-data"}});D(),201===s.status&&(alert("Application submitted successfully!"),D())}catch(s){alert("Failed to submit application: "+s.response?.data?.message||s.message)}finally{g(!1)}else alert("Please enter a valid email address")},children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(r,{htmlFor:"name",children:"Name*"}),a.jsx(l,{id:"name",required:!0,className:"rounded-none",value:x.name,onChange:B})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(r,{htmlFor:"address",children:"Address*"}),a.jsx(c,{id:"address",required:!0,className:"rounded-none",value:x.address,onChange:B,maxLength:500})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(r,{htmlFor:"email",children:"Email*"}),a.jsx(l,{id:"email",type:"email",required:!0,className:"rounded-none",value:x.email,onChange:B,maxLength:100})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(r,{htmlFor:"contactNo",children:"Contact No*"}),a.jsx(l,{id:"contactNo",type:"tel",required:!0,className:"rounded-none",value:x.contactNo,onChange:B,maxLength:20})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(r,{htmlFor:"resume",children:"Upload Your Resume*"}),a.jsx("div",{className:"text-sm text-gray-500",children:"[doc, docx, or pdf, max 5MB]"}),a.jsx(l,{id:"resume",type:"file",accept:".doc,.docx,.pdf",required:!0,className:"rounded-none",onChange:e=>{const s=e.target.files[0];if(s){if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(s.type))return alert("Please upload only PDF, DOC, or DOCX files"),void(e.target.value=null);if(s.size>5242880)return alert("File size must be less than 5MB"),void(e.target.value=null);j(s)}}})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(r,{htmlFor:"postAppliedFor",children:"Post Applied For*"}),a.jsx(l,{id:"postAppliedFor",required:!0,className:"rounded-none",value:x.postAppliedFor,onChange:B,maxLength:100})]}),a.jsx("div",{className:"space-y-2   ",children:a.jsx(p,{ref:q,sitekey:"6Lfc_AQrAAAAACZeHEU6zFrGBNcdeni4-s3Ebx93",onChange:e=>N(e)})}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx(t,{type:"submit",className:"bg-main rounded-sm text-lg py-3 hover:bg-main_light",disabled:b||f,children:b||f?"Submitting...":"Submit"}),a.jsx(t,{type:"button",variant:"destructive",className:"bg-primary hover:bg-secondary text-lg py-3 rounded-sm",onClick:e=>{e.preventDefault(),D()},children:"Reset"})]})]}),a.jsx("div",{className:"flex flex-col items-center justify-start w-full",children:a.jsx("div",{className:"w-full flex justify-center items-center",children:a.jsx("img",{src:A.image?`/api/image/download/${A.image}`:"no-image",alt:"Career growth illustration",className:"object-contain w-full max-h-80"})})})]})]})]})]})}export{x as default};
//# sourceMappingURL=Career-Dw0ObKky.js.map
