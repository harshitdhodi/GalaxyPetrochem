import{u as f,j as e,L as h,r as o,i as p,k as j,g as u}from"./index-CkLbobrs-1746075606789.js";function b({title:l,image:i,subcategories:s,slug:c}){const n=f();console.log("Products in ProductSection:",s);const d=a=>{n(`/${c}/${a}`)};return e.jsxs("div",{className:"mb-12",children:[e.jsx("h2",{className:"text-2xl font-bold text-[#0a3161] mb-2",children:l}),e.jsx("div",{className:"h-1 w-16 bg-[#0a3161] mb-6"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-6",children:[e.jsx("div",{className:"flex-shrink-0 border bg-[#2b60d9]",children:e.jsx("div",{className:"w-64 h-64 bg-white p-5 rounded-full m-4 border overflow-hidden",children:e.jsx("img",{src:i||"/placeholder.svg",alt:l,className:"w-full h-full object-cover"})})}),e.jsx("div",{className:"flex-grow",children:e.jsx("div",{className:"flex flex-col gap-2 max-h-[220px] overflow-y-auto pr-2 scrollbar",children:s&&s.length>0?s.map((a,x)=>e.jsx("p",{className:"bg-gray-200 py-2 px-5 text-sm rounded-md hover:text-[#2b60d9] cursor-pointer",onClick:()=>d(a.slug),children:a.category},x)):e.jsx("p",{className:"text-gray-500 bg-gray-200 py-2 px-5 text-sm rounded-md",children:"No products available for this category."})})})]}),e.jsx(h,{to:`/${c}`,children:e.jsx("button",{className:"mt-6 bg-[#e95821] float-start hover:bg-[#e95821] text-white font-bold py-2 px-5 rounded transition-colors",children:"VIEW MORE"})})]})}function v(){const[l,i]=o.useState([]),[s,c]=o.useState(!0),[n,d]=o.useState([]),[a,x]=o.useState(!0),m=location.pathname.replace(/^\//,"")||"introduction";return o.useEffect(()=>{(async()=>{try{const t=await u.get(`/api/banner/getByPageSlug?pageSlug=${m}`);d(t.data||[])}catch(t){console.error("Failed to fetch banner:",t)}finally{x(!1)}})()},[m]),o.useEffect(()=>{(async()=>{try{const g=(await u.get("/api/chemicalCategory/getAllCategoriesWithProducts")).data;console.log("Fetched categories with products:",g),i(g)}catch(t){console.error("Error fetching categories with products:",t)}finally{c(!1)}})()},[]),s||a?e.jsx("p",{className:"text-center",children:"Loading..."}):e.jsxs("div",{children:[e.jsxs("div",{className:"relative",children:[n&&n.length>0?e.jsx(p,{imageUrl:`/api/image/download/${n[0].image}`}):e.jsx(p,{imageUrl:j}),e.jsx("div",{className:"container mx-auto px-4 max-w-7xl -mt-8 relative z-10",children:e.jsxs("nav",{className:"text-[#fff] text-md font-semibold",children:[e.jsx(h,{to:"/",children:e.jsx("span",{className:"text-[12px] bg-gray-600 px-2 rounded-md sm:text-[15px] text-white",children:"Home"})}),e.jsx("span",{className:"mx-2 text-white",children:">"}),e.jsx(h,{to:"#",children:e.jsx("span",{className:"text-[12px] bg-gray-600 px-2 rounded-md sm:text-[15px] text-white",children:"Product"})})]})})]}),e.jsx("div",{className:"container mx-auto px-4 max-w-7xl pt-10",children:e.jsx("h2",{className:"text-4xl text-[#0a3161] font-bold mb-3",children:"Our Categories"})}),e.jsx("div",{className:"container mx-auto px-4 grid grid-cols-1 md:grid-cols-2 pb-8 max-w-7xl gap-10",children:l.length===0?e.jsx("p",{children:"No categories found."}):l.map((r,t)=>e.jsx("div",{className:"mb-14",children:e.jsx(b,{title:r.category,image:`/api/logo/download/${r.photo}`,subcategories:r.subCategories||[],slug:r.slug})},t))})]})}export{v as default};
