import{aY as e,bT as t,j as i,bU as r,bV as o}from"./main-DbCIA5nM.js";import{b as s}from"./vendor-X2E3PIZN.js";import{F as a}from"./Table-DuH0XXff.js";import{S as n}from"./index-DKxChPud.js";import{B as l}from"./index-CvhnQ2ZS.js";import{R as m}from"./EditOutlined-_U-8X4qF.js";import{P as d}from"./index-ytpybCsT.js";import{R as c}from"./DeleteOutlined-D5hKN4qo.js";import{s as j}from"./index-BQxUT-WV.js";import{F as p}from"./index-BGrTmilS.js";import{M as u}from"./index-s4gvY70H.js";import{I as y}from"./index-C8xsCgg9.js";import{C as x}from"./index-Do4FWjKb.js";import{R as g}from"./PlusOutlined-DCOYj-on.js";import"./utils-ZFgnvnbw.js";import"./objectSpread2-C2mPdFQ-.js";import"./AntdIcon-Bc_RgQsY.js";import"./addEventListener-Dm19rJS7.js";import"./toArray-DIarnBRF.js";import"./index-TlfG7RwS.js";import"./index-Cie-PtDs.js";import"./dropdown-C2Lyn6ws.js";import"./getAllowClear-CF0z5FWe.js";import"./CheckOutlined-qoM0f-f3.js";import"./Input-DzV7KJ8a.js";import"./index-CoLLPh3Y.js";import"./ExclamationCircleFilled-jOtwz4nB.js";import"./ActionButton-9gw_uhHA.js";import"./CheckCircleFilled-vSnFSXRd.js";import"./InfoCircleFilled-BiVI0bqr.js";import"./index-BJvm14ET.js";import"./index-CjgsjwJv.js";import"./fade-CZ8b_ilM.js";import"./Skeleton-Ds91yGkQ.js";import"./EyeOutlined-D6toRaq1.js";import"./TextArea-BQkixvnv.js";const C=({onEditClick:r})=>{const{data:o,isLoading:s}=e(),[p]=t(),u=[{title:"Category Name",dataIndex:"emailCategory",key:"emailCategory"},{title:"Actions",key:"actions",render:(e,t)=>i.jsxs(n,{children:[i.jsx(l,{type:"primary",icon:i.jsx(m,{}),onClick:()=>r(t)}),i.jsx(d,{title:"Are you sure you want to delete this category?",onConfirm:()=>(async e=>{try{await p(e).unwrap(),j.success("Category deleted successfully")}catch(t){j.error("Failed to delete category")}})(t._id),okText:"Yes",cancelText:"No",children:i.jsx(l,{type:"primary",danger:!0,icon:i.jsx(c,{})})})]})}];return i.jsx(a,{columns:u,dataSource:o,rowKey:"_id",loading:s,pagination:{pageSize:10,showSizeChanger:!0,showTotal:e=>`Total ${e} items`}})},f=({visible:e,onClose:t,editingCategory:s})=>{const[a]=p.useForm(),[n]=r(),[l]=o();return i.jsx(u,{title:s?"Edit Category":"Add New Category",open:e,onCancel:t,onOk:()=>a.submit(),children:i.jsx(p,{form:a,layout:"vertical",onFinish:async e=>{try{s?(await l({id:s._id,data:e}).unwrap(),j.success("Category updated successfully")):(await n(e).unwrap(),j.success("Category created successfully")),t()}catch(i){j.error("Failed to save category")}},initialValues:s,children:i.jsx(p.Item,{name:"emailCategory",label:"Category Name",rules:[{required:!0,message:"Please enter category name"}],children:i.jsx(y,{placeholder:"Enter category name"})})})})},h=()=>{const[e,t]=s.useState(!1),[r,o]=s.useState(null);return i.jsxs(x,{title:"Email Categories",children:[i.jsx(l,{type:"primary",icon:i.jsx(g,{}),onClick:()=>{o(null),t(!0)},style:{marginBottom:16},children:"Add New Category"}),i.jsx(C,{onEditClick:e=>{o(e),t(!0)}}),e&&i.jsx(f,{visible:e,onClose:()=>{t(!1),o(null)},editingCategory:r})]})};export{h as default};
//# sourceMappingURL=EmailCategoryParent-Dq5thSfX.js.map
