import{ep as e,es as i,j as t}from"./main-CYgOQvaw.js";import{f as r,L as s}from"./vendor-BCMiqwDy.js";import{C as n}from"./index-m3rpagXu.js";import{T as a}from"./index-C3ycF-CI.js";import{B as o}from"./index-KxCZag0G.js";import{R as l}from"./PlusOutlined-qRlhxGok.js";import{F as m}from"./Table-DE-uw6w5.js";import{S as d}from"./index-DgxO-2IE.js";import{P as p}from"./index-KhLp2M-2.js";import{R as j}from"./DeleteOutlined-UvyX438x.js";import{R as c}from"./EditOutlined-DoV0jE2u.js";import"./utils-ZFgnvnbw.js";import"./Skeleton-eQTlzOGc.js";import"./EllipsisOutlined-Cze1ZPQm.js";import"./getAllowClear-BT_cn9Om.js";import"./styleChecker-CIIr7Nl-.js";import"./TextArea-C1O1HANU.js";import"./CheckOutlined-D_PsN1dT.js";import"./index-DXGSnt5L.js";import"./dropdown-Bj_SuELm.js";import"./Input-rDQgC5HY.js";import"./index-CjYu-pHv.js";import"./ExclamationCircleFilled-DLWZbO_o.js";import"./ActionButton-CpH6NjgB.js";const{Title:h}=a,x=()=>{const{data:a,error:x,isLoading:u,refetch:f}=e(),[y]=i(),k=r();if(u)return t.jsx("p",{children:"Loading..."});if(x)return t.jsxs("p",{style:{color:"red"},children:["Error: ",x.message]});const g=(a?.data||[]).map((e=>({key:e._id,name:e.parent.name,path:e.parent.path,isParent:!0,children:e.children.length>0?e.children.map((e=>({key:e._id,name:`└── ${e.name}`,path:e.path,isParent:!1,children:e.subChildren?.length>0?e.subChildren.map((e=>({key:e._id,name:`    └── ${e.name}`,path:e.path,isParent:!1}))):void 0}))):void 0}))),C=[{title:"Name",dataIndex:"name",key:"name"},{title:"Path",dataIndex:"path",key:"path"},{title:"Actions",key:"actions",render:(e,i)=>t.jsxs(d,{children:[t.jsx(p,{title:"Are you sure?",onConfirm:()=>(async e=>{await y(e),f()})(i.key),children:t.jsx(o,{type:"danger",shape:"circle",icon:t.jsx(j,{})})}),!i.name.includes("└──")&&t.jsx(o,{type:"primary",shape:"circle",icon:t.jsx(c,{}),onClick:()=>{return e=i.key,void k(`/menu-listing-form/${e}`);var e}})]})}];return t.jsxs(n,{children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:16},children:[t.jsx(h,{level:3,children:"Menu Listings"}),t.jsx(s,{to:"/menu-listing-form",children:t.jsx(o,{type:"primary",icon:t.jsx(l,{}),children:"Add Menu"})})]}),t.jsx(m,{columns:C,dataSource:g,expandable:{defaultExpandAllRows:!1}})]})};export{x as default};
//# sourceMappingURL=MenuListingTable-Cz5kH1Tp.js.map
