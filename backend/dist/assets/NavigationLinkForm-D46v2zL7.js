import{ex as e,ey as i,ez as s,j as a}from"./main-CzSo-TQq.js";import{f as n,k as t,b as r,L as o}from"./vendor-BCMiqwDy.js";import{F as l}from"./index-DNifZJQ5.js";import{B as m}from"./Breadcrumb-CWo6S1TK.js";import{I as d}from"./index-DM93vOm6.js";import{U as c,R as p}from"./index-C3Salwgc.js";import{B as j}from"./index-DSpNpUBy.js";import{s as u}from"./index-9ZEY5nY4.js";import"./utils-ZFgnvnbw.js";import"./CheckCircleFilled-ReswMhjZ.js";import"./ExclamationCircleFilled-xRTYYEFC.js";import"./dropdown-Dz-q1Mre.js";import"./EllipsisOutlined-BfcsApT3.js";import"./getAllowClear-CUuit-6u.js";import"./Input-dXXm4f2Q.js";import"./TextArea-BS9kE1Cd.js";import"./DeleteOutlined-BWd8Mtlr.js";import"./DownloadOutlined-xI3cqZd9.js";import"./CheckOutlined-Cn3WkZbn.js";import"./InfoCircleFilled-CAKYzuNC.js";const x=()=>{const[x]=l.useForm(),h=n(),{id:f}=t(),{data:g,isLoading:k,refetch:F}=e(f,{skip:!f}),[v]=i(),[y]=s(),[I,b]=r.useState([]);r.useEffect((()=>{g&&(x.setFieldsValue(g),b([{url:`/api/logo/download/${g.icon}`,name:g.icon}]))}),[g,x]);return a.jsxs(a.Fragment,{children:[a.jsxs(m,{style:{marginBottom:"16px"},children:[a.jsx(m.Item,{children:a.jsx(o,{to:"/dashboard",children:"Dashboard"})}),a.jsx(m.Item,{children:a.jsx(o,{to:"/navigationLink",children:"Navigation Links"})}),a.jsx(m.Item,{children:f?"Edit Navigation Link":"Add Navigation Link"})]}),a.jsxs(l,{form:x,layout:"vertical",onFinish:async e=>{const i=new FormData;i.append("name",e.name),I[0]?.originFileObj&&i.append("icon",I[0].originFileObj);try{f?(await y({id:f,formData:i}).unwrap(),u.success("Navigation link updated successfully"),await F()):(await v(i).unwrap(),u.success("Navigation link created successfully")),h("/navigationLink")}catch(s){u.error("Failed to save navigation link")}},children:[a.jsx(l.Item,{name:"name",label:"Name",rules:[{required:!0,message:"Please enter the name"}],children:a.jsx(d,{})}),a.jsx(l.Item,{name:"icon",label:"Icon",rules:[{required:!0,message:"Please upload an icon"}],children:a.jsx(c,{listType:"picture",maxCount:1,fileList:I,beforeUpload:()=>!1,onChange:({fileList:e})=>b(e),children:a.jsx(j,{icon:a.jsx(p,{}),children:"Upload Icon"})})}),a.jsx(l.Item,{children:a.jsx(j,{type:"primary",htmlType:"submit",loading:k,children:f?"Update":"Create"})})]})]})};export{x as default};
//# sourceMappingURL=NavigationLinkForm-D46v2zL7.js.map
