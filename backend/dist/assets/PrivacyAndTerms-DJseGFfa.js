import{j as a,an as i}from"./main-CzSo-TQq.js";import{f as e,b as r,L as s}from"./vendor-BCMiqwDy.js";import{a as t}from"./utils-ZFgnvnbw.js";import{F as c}from"./index-DNifZJQ5.js";import{B as l}from"./Breadcrumb-CWo6S1TK.js";import{B as o}from"./index-DSpNpUBy.js";import{s as d}from"./index-9ZEY5nY4.js";import"./CheckCircleFilled-ReswMhjZ.js";import"./ExclamationCircleFilled-xRTYYEFC.js";import"./dropdown-Dz-q1Mre.js";import"./EllipsisOutlined-BfcsApT3.js";import"./InfoCircleFilled-CAKYzuNC.js";const n=()=>{const n=e(),[p]=c.useForm(),[m,y]=r.useState(""),[u,j]=r.useState(!0),[h,v]=r.useState(!1),[f,x]=r.useState(null);r.useEffect((()=>{(async()=>{try{const a=await t.get("/api/privacy");if(a.data.length>0){const i=a.data[0];y(i.privacyPolicy),x(i._id),p.setFieldsValue({privacyPolicy:i.privacyPolicy}),v(!0)}}catch(a){d.error("Failed to fetch privacy data")}finally{j(!1)}})()}),[p]);return u?a.jsx("p",{children:"Loading..."}):a.jsxs(a.Fragment,{children:[a.jsxs(l,{style:{marginBottom:"16px"},children:[a.jsx(l.Item,{children:a.jsx(s,{to:"/dashboard",children:"Dashboard"})}),a.jsx(l.Item,{children:"Privacy Form"})]}),a.jsxs(c,{form:p,layout:"vertical",onFinish:async()=>{try{h?(await t.put(`/api/privacy/${f}`,{privacyPolicy:m}),d.success("Privacy data updated successfully")):(await t.post("/api/privacy/add",{privacyPolicy:m}),d.success("Privacy data created successfully")),n("/privacypolicy-terms")}catch(a){d.error("Failed to save privacy data")}},children:[a.jsx(c.Item,{name:"privacyPolicy",label:"Privacy Policy",rules:[{required:!0,message:"Please enter the privacy policy"}],children:a.jsx(i,{theme:"snow",value:m,onChange:y})}),a.jsx(c.Item,{children:a.jsx(o,{type:"primary",htmlType:"submit",children:"Save"})})]})]})};export{n as default};
//# sourceMappingURL=PrivacyAndTerms-DJseGFfa.js.map
