import{j as e}from"./main-CzSo-TQq.js";import{f as a,b as l}from"./vendor-BCMiqwDy.js";import{a as t}from"./utils-ZFgnvnbw.js";const s=()=>{const s=a(),[o,n]=l.useState(""),[r,i]=l.useState(""),[c,d]=l.useState(""),[m,u]=l.useState(""),[h,b]=l.useState(""),[p,x]=l.useState(""),[g,f]=l.useState(""),[j,v]=l.useState(""),[N,y]=l.useState(""),[w,C]=l.useState(""),[S,k]=l.useState(""),[F,q]=l.useState(""),[M,A]=l.useState(""),[L,D]=l.useState(""),[E,T]=l.useState(""),[z,I]=l.useState(0),[R,U]=l.useState("active"),[O,P]=l.useState([]),[$,_]=l.useState("");l.useEffect((()=>{(async()=>{try{const e=await t.get("/api/chemicalCategory/getall",{withCredentials:!0});P(e.data)}catch(e){}})()}),[]);l.useEffect((()=>{D(`https://rndtechnosoft.com/${p}`)}),[p]),l.useEffect((()=>{x(o.replace(/\s+/g,"-").toLowerCase().replace(/[^a-z0-9-]/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""))}),[o]),l.useEffect((()=>{x(p.toLowerCase().replace(/[^a-z0-9-]/g,"").replace(/--+/g,"-"))}),[p]);return e.jsxs("form",{onSubmit:async e=>{e.preventDefault();const a=new FormData;a.append("category",o),a.append("alt",c),a.append("imgtitle",m),a.append("slug",p),a.append("metatitle",g||""),a.append("metakeywords",N||""),a.append("metadescription",j||""),a.append("metalanguage",w||""),a.append("metacanonical",S||""),a.append("metaschema",F||""),a.append("otherMeta",M||""),a.append("url",L),a.append("changeFreq",E||""),a.append("priority",z),a.append("status",R),a.append("details",h),r&&a.append("photo",r);try{await t.post("/api/chemicalCategory/insertCategory",a,{withCredentials:!0,headers:{"Content-Type":"multipart/form-data"}});s("/chemical-category")}catch(l){alert(l.response?l.response.data.error:"An error occurred")}},className:"p-4",children:[e.jsx("h1",{className:"text-xl font-bold font-serif text-gray-700 uppercase text-center",children:"Add New Category"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"existingCategories",className:"block font-semibold mb-2",children:"Existing Categories"}),e.jsxs("select",{id:"existingCategories",value:$,onChange:e=>{_(e.target.value)},className:"w-full p-2 border rounded focus:outline-none",children:[e.jsx("option",{value:"",children:"Select an existing category for reference"}),O.map((a=>e.jsx("option",{value:a._id,children:a.category},a._id)))]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"category",className:"block font-semibold mb-2",children:"Category"}),e.jsx("input",{type:"text",id:"category",value:o,onChange:e=>n(e.target.value),className:"w-full p-2 border rounded focus:outline-none",required:!0})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("label",{htmlFor:"photo",className:"block font-semibold mb-2",children:"Photo"}),e.jsx("input",{type:"file",name:"photo",id:"photo",onChange:e=>{const a=e.target.files[0];i(a)},className:"border rounded focus:outline-none",accept:"image/*"}),r&&e.jsxs("div",{className:"mt-2 w-56 relative group",children:[e.jsx("img",{src:URL.createObjectURL(r),alt:c||"Category Image",className:"h-32 w-56 object-cover"}),e.jsx("button",{type:"button",onClick:()=>{i(""),d(""),u("")},className:"absolute top-4 right-2 bg-red-500 text-white rounded-md p-1 size-6 flex items-center justify-center hover:bg-red-600 focus:outline-none",children:"X"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"alt",className:"block font-semibold mb-2",children:"Alternative Text"}),e.jsx("input",{type:"text",id:"alt",value:c,onChange:e=>d(e.target.value),className:"w-full p-2 border rounded focus:outline-none",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"imgtitle",className:"block font-semibold mb-2",children:"Image Title Text"}),e.jsx("input",{type:"text",id:"imgtitle",value:m,onChange:e=>u(e.target.value),className:"w-full p-2 border rounded focus:outline-none",required:!0})]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"details",className:"block font-semibold mb-2",children:"Details"}),e.jsx("textarea",{id:"details",value:h,onChange:e=>b(e.target.value),className:"w-full p-2 border rounded focus:outline-none",required:!0})]}),e.jsxs("div",{className:"mb-4 mt-4",children:[e.jsx("label",{htmlFor:"slug",className:"block font-semibold mb-2",children:"Slug"}),e.jsx("input",{type:"text",id:"slug",value:p,onChange:e=>x(e.target.value),className:"w-full p-2 border rounded focus:outline-none"})]}),e.jsxs("div",{className:"mb-4 mt-4",children:[e.jsx("label",{htmlFor:"url",className:"block font-semibold mb-2",children:"URL"}),e.jsx("input",{type:"text",id:"url",value:L,disabled:!0,className:"w-full p-2 border rounded focus:outline-none"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"metatitle",className:"block font-semibold mb-2",children:"Meta Title"}),e.jsx("textarea",{id:"metatitle",value:g,onChange:e=>f(e.target.value),className:"w-full p-2 border rounded focus:outline-none",rows:"3"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"metadescription",className:"block font-semibold mb-2",children:"Meta Description"}),e.jsx("textarea",{id:"metadescription",value:j,onChange:e=>v(e.target.value),className:"w-full p-2 border rounded focus:outline-none",rows:"3"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"metakeywords",className:"block font-semibold mb-2",children:"Meta Keywords"}),e.jsx("textarea",{id:"metakeywords",value:N,onChange:e=>y(e.target.value),className:"w-full p-2 border rounded focus:outline-none",rows:"3"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"metacanonical",className:"block font-semibold mb-2",children:"Meta Canonical"}),e.jsx("textarea",{id:"metacanonical",value:S,onChange:e=>k(e.target.value),className:"w-full p-2 border rounded focus:outline-none",rows:"3"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"metalanguage",className:"block font-semibold mb-2",children:"Meta Language"}),e.jsx("textarea",{id:"metalanguage",value:w,onChange:e=>C(e.target.value),className:"w-full p-2 border rounded focus:outline-none",rows:"3"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"othermeta",className:"block font-semibold mb-2",children:"Other Meta"}),e.jsx("textarea",{id:"othermeta",value:M,onChange:e=>A(e.target.value),className:"w-full p-2 border rounded focus:outline-none",rows:"3"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"metaschema",className:"block font-semibold mb-2",children:"Schema"}),e.jsx("textarea",{id:"metaschema",value:F,onChange:e=>q(e.target.value),className:"w-full p-2 border rounded focus:outline-none",rows:"3"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"priority",className:"block font-semibold mb-2",children:"Priority"}),e.jsx("input",{type:"number",id:"priority",min:0,max:1,step:.01,value:z,onChange:e=>I(e.target.value),className:"w-full p-2 border rounded focus:outline-none"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"changeFreq",className:"block font-semibold mb-2",children:"Change Frequency"}),e.jsxs("select",{id:"changeFreq",value:E,onChange:e=>T(e.target.value),className:"w-full p-2 border rounded focus:outline-none",children:[e.jsx("option",{value:"",children:"Select Change Frequency"}),e.jsx("option",{value:"always",children:"Always"}),e.jsx("option",{value:"hourly",children:"Hourly"}),e.jsx("option",{value:"daily",children:"Daily"}),e.jsx("option",{value:"weekly",children:"Weekly"}),e.jsx("option",{value:"monthly",children:"Monthly"}),e.jsx("option",{value:"yearly",children:"Yearly"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"status",className:"block font-semibold mb-2",children:"Status"}),e.jsxs("select",{id:"status",value:R,onChange:e=>U(e.target.value),className:"w-full p-2 border rounded focus:outline-none",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]}),e.jsx("button",{type:"submit",className:"bg-blue-500 text-white py-2 px-4 rounded",children:"Add Category"})]})};export{s as default};
//# sourceMappingURL=CategoryForm-Bnq4VUux.js.map
