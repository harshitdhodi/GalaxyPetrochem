import{dm as e,dn as s,dj as a,j as r,I as l,B as i}from"./main-CYgOQvaw.js";import{k as n,f as t,b as d}from"./vendor-BCMiqwDy.js";import{b as m}from"./index.esm-nvYjwl0o.js";import{S as o,a as c,b as j,c as x,d as h}from"./select-C9JtKdjQ.js";import{F as u,a as p,b,c as f,d as y,e as g}from"./form-DIbFRgGb.js";import{t as N,o as v,s as q}from"./index-DNG4Sede.js";import{B as E}from"./BreadCrumb-CCpOg2-Q.js";import"./utils-ZFgnvnbw.js";import"./index-D3SX27xu.js";import"./index-prcspqn7.js";import"./check-BmKpgWX1.js";import"./chevron-up-LTThVSTS.js";import"./chevron-right-BHJrePhs.js";const I=[{label:"Dashboard",href:"/dashboard"},{label:"Inquiry Table",href:"/inquiry-list"},{label:"Inquiry Form",href:null}],C=v({companyName:q().min(2,{message:"Company name must be at least 2 characters"}),name:q().min(2,{message:"Full name must be at least 2 characters"}),email:q().email({message:"Invalid email address"}),mobile:q().regex(/^[0-9]{10}$/,{message:"Mobile number must be 10 digits"}),address:q().min(2,{message:"Address must be at least 2 characters"}),status:q({required_error:"Please select a status"})});function F({onClose:v}){const{id:q}=n(),F=t(),{data:S,isLoading:w}=e(q),[B,{isLoading:L}]=s(),{data:V,isLoading:U}=a(),k=m({resolver:N(C),defaultValues:{companyName:"",name:"",email:"",mobile:"",address:"",status:"New Inquiry"}});d.useEffect((()=>{S&&k.reset({companyName:S.companyName||"",name:S.name||"",email:S.email||"",mobile:S.mobile||"",address:S.address||"",status:S.status||"New Inquiry"})}),[S,k]);return w?r.jsx("div",{children:"Loading..."}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"ml-1",children:r.jsx(E,{items:I})}),r.jsx(u,{...k,children:r.jsxs("form",{onSubmit:k.handleSubmit((async e=>{try{await B({id:q,...e}).unwrap();k.reset(),F("/inquiry-list")}catch(s){alert({title:"Error",description:s?.data?.message||"Failed to update inquiry",variant:"destructive"})}})),className:"space-y-4 p-4",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Update Inquiry"}),r.jsx(p,{control:k.control,name:"companyName",render:({field:e})=>r.jsxs(b,{children:[r.jsx(f,{children:"Company Name"}),r.jsx(y,{children:r.jsx(l,{placeholder:"Enter company name",...e})}),r.jsx(g,{})]})}),r.jsx(p,{control:k.control,name:"name",render:({field:e})=>r.jsxs(b,{children:[r.jsx(f,{children:"Full Name"}),r.jsx(y,{children:r.jsx(l,{placeholder:"Enter full name",...e})}),r.jsx(g,{})]})}),r.jsx(p,{control:k.control,name:"email",render:({field:e})=>r.jsxs(b,{children:[r.jsx(f,{children:"Email"}),r.jsx(y,{children:r.jsx(l,{type:"email",placeholder:"Enter email",...e})}),r.jsx(g,{})]})}),r.jsx(p,{control:k.control,name:"mobile",render:({field:e})=>r.jsxs(b,{children:[r.jsx(f,{children:"Mobile Number"}),r.jsx(y,{children:r.jsx(l,{type:"tel",placeholder:"Enter 10-digit mobile",...e})}),r.jsx(g,{})]})}),r.jsx(p,{control:k.control,name:"address",render:({field:e})=>r.jsxs(b,{children:[r.jsx(f,{children:"Address"}),r.jsx(y,{children:r.jsx(l,{placeholder:"Enter address",...e})}),r.jsx(g,{})]})}),r.jsx(p,{control:k.control,name:"status",render:({field:e})=>r.jsxs(b,{children:[r.jsx(f,{children:"Status"}),r.jsxs(o,{onValueChange:e.onChange,defaultValue:e.value,children:[r.jsx(y,{children:r.jsx(c,{children:r.jsx(j,{placeholder:"Select status"})})}),r.jsx(x,{children:V?.data?.map((e=>r.jsx(h,{value:e.status,children:e.status},e._id)))})]}),r.jsx(g,{})]})}),r.jsx("div",{className:"flex justify-end space-x-2 pt-4",children:r.jsx(i,{type:"submit",disabled:L,children:L?"Updating...":"Update Inquiry"})})]})})]})}export{F as default};
//# sourceMappingURL=EditInquiry-BoRPk-Ew.js.map
