import{r as i,al as ze,cb as we,aj as B,aq as De,cz as be,am as L,y as Re,cc as D,ao as he,ca as Ce,R as $,ap as Pe,cd as _e,ce as je,cu as He,cl as Le,ck as Be}from"./index-DG2rto3Y-1745831588143.js";import{h as We,B as Ke,r as ye,i as Ye,a as qe,t as Ze,j as Ge,u as Xe,l as Ue,e as Je,f as Qe}from"./getAllowClear-Bc9h7APX-1745831588143.js";import{R as ke,F as et,a as tt,u as at}from"./index-BfdHs_lC-1745831588143.js";var nt=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
  pointer-events: none !important;
`,ot=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],ve={},z;function rt(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(n&&ve[a])return ve[a];var t=window.getComputedStyle(e),c=t.getPropertyValue("box-sizing")||t.getPropertyValue("-moz-box-sizing")||t.getPropertyValue("-webkit-box-sizing"),m=parseFloat(t.getPropertyValue("padding-bottom"))+parseFloat(t.getPropertyValue("padding-top")),s=parseFloat(t.getPropertyValue("border-bottom-width"))+parseFloat(t.getPropertyValue("border-top-width")),g=ot.map(function(d){return"".concat(d,":").concat(t.getPropertyValue(d))}).join(";"),S={sizingStyle:g,paddingSize:m,borderSize:s,boxSizing:c};return n&&a&&(ve[a]=S),S}function it(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;z||(z=document.createElement("textarea"),z.setAttribute("tab-index","-1"),z.setAttribute("aria-hidden","true"),z.setAttribute("name","hiddenTextarea"),document.body.appendChild(z)),e.getAttribute("wrap")?z.setAttribute("wrap",e.getAttribute("wrap")):z.removeAttribute("wrap");var c=rt(e,n),m=c.paddingSize,s=c.borderSize,g=c.boxSizing,S=c.sizingStyle;z.setAttribute("style","".concat(S,";").concat(nt)),z.value=e.value||e.placeholder||"";var d=void 0,v=void 0,w,b=z.scrollHeight;if(g==="border-box"?b+=s:g==="content-box"&&(b-=m),a!==null||t!==null){z.value=" ";var T=z.scrollHeight-m;a!==null&&(d=T*a,g==="border-box"&&(d=d+m+s),b=Math.max(d,b)),t!==null&&(v=T*t,g==="border-box"&&(v=v+m+s),w=b>v?"":"hidden",b=Math.min(v,b))}var x={height:b,overflowY:w,resize:"none"};return d&&(x.minHeight=d),v&&(x.maxHeight=v),x}var st=["prefixCls","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],ge=0,pe=1,xe=2,lt=i.forwardRef(function(e,n){var a=e,t=a.prefixCls,c=a.defaultValue,m=a.value,s=a.autoSize,g=a.onResize,S=a.className,d=a.style,v=a.disabled,w=a.onChange;a.onInternalAutoSize;var b=ze(a,st),T=we(c,{value:m,postState:function(p){return p??""}}),x=B(T,2),P=x[0],W=x[1],K=function(p){W(p.target.value),w==null||w(p)},C=i.useRef();i.useImperativeHandle(n,function(){return{textArea:C.current}});var _=i.useMemo(function(){return s&&De(s)==="object"?[s.minRows,s.maxRows]:[]},[s]),Y=B(_,2),h=Y[0],R=Y[1],O=!!s,te=function(){try{if(document.activeElement===C.current){var p=C.current,ee=p.selectionStart,j=p.selectionEnd,ne=p.scrollTop;C.current.setSelectionRange(ee,j),C.current.scrollTop=ne}}catch{}},q=i.useState(xe),Z=B(q,2),E=Z[0],V=Z[1],ae=i.useState(),U=B(ae,2),J=U[0],G=U[1],A=function(){V(ge)};be(function(){O&&A()},[m,h,R,O]),be(function(){if(E===ge)V(pe);else if(E===pe){var y=it(C.current,!1,h,R);V(xe),G(y)}else te()},[E]);var r=i.useRef(),X=function(){Ce.cancel(r.current)},Q=function(p){E===xe&&(g==null||g(p),s&&(X(),r.current=Ce(function(){A()})))};i.useEffect(function(){return X},[]);var k=O?J:null,F=L(L({},d),k);return(E===ge||E===pe)&&(F.overflowY="hidden",F.overflowX="hidden"),i.createElement(ke,{onResize:Q,disabled:!(s||g)},i.createElement("textarea",Re({},b,{ref:C,style:F,className:D(t,S,he({},"".concat(t,"-disabled"),v)),disabled:v,value:P,onChange:K})))}),ut=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","showCount","count","className","style","disabled","hidden","classNames","styles","onResize","onClear","onPressEnter","readOnly","autoSize","onKeyDown"],ct=$.forwardRef(function(e,n){var a,t=e.defaultValue,c=e.value,m=e.onFocus,s=e.onBlur,g=e.onChange,S=e.allowClear,d=e.maxLength,v=e.onCompositionStart,w=e.onCompositionEnd,b=e.suffix,T=e.prefixCls,x=T===void 0?"rc-textarea":T,P=e.showCount,W=e.count,K=e.className,C=e.style,_=e.disabled,Y=e.hidden,h=e.classNames,R=e.styles,O=e.onResize,te=e.onClear,q=e.onPressEnter,Z=e.readOnly,E=e.autoSize,V=e.onKeyDown,ae=ze(e,ut),U=we(t,{value:c,defaultValue:t}),J=B(U,2),G=J[0],A=J[1],r=G==null?"":String(G),X=$.useState(!1),Q=B(X,2),k=Q[0],F=Q[1],y=$.useRef(!1),p=$.useState(null),ee=B(p,2),j=ee[0],ne=ee[1],oe=i.useRef(null),re=i.useRef(null),I=function(){var o;return(o=re.current)===null||o===void 0?void 0:o.textArea},ie=function(){I().focus()};i.useImperativeHandle(n,function(){var f;return{resizableTextArea:re.current,focus:ie,blur:function(){I().blur()},nativeElement:((f=oe.current)===null||f===void 0?void 0:f.nativeElement)||I()}}),i.useEffect(function(){F(function(f){return!_&&f})},[_]);var de=$.useState(null),ue=B(de,2),se=ue[0],fe=ue[1];$.useEffect(function(){if(se){var f;(f=I()).setSelectionRange.apply(f,Pe(se))}},[se]);var u=We(W,P),l=(a=u.max)!==null&&a!==void 0?a:d,M=Number(l)>0,N=u.strategy(r),Ee=!!l&&N>l,Se=function(o,H){var ce=H;!y.current&&u.exceedFormatter&&u.max&&u.strategy(H)>u.max&&(ce=u.exceedFormatter(H,{max:u.max}),H!==ce&&fe([I().selectionStart||0,I().selectionEnd||0])),A(ce),ye(o.currentTarget,o,g,ce)},Ae=function(o){y.current=!0,v==null||v(o)},Ie=function(o){y.current=!1,Se(o,o.currentTarget.value),w==null||w(o)},$e=function(o){Se(o,o.target.value)},Ne=function(o){o.key==="Enter"&&q&&q(o),V==null||V(o)},Te=function(o){F(!0),m==null||m(o)},Oe=function(o){F(!1),s==null||s(o)},Ve=function(o){A(""),ie(),ye(I(),o,g)},me=b,le;u.show&&(u.showFormatter?le=u.showFormatter({value:r,count:N,maxLength:l}):le="".concat(N).concat(M?" / ".concat(l):""),me=$.createElement($.Fragment,null,me,$.createElement("span",{className:D("".concat(x,"-data-count"),h==null?void 0:h.count),style:R==null?void 0:R.count},le)));var Fe=function(o){var H;O==null||O(o),(H=I())!==null&&H!==void 0&&H.style.height&&ne(!0)},Me=!E&&!P&&!S;return $.createElement(Ke,{ref:oe,value:r,allowClear:S,handleReset:Ve,suffix:me,prefixCls:x,classNames:L(L({},h),{},{affixWrapper:D(h==null?void 0:h.affixWrapper,he(he({},"".concat(x,"-show-count"),P),"".concat(x,"-textarea-allow-clear"),S))}),disabled:_,focused:k,className:D(K,Ee&&"".concat(x,"-out-of-range")),style:L(L({},C),j&&!Me?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":typeof le=="string"?le:void 0}},hidden:Y,readOnly:Z,onClear:te},$.createElement(lt,Re({},ae,{autoSize:E,maxLength:d,onKeyDown:Ne,onChange:$e,onFocus:Te,onBlur:Oe,onCompositionStart:Ae,onCompositionEnd:Ie,className:D(h==null?void 0:h.textarea),style:L(L({},R==null?void 0:R.textarea),{},{resize:C==null?void 0:C.resize}),disabled:_,prefixCls:x,onResize:Fe,ref:re,readOnly:Z})))});const dt=e=>{const{componentCls:n,paddingLG:a}=e,t=`${n}-textarea`;return{[`textarea${n}`]:{maxWidth:"100%",height:"auto",minHeight:e.controlHeight,lineHeight:e.lineHeight,verticalAlign:"bottom",transition:`all ${e.motionDurationSlow}`,resize:"vertical",[`&${n}-mouse-active`]:{transition:`all ${e.motionDurationSlow}, height 0s, width 0s`}},[`${n}-textarea-affix-wrapper-resize-dirty`]:{width:"auto"},[t]:{position:"relative","&-show-count":{[`> ${n}`]:{height:"100%"},[`${n}-data-count`]:{position:"absolute",bottom:e.calc(e.fontSize).mul(e.lineHeight).mul(-1).equal(),insetInlineEnd:0,color:e.colorTextDescription,whiteSpace:"nowrap",pointerEvents:"none"}},[`
        &-allow-clear > ${n},
        &-affix-wrapper${t}-has-feedback ${n}
      `]:{paddingInlineEnd:a},[`&-affix-wrapper${n}-affix-wrapper`]:{padding:0,[`> textarea${n}`]:{fontSize:"inherit",border:"none",outline:"none",background:"transparent",minHeight:e.calc(e.controlHeight).sub(e.calc(e.lineWidth).mul(2)).equal(),"&:focus":{boxShadow:"none !important"}},[`${n}-suffix`]:{margin:0,"> *:not(:last-child)":{marginInline:0},[`${n}-clear-icon`]:{position:"absolute",insetInlineEnd:e.paddingInline,insetBlockStart:e.paddingXS},[`${t}-suffix`]:{position:"absolute",top:0,insetInlineEnd:e.paddingInline,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto",pointerEvents:"none"}}},[`&-affix-wrapper${n}-affix-wrapper-sm`]:{[`${n}-suffix`]:{[`${n}-clear-icon`]:{insetInlineEnd:e.paddingInlineSM}}}}}},ft=_e(["Input","TextArea"],e=>{const n=je(e,Ye(e));return[dt(n)]},qe,{resetFont:!1});var mt=function(e,n){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(a[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,t=Object.getOwnPropertySymbols(e);c<t.length;c++)n.indexOf(t[c])<0&&Object.prototype.propertyIsEnumerable.call(e,t[c])&&(a[t[c]]=e[t[c]]);return a};const xt=i.forwardRef((e,n)=>{var a;const{prefixCls:t,bordered:c=!0,size:m,disabled:s,status:g,allowClear:S,classNames:d,rootClassName:v,className:w,style:b,styles:T,variant:x,showCount:P,onMouseDown:W,onResize:K}=e,C=mt(e,["prefixCls","bordered","size","disabled","status","allowClear","classNames","rootClassName","className","style","styles","variant","showCount","onMouseDown","onResize"]),{getPrefixCls:_,direction:Y,allowClear:h,autoComplete:R,className:O,style:te,classNames:q,styles:Z}=He("textArea"),E=i.useContext(Le),V=s??E,{status:ae,hasFeedback:U,feedbackIcon:J}=i.useContext(et),G=Qe(ae,g),A=i.useRef(null);i.useImperativeHandle(n,()=>{var u;return{resizableTextArea:(u=A.current)===null||u===void 0?void 0:u.resizableTextArea,focus:l=>{var M,N;Ze((N=(M=A.current)===null||M===void 0?void 0:M.resizableTextArea)===null||N===void 0?void 0:N.textArea,l)},blur:()=>{var l;return(l=A.current)===null||l===void 0?void 0:l.blur()}}});const r=_("input",t),X=Be(r),[Q,k,F]=Ge(r,v),[y]=ft(r,X),{compactSize:p,compactItemClassnames:ee}=tt(r,Y),j=at(u=>{var l;return(l=m??p)!==null&&l!==void 0?l:u}),[ne,oe]=Xe("textArea",x,c),re=Ue(S??h),[I,ie]=i.useState(!1),[de,ue]=i.useState(!1),se=u=>{ie(!0),W==null||W(u);const l=()=>{ie(!1),document.removeEventListener("mouseup",l)};document.addEventListener("mouseup",l)},fe=u=>{var l,M;if(K==null||K(u),I&&typeof getComputedStyle=="function"){const N=(M=(l=A.current)===null||l===void 0?void 0:l.nativeElement)===null||M===void 0?void 0:M.querySelector("textarea");N&&getComputedStyle(N).resize==="both"&&ue(!0)}};return Q(y(i.createElement(ct,Object.assign({autoComplete:R},C,{style:Object.assign(Object.assign({},te),b),styles:Object.assign(Object.assign({},Z),T),disabled:V,allowClear:re,className:D(F,X,w,v,ee,O,de&&`${r}-textarea-affix-wrapper-resize-dirty`),classNames:Object.assign(Object.assign(Object.assign({},d),q),{textarea:D({[`${r}-sm`]:j==="small",[`${r}-lg`]:j==="large"},k,d==null?void 0:d.textarea,q.textarea,I&&`${r}-mouse-active`),variant:D({[`${r}-${ne}`]:oe},Je(r,G)),affixWrapper:D(`${r}-textarea-affix-wrapper`,{[`${r}-affix-wrapper-rtl`]:Y==="rtl",[`${r}-affix-wrapper-sm`]:j==="small",[`${r}-affix-wrapper-lg`]:j==="large",[`${r}-textarea-show-count`]:P||((a=e.count)===null||a===void 0?void 0:a.show)},k)}),prefixCls:r,suffix:U&&i.createElement("span",{className:`${r}-textarea-suffix`},J),showCount:P,ref:A,onResize:fe,onMouseDown:se}))))});export{xt as T};
