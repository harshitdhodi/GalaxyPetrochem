import{j as e,X as s,B as a}from"./main-DbCIA5nM.js";import{b as r,f as t,u as l}from"./vendor-X2E3PIZN.js";import{B as c}from"./BreadCrumb-DuKZkAHJ.js";import{C as i}from"./checkbox-B4CvUtyY.js";import{C as n,a as d}from"./card-CgiS1VlC.js";import{T as m,a as o,b as h,c as x,d as j,e as u}from"./table-DVNdpQ_I.js";import{S as p,a as g,b as f,c as b,d as v}from"./select-BGPtewlQ.js";import"./utils-ZFgnvnbw.js";import"./index-BGOmncX4.js";import"./index-DPOpahcV.js";import"./check-DSfnMMtB.js";import"./index-BoWlxZtN.js";import"./chevron-up-D_C2ouKf.js";function N({categorySlug:a,chemicals:r,selectedGrades:t,setSelectedGrades:l}){return e.jsx(n,{className:"md:col-span-1 bg-[#dee8ff] h-fit rounded-none p-3",children:e.jsxs(d,{className:"p-4",children:[e.jsx("h2",{className:"text-2xl font-normal mb-4",children:"Your Selections"}),t.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"font-medium mb-2",children:"Grades:"}),e.jsx("div",{className:"text-main py-3 flex flex-col gap-2 border-y-2 border-gray-300",children:t.map((a=>e.jsxs("div",{className:"flex justify-between items-center px-2 py-1 bg-blue-100 rounded",children:[e.jsx("span",{className:"text-sm",children:a}),e.jsx("button",{onClick:()=>{return e=a,void l((s=>s.filter((s=>s!==e))));var e},className:"text-gray-600 hover:text-red-600",children:e.jsx(s,{size:16})})]},a)))})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"mb-2 text-2xl font-normal",children:"Grades"}),e.jsx("div",{className:"space-y-2",children:r.map((s=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(i,{id:s._id,checked:t.includes(s.grade),onCheckedChange:e=>((e,s)=>{l(e?e=>[...e,s]:e=>e.filter((e=>e!==s)))})(e,s.grade)}),e.jsx("label",{htmlFor:s._id,className:"text-sm",children:s.grade})]},s._id)))})]})})]})})}const y=({chemicals:s})=>{const[l,c]=r.useState(1),i=t();if(!s||0===s.length)return e.jsx("div",{className:"p-4 text-center",children:"No products found."});const n=s.length,d=Math.ceil(n/10),p=s.slice(10*(l-1),10*l);return e.jsxs("div",{children:[e.jsxs(m,{children:[e.jsx(o,{children:e.jsxs(h,{className:"bg-gray-100",children:[e.jsx(x,{children:"Product Code"}),e.jsx(x,{children:"Product Name"}),e.jsx(x,{children:"CAS"}),e.jsx(x,{children:"TDS"}),e.jsx(x,{children:"MSDS"})]})}),e.jsx(j,{children:p.map((s=>e.jsxs(h,{children:[e.jsx(u,{children:s.auto_p_code}),e.jsx(u,{children:e.jsx("button",{className:"text-main hover:no-underline",onClick:()=>(e=>{const s=e.replace(/\s+/g,"-").toLowerCase();i(`/${s}`)})(s.name),children:s.name})}),e.jsx(u,{children:s.cas_number}),e.jsx(u,{children:"Specs"}),e.jsx(u,{children:"MSDS"})]},s.auto_p_code)))})]}),e.jsx("div",{className:"flex justify-end mt-4",children:e.jsx("nav",{className:"flex space-x-1","aria-label":"Pagination",children:Array.from({length:d},((e,s)=>s+1)).map((s=>e.jsx(a,{variant:s===l?"outline":"default",size:"sm",className:"min-w-[40px] "+(s===l?"bg-main text-white hover:bg-main_light":"hover:bg-blue-50"),onClick:()=>(e=>{c(e)})(s),children:s},s)))})})]})};function S({letter:s,totalItems:a,itemsPerPage:r,setItemsPerPage:t}){return e.jsx("div",{className:"w-full mb-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h1",{className:"text-2xl font-semibold",children:['Showing Products for "',s,'"']}),e.jsx("p",{className:"text-sm text-muted-foreground uppercase tracking-wide",children:"Fine Chemicals & Laboratory Reagents for Research & Industries"}),e.jsxs("div",{className:"bg-blue-50 flex items-center px-3 py-1 justify-between",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:["1 to ",r," of ",a," item(s) displayed"]}),e.jsxs(p,{value:r.toString(),onValueChange:e=>t(Number(e)),children:[e.jsx(g,{className:"w-[120px]",children:e.jsx(f,{placeholder:"Show per page"})}),e.jsxs(b,{children:[e.jsx(v,{value:"10",children:"10 per page"}),e.jsx(v,{value:"25",children:"25 per page"}),e.jsx(v,{value:"50",children:"50 per page"}),e.jsx(v,{value:"100",children:"100 per page"})]})]})]})]})})}function w(){const s=l(),{selectedLetter:a,chemicals:t}=s.state||{},[i,n]=r.useState([]),[d,m]=r.useState(50),[o,h]=r.useState([]),[x,j]=r.useState(!0),[u,p]=r.useState(null);r.useEffect((()=>{t&&a&&(async()=>{try{j(!0);const e=await fetch(`/api/chemical/getChemicalByCategoryAndAlphabet?categoryslug=${t}&alphabet=${a}`);if(!e.ok)throw new Error("Failed to fetch chemicals");const s=await e.json();h(s)}catch(e){p(e.message)}finally{j(!1)}})()}),[t,a]);const g=i.length?o.filter((e=>i.includes(e.grade))):o,f=g.length;return x?e.jsx("div",{children:"Loading..."}):u?e.jsxs("div",{children:["Error loading chemicals: ",u]}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"max-w-7xl mx-auto mb-10 ",children:[e.jsx(c,{chemicals:t,categorySlug:t,selectedLetter:a}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-10",children:[e.jsx(N,{categorySlug:t,chemicals:o,selectedGrades:i,setSelectedGrades:n}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(S,{letter:a,totalItems:f,itemsPerPage:d,setItemsPerPage:m}),e.jsx(y,{selectedLetter:a,categorySlug:t,chemicals:g})]})]})]})})}export{w as default};
//# sourceMappingURL=AlphabetBasedProduct-wTZpgYuA.js.map
