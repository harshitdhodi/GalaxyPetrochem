import{bF as e,q as t,j as a,bG as s,bH as l,B as r,bI as n,ai as i,ak as o,al as c,am as d,bJ as m,X as u}from"./main-CzSo-TQq.js";import{b as x,k as p,L as h,f as g}from"./vendor-BCMiqwDy.js";import{B as b}from"./BreadCrumb-BdvDT35l.js";import{R as f}from"./recaptcha-wrapper-Bf3ojibv.js";import{a as j}from"./utils-ZFgnvnbw.js";import"./index-CMYIxM2W.js";var v={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M713.5 599.9c-10.9-5.6-65.2-32.2-75.3-35.8-10.1-3.8-17.5-5.6-24.8 5.6-7.4 11.1-28.4 35.8-35 43.3-6.4 7.4-12.9 8.3-23.8 2.8-64.8-32.4-107.3-57.8-150-131.1-11.3-19.5 11.3-18.1 32.4-60.2 3.6-7.4 1.8-13.7-1-19.3-2.8-5.6-24.8-59.8-34-81.9-8.9-21.5-18.1-18.5-24.8-18.9-6.4-.4-13.7-.4-21.1-.4-7.4 0-19.3 2.8-29.4 13.7-10.1 11.1-38.6 37.8-38.6 92s39.5 106.7 44.9 114.1c5.6 7.4 77.7 118.6 188.4 166.5 70 30.2 97.4 32.8 132.4 27.6 21.3-3.2 65.2-26.6 74.3-52.5 9.1-25.8 9.1-47.9 6.4-52.5-2.7-4.9-10.1-7.7-21-13z"}},{tag:"path",attrs:{d:"M925.2 338.4c-22.6-53.7-55-101.9-96.3-143.3a444.35 444.35 0 00-143.3-96.3C630.6 75.7 572.2 64 512 64h-2c-60.6.3-119.3 12.3-174.5 35.9a445.35 445.35 0 00-142 96.5c-40.9 41.3-73 89.3-95.2 142.8-23 55.4-34.6 114.3-34.3 174.9A449.4 449.4 0 00112 714v152a46 46 0 0046 46h152.1A449.4 449.4 0 00510 960h2.1c59.9 0 118-11.6 172.7-34.3a444.48 444.48 0 00142.8-95.2c41.3-40.9 73.8-88.7 96.5-142 23.6-55.2 35.6-113.9 35.9-174.5.3-60.9-11.5-120-34.8-175.6zm-151.1 438C704 845.8 611 884 512 884h-1.7c-60.3-.3-120.2-15.3-173.1-43.5l-8.4-4.5H188V695.2l-4.5-8.4C155.3 633.9 140.3 574 140 513.7c-.4-99.7 37.7-193.3 107.6-263.8 69.8-70.5 163.1-109.5 262.8-109.9h1.7c50 0 98.5 9.7 144.2 28.9 44.6 18.7 84.6 45.6 119 80 34.3 34.3 61.3 74.4 80 119 19.4 46.2 29.1 95.2 28.9 145.8-.6 99.6-39.7 192.9-110.1 262.7z"}}]},name:"whats-app",theme:"outlined"},w=function(a,s){return x.createElement(e,t({},a,{ref:s,icon:v}))},y=x.forwardRef(w);function N({images:e,selectedImage:t,setSelectedImage:s}){return a.jsxs("div",{className:"sm:w-[80%] md:w-[100%] mb-5 lg:mb-0",children:[a.jsx("div",{className:"border items-center flex justify-center p-5 overflow-hidden mb-4 lg:h-[400px] md:h-[300px] h-[200px]",children:a.jsx("img",{src:e[t]?.url?`/api/image/download/${e[t].url}`:"https://via.placeholder.com/300x300?text=No+Image+Available",alt:e[t]?.alt||"Chemical bottles with blue liquid",className:"w-full h-full object-contain"})}),a.jsx("div",{className:"flex gap-4",children:e.map(((e,l)=>a.jsx("button",{onClick:()=>s(l),className:"border px-3 overflow-hidden w-26 h-24 "+(t===l?"border-primary":""),children:a.jsx("img",{src:e.url?`/api/image/download/${e.url}`:"https://via.placeholder.com/150x150?text=No+Thumbnail",alt:e.alt||`Thumbnail ${l+1}`,className:"w-full h-full object-cover"})},l)))})]})}function S({productDetails:e,name:t,price:s,categorySlug:l}){const{extractedPContent:r,remainingContent:n}=x.useMemo((()=>{const t=document.createElement("div");t.innerHTML=e;const a=t.querySelector("p"),s=t.querySelector("table");let l="";return a&&(!s||a.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_FOLLOWING)&&(l=a.innerHTML,a.remove()),{extractedPContent:l,remainingContent:t.innerHTML}}),[e]);return a.jsxs(a.Fragment,{children:[a.jsx("h1",{className:"text-2xl font-bold text-main mb-2",children:t}),a.jsxs("p",{className:"text-lg font-bold text-main",children:["Price : ",s,a.jsx("span",{className:"text-secondary font-semibold",children:"tubes-pipes"===l?"/kg":"/Piece"})]}),r&&a.jsx("p",{className:"extracted-paragraph",dangerouslySetInnerHTML:{__html:r}}),a.jsx("div",{className:"mb-8 bg-white p-4 rounded-lg shadow-md",children:a.jsx("div",{className:"custom-product-details overflow-x-auto w-full",dangerouslySetInnerHTML:{__html:n}})}),a.jsx("style",{jsx:!0,global:!0,children:"\n        .extracted-paragraph {\n          margin-bottom: 16px;\n          font-size: 18px;\n          color: #145bc7;\n          font-weight: 600;\n        }\n        .custom-product-details table {\n          width: max-content;\n          min-width: 100%;\n          table-layout: fixed;\n          border-collapse: collapse;\n        }\n        .custom-product-details {\n          max-width: 100%;\n          overflow-x-auto;\n        }\n        .custom-product-details tr:nth-child(odd) {\n          background-color: #f5f9ff !important;\n        }\n        .custom-product-details tr:nth-child(even) {\n          background-color: white !important;\n        }\n        .custom-product-details td {\n          padding: 12px !important;\n          font-size: 16px !important;\n          line-height: 20px !important;\n          text-align: left !important;\n          color: black !important;\n          word-wrap: break-word;\n          overflow: hidden;\n          text-overflow: ellipsis;\n        }\n        .custom-product-details td:first-child {\n          color: #145bc7 !important;\n          width: 25%;\n          min-width: 120px;\n        }\n        .custom-product-details td:nth-child(2) {\n          width: 75%;\n          max-width: 300px;\n          word-break: break-word;\n        }\n        .custom-product-details table,\n        .custom-product-details td {\n          border: none !important;\n        }\n        @media (max-width: 640px) {\n          .custom-product-details td {\n            font-size: 14px !important;\n            padding: 8px !important;\n            white-space: normal;\n            max-width: 100px !important;\n          }\n          .custom-product-details table {\n            table-layout: auto !important;\n          }\n        }\n      "})]})}function k({msds:e,specs:t,name:n,onInquiry:i}){const{data:o,isLoading:c}=s(),{data:d,isLoading:m}=l(),[u,p]=x.useState(""),[h,g]=x.useState("");x.useEffect((()=>{o&&o.length>0&&(p(o[0].number),g(`Hi, I'm interested in ${n}`))}),[o,n]);return c||m?a.jsx("div",{children:"Loading..."}):a.jsxs("div",{className:"mt-12 bg-gradient-to-r from-blue-50 to-blue-100 p-5 shadow-md",children:[a.jsxs("h2",{className:"text-xl font-semibold mb-6 text-blue-900 border-b border-blue-200 pb-3",children:[n," MSDS (Material Safety Data Sheet) or SDS, COA and Specs"]}),a.jsxs("div",{className:"flex flex-wrap gap-4 mb-3",children:[d&&d.length>0?d.map((e=>a.jsx("div",{className:"w-full md:w-1/3 lg:w-1/4",children:a.jsx(r,{onClick:()=>window.open(`/api/image/pdf/view/${e.catalogue}`,"_blank"),className:"w-full bg-main hover:bg-[#0f7aa8] transition-colors duration-300 text-white text-md py-2",children:"Catalogue"})},e._id))):a.jsx("div",{children:"No catalogues available for download."}),a.jsx(r,{onClick:i,className:"w-full md:w-1/4 bg-main hover:bg-[#0f7aa8] transition-colors duration-300 text-white text-md py-5 flex items-center gap-2",children:"Inquiry Now"}),a.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>{const e=`https://wa.me/${u}?text=${encodeURIComponent(h)}`;window.open(e,"_blank")},children:[a.jsx(y,{className:"text-4xl text-green-500"})," "]})]})]})}function C({global_tagline:e,name:t,cas:s}){return a.jsxs("div",{className:"mt-8 border rounded-lg p-4 bg-orange-500/10 border-orange-600 flex justify-center items-center gap-4",children:[a.jsx("div",{className:"w-16",children:a.jsx("img",{src:"https://img.freepik.com/free-vector/illustration-india-flag_53876-27130.jpg?w=64&h=64",alt:"Made in India",className:"w-full h-auto"})}),a.jsxs("p",{className:"font-medium",children:[e," ",t," | ",s]})]})}function I({productName:e,onClose:t}){const[s,l]=x.useState(""),[r,p]=x.useState(""),[h,g]=x.useState(""),[b,j]=x.useState(""),[v,w]=x.useState(""),[y,N]=x.useState(null),[S,k]=x.useState(!1),[C,I]=x.useState(""),[A,P]=x.useState(!1),[T]=n();return a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center w-full justify-center bg-black bg-opacity-50 p-4",children:[a.jsxs("div",{className:"bg-white p-8 rounded-md shadow-2xl w-full max-w-xl",children:[a.jsx("h2",{className:"text-xl font-bold mb-6 text-gray-800 border-b pb-4",children:`Inquiry for ${e}`}),a.jsxs("form",{onSubmit:async a=>{if(a.preventDefault(),y){k(!0),I("");try{const a={name:s,email:r,phone:h,subject:b,message:v,productName:e,captchaToken:y};await T(a).unwrap(),P(!0),k(!1),l(""),p(""),g(""),j(""),w(""),N(null),t()}catch(n){I(n.data?.message||"Failed to submit inquiry. Please try again."),k(!1)}}else I("Please complete the reCAPTCHA.")},className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 text-sm font-semibold mb-2",children:"Name"}),a.jsx("input",{type:"text",value:s,onChange:e=>l(e.target.value),className:"w-full border border-gray-300 p-1 rounded-lg focus:ring-2 focus:ring-blue-400 focus:border-transparent transition duration-200",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 text-sm font-semibold mb-2",children:"Email"}),a.jsx("input",{type:"email",value:r,onChange:e=>p(e.target.value),className:"w-full border border-gray-300 p-1 rounded-lg focus:ring-2 focus:ring-blue-400 focus:border-transparent transition duration-200",required:!0})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 text-sm font-semibold mb-2",children:"Phone No"}),a.jsx("input",{type:"text",value:h,onChange:e=>g(e.target.value),className:"w-full border border-gray-300 p-1 rounded-lg focus:ring-2 focus:ring-blue-400 focus:border-transparent transition duration-200",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 text-sm font-semibold mb-2",children:"Subject"}),a.jsx("input",{type:"text",value:b,onChange:e=>j(e.target.value),className:"w-full border border-gray-300 p-1 rounded-lg focus:ring-2 focus:ring-blue-400 focus:border-transparent transition duration-200",required:!0})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 text-sm font-semibold mb-2",children:"Message"}),a.jsx("textarea",{value:v,onChange:e=>w(e.target.value),className:"w-full border border-gray-300 p-1 rounded-lg transition duration-200 h-20",required:!0})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(f,{sitekey:"6Lfc_AQrAAAAACZeHEU6zFrGBNcdeni4-s3Ebx93",onChange:e=>N(e)}),C&&a.jsx("p",{className:"text-red-500 text-sm",children:C})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{type:"button",className:"bg-gray-500 hover:bg-gray-600 w-1/4 text-white px-6 rounded-md transition duration-200",onClick:t,disabled:S,children:"Cancel"}),a.jsx("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-600 text-white p-2 w-1/4 px-6 rounded-md transition duration-200 disabled:opacity-50 disabled:cursor-not-allowed",disabled:!y||S,children:S?"Submitting...":"Submit"})]})]})]}),a.jsx(i,{open:A,onOpenChange:P,children:a.jsxs(o,{className:"bg-white max-w-md p-6",children:[a.jsxs(c,{children:[a.jsx(d,{className:"text-green-700 text-xl font-bold",children:"Thank You!"}),a.jsx(m,{className:"absolute right-4 top-4 text-gray-700",children:a.jsx(u,{size:20})})]}),a.jsxs("div",{className:"text-gray-800 mt-2",children:[a.jsx("p",{className:"mb-2",children:"Your message has been successfully sent."}),a.jsx("p",{children:"We will get back to you soon."})]})]})})]})}const A=()=>{const[e,t]=x.useState([]),{categorySlug:s}=p();return x.useEffect((()=>{(async()=>{try{const e=await j.get(`/api/product/getRecentProducts/${s}`);t(e.data?.slice(0,6)||[])}catch(e){}})()}),[s]),a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-2xl lg:text-3xl font-bold mb-2 text-blue-900",children:"Recent Products"}),a.jsx("div",{className:"w-[10%] h-1 bg-blue-800"})]}),e.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map((e=>a.jsx(h,{to:`/${e.slug}`,className:"group bg-white overflow-hidden shadow-lg hover:shadow-balck/70 hover:shadow-2xl \r\n              transition-all duration-300 transform hover:-translate-y-1",children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsx("div",{className:"relative p-4 bg-gray-50",children:a.jsx("div",{className:"aspect-w-16 aspect-h-9 h-[40vh]",children:a.jsx("img",{src:e.images?.[0]?.url?`/api/image/download/${e.images[0].url}`:"/placeholder.jpg",alt:e.images?.[0]?.altText||e.name,className:"w-full h-full object-contain  \r\n                      group-hover:scale-105 transition-transform duration-300"})})}),a.jsxs("div",{className:"p-5 flex-1 bg-gradient-to-b from-blue-50 to-blue-100",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:e.name}),a.jsxs("div",{className:"",children:[a.jsxs("p",{className:"text-main mt-1 text-md  font-semibold",children:["₹",e.price,a.jsx("span",{className:"text-black",children:"/piece"})," "]}),e.table&&a.jsx("div",{className:"mt-1 text-blue-700 space-y-1",dangerouslySetInnerHTML:{__html:e.table.replace(/border:\s?1px\s?solid[^;]+;/g,"").replace(/<table[^>]*>/g,"<div class='space-y-1'>").replace(/<\/table>/g,"</div>").replace(/<tbody>|<\/tbody>/g,"").replace(/<tr>/g,"<div class='flex'>").replace(/<\/tr>/g,"</div>").replace(/<td[^>]*>(.*?)<\/td>\s*<td[^>]*>(.*?)<\/td>/g,"<p class='mr-2 font-semibold'>$1:</p><p class='text-gray-800 font-semibold'>$2</p>").split("</div>").slice(0,2).join("</div>")}})]})]})]})},e._id)))}):a.jsx("p",{className:"text-center text-gray-500",children:"No recent products found."})]})};function P(){const[e,t]=x.useState(0),[s,l]=x.useState(null),[n,i]=x.useState(!0),[o,c]=x.useState(!1),[d,m]=x.useState(!1),{slug:u}=p(),h=g();x.useEffect((()=>{u&&(async()=>{try{i(!0),c(!1);const e=await fetch(`/api/product/getbySlug/${u}`);if(!e.ok)throw new Error("Failed to fetch product data");const t=await e.json();if(!t||0===Object.keys(t).length)return void h("/404",{replace:!0});l(t)}catch(e){c(!0)}finally{i(!1)}})()}),[u,h]),x.useEffect((()=>(document.body.style.overflow=d?"hidden":"unset",()=>{document.body.style.overflow="unset"})),[d]),x.useEffect((()=>{const e="Product Details";if(s?.metaTitle){document.title=`${s.metaTitle} - Product Details`;let e=document.querySelector('meta[name="description"]');if(e)e.setAttribute("content",s.metaDescription||`Details about ${s.name}`);else{const e=document.createElement("meta");e.setAttribute("name","description"),e.setAttribute("content",s.metaDescription||`Details about ${s.name}`),document.head.appendChild(e)}}else document.title=n?"Loading...":e;return()=>{document.title=e}}),[s,n]);const f="https://via.placeholder.com/300x300?text=No+Image+Available",j=s?.images?.length?s.images.map((e=>({url:e.url||f,alt:e.alt||"Product Image",title:e.title||"Product Image"}))):[{url:f,alt:"No Image Available",title:"No Image"}],v=s?.table||"";return o?a.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[a.jsx("p",{className:"text-red-600 font-semibold",children:"Error fetching product data."}),a.jsx(r,{onClick:()=>window.location.reload(),className:"mt-4",children:"Retry"})]}):a.jsxs("div",{className:"max-w-6xl mx-auto mb-10 px-4 py-2 relative",children:[d&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:a.jsx(I,{productName:s?.name,onClose:()=>m(!1)})}),n?a.jsx("div",{className:"flex justify-center items-center h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-blue-500"})}):a.jsxs(a.Fragment,{children:[a.jsx(b,{chemicals:s?.category?.category,slug:s?.category?.slug,categorySlug:s?.name}),a.jsxs("div",{className:"lg:flex gap-12",children:[a.jsx(N,{images:j,selectedImage:e,setSelectedImage:t}),a.jsxs("div",{className:"w-full",children:[a.jsx(S,{productDetails:v,name:s?.name,price:s.price,categorySlug:s.categorySlug}),a.jsx(k,{msds:s?.metaSchema,specs:s?.metaKeyword,name:s?.name,onInquiry:()=>m(!0)})]})]}),a.jsxs("div",{className:"mt-12 bg-gradient-to-r from-blue-50 to-blue-100 p-8 rounded-lg shadow-md border border-blue-200",children:[a.jsx("h2",{className:"text-2xl font-semibold mb-6 text-blue-900 border-b border-blue-200 pb-3",children:"Product Description"}),a.jsx("div",{className:"text-gray-700 bg-transparent leading-relaxed prose prose-sm max-w-none\r\n    prose-headings:text-blue-900 \r\n    prose-p:text-gray-600 \r\n    prose-strong:text-blue-800\r\n    prose-ul:list-disc \r\n    prose-ul:pl-5\r\n    prose-li:my-1\r\n    prose-a:text-blue-600 \r\n    prose-a:hover:text-blue-800",style:{backgroundColor:"transparent"},dangerouslySetInnerHTML:{__html:s?.details||"No description available for this product."}})]})]}),a.jsx(A,{}),a.jsx(C,{name:s?.name})]})}export{P as default};
//# sourceMappingURL=ProductDetailPage-Dhs1FpHk.js.map
