import{r as a,j as t,am as E,a as v}from"./index-CpuOtzVf-1746276925609.js";import{F as n}from"./index-4ATAF7jw-1746276925609.js";import{B as p}from"./index-Q1QjD9JP-1746276925609.js";import{s as o}from"./index-D7F8w7e3-1746276925609.js";import"./toArray-DPO5UJLx-1746276925609.js";import"./extends-rM07bN2b-1746276925609.js";import"./AntdIcon-BqKSlByP-1746276925609.js";import"./index-DDs0feMe-1746276925609.js";import"./CheckCircleFilled-DE8JODSn-1746276925609.js";import"./ExclamationCircleFilled-BgG8t4ma-1746276925609.js";import"./InfoCircleFilled-HfXRS8jM-1746276925609.js";const B=()=>{const[s]=n.useForm(),[c,m]=a.useState(""),[d,f]=a.useState(null),[u,r]=a.useState(!1),i=async()=>{try{r(!0);const l=(await v.get(`/api/events/getEvent?t=${new Date().getTime()}`)).data[0];f(l._id),m(l.events),s.setFieldsValue({events:l.events})}catch(e){console.error("Failed to fetch event:",e),o.error("Failed to fetch event.")}finally{r(!1)}};a.useEffect(()=>{i()},[s]);const h=e=>{m(e),s.setFieldsValue({events:e})},y=async()=>{try{if(!d){o.error("No event ID available");return}r(!0),await v.put(`/api/events/editEvent/${d}`,{events:c}),o.success("Event updated successfully!"),await i()}catch(e){console.error("Failed to update event:",e),o.error("Failed to update event.")}finally{r(!1)}};return t.jsxs(n,{form:s,layout:"vertical",onFinish:y,name:"event_form",children:[t.jsx(n.Item,{name:"events",label:"Event Description",rules:[{required:!0,message:"Please input the event details!"}],children:t.jsx(E,{value:c,onChange:h,modules:{toolbar:[["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],["link","image"]]}})}),t.jsxs(n.Item,{children:[t.jsx(p,{type:"primary",htmlType:"submit",loading:u,children:"Update Event"}),t.jsx(p,{onClick:i,style:{marginLeft:8},loading:u,children:"Refresh Data"})]})]})};export{B as default};
