import{r as a,j as t,al as E,a as v}from"./index-BBIQ2JaG-1746426193025.js";import{F as n}from"./index-B5p0oqBc-1746426193025.js";import{B as p}from"./index-C2jQErNw-1746426193025.js";import{s as o}from"./index-CkVR94Ui-1746426193025.js";import"./toArray-uRWhWYCg-1746426193025.js";import"./extends-rM07bN2b-1746426193025.js";import"./AntdIcon-D1dRJs5H-1746426193025.js";import"./index-4NCSjFKa-1746426193025.js";import"./CheckCircleFilled-KdwSm50E-1746426193025.js";import"./ExclamationCircleFilled-Cs3Fj5lZ-1746426193025.js";import"./InfoCircleFilled-uxDeatFe-1746426193025.js";const B=()=>{const[s]=n.useForm(),[c,d]=a.useState(""),[m,f]=a.useState(null),[u,r]=a.useState(!1),i=async()=>{try{r(!0);const l=(await v.get(`/api/events/getEvent?t=${new Date().getTime()}`)).data[0];f(l._id),d(l.events),s.setFieldsValue({events:l.events})}catch(e){console.error("Failed to fetch event:",e),o.error("Failed to fetch event.")}finally{r(!1)}};a.useEffect(()=>{i()},[s]);const h=e=>{d(e),s.setFieldsValue({events:e})},y=async()=>{try{if(!m){o.error("No event ID available");return}r(!0),await v.put(`/api/events/editEvent/${m}`,{events:c}),o.success("Event updated successfully!"),await i()}catch(e){console.error("Failed to update event:",e),o.error("Failed to update event.")}finally{r(!1)}};return t.jsxs(n,{form:s,layout:"vertical",onFinish:y,name:"event_form",children:[t.jsx(n.Item,{name:"events",label:"Event Description",rules:[{required:!0,message:"Please input the event details!"}],children:t.jsx(E,{value:c,onChange:h,modules:{toolbar:[["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],["link","image"]]}})}),t.jsxs(n.Item,{children:[t.jsx(p,{type:"primary",htmlType:"submit",loading:u,children:"Update Event"}),t.jsx(p,{onClick:i,style:{marginLeft:8},loading:u,children:"Refresh Data"})]})]})};export{B as default};
