import{b as e}from"./vendor-BCMiqwDy.js";import{d8 as r}from"./main-CYgOQvaw.js";import{B as n,h as t}from"./index-KxCZag0G.js";function i(e){return!!(null==e?void 0:e.then)}const u=u=>{const{type:o,children:l,prefixCls:s,buttonProps:c,close:f,autoFocus:a,emitEvent:d,isSilent:p,quitOnNullishReturnValue:m,actionFn:v}=u,h=e.useRef(!1),j=e.useRef(null),[x,b]=r(!1),g=function(){null==f||f.apply(void 0,arguments)};e.useEffect((()=>{let e=null;return a&&(e=setTimeout((()=>{var e;null===(e=j.current)||void 0===e||e.focus({preventScroll:!0})}))),()=>{e&&clearTimeout(e)}}),[]);return e.createElement(n,Object.assign({},t(o),{onClick:e=>{if(h.current)return;if(h.current=!0,!v)return void g();let r;if(d){if(r=v(e),m&&!i(r))return h.current=!1,void g(e)}else if(v.length)r=v(f),h.current=!1;else if(r=v(),!i(r))return void g();(e=>{i(e)&&(b(!0),e.then((function(){b(!1,!0),g.apply(void 0,arguments),h.current=!1}),(e=>{if(b(!1,!0),h.current=!1,!(null==p?void 0:p()))return Promise.reject(e)})))})(r)},loading:x,prefixCls:s},c,{ref:j}),l)};export{u as A};
//# sourceMappingURL=ActionButton-CpH6NjgB.js.map
