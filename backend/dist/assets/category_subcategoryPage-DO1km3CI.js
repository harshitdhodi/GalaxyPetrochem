import{j as e,ao as s}from"./main-DbCIA5nM.js";import{L as a,f as t,b as l,j as r,u as c}from"./vendor-X2E3PIZN.js";import"./checkbox-B4CvUtyY.js";import"./card-CgiS1VlC.js";import{P as i}from"./index-BGOmncX4.js";import{T as m,a as n,b as o,c as d,d as x,e as h}from"./table-DVNdpQ_I.js";import{S as g,a as u,b as p,c as j,d as b}from"./select-BGPtewlQ.js";import{a as y}from"./utils-ZFgnvnbw.js";import{P as N}from"./PromoSidebar-CZw7Bgks.js";import"./index-DPOpahcV.js";import"./check-DSfnMMtB.js";import"./index-BoWlxZtN.js";import"./chevron-up-D_C2ouKf.js";const f=e=>e?e.split(/[-\s]+/).map((e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())).join(" "):"";function v({chemicalName:s,categorySlug:t,categoryName:l,slug2:r,subsubCategorySlug:c}){return e.jsx("nav",{className:"  mb-6 md:mx-5 lg:mx-5 lg:pl-4 xl:ml-0 border-b-2 pb-3",children:e.jsxs("ol",{className:"list-none  inline-flex",children:[e.jsxs("li",{className:"flex items-center",children:[e.jsx(a,{to:"/",className:"text-[12px] sm:text-[15px] text-secondary",children:"Home"}),e.jsx("span",{className:"mx-2",children:"››"})]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx(a,{to:"/categories",className:"text-[12px] sm:text-[15px] text-secondary",children:"Products"}),e.jsx("span",{className:"mx-2",children:"››"})]}),e.jsx("li",{className:"flex items-center ",children:e.jsx("span",{className:"text-[12px] sm:text-[15px]",children:e.jsx(a,{to:`/chemicals/${r}`,className:"text-main",children:f(r)})})}),c&&e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"mx-2",children:"››"}),e.jsx("span",{className:"text-[15px] text-secondary",children:f(c)})]})]})})}const w=({chemicals:s,slug:a,isLoading:r,msds:c,specs:i,error:y})=>{const N=t(),[f,v]=l.useState(1),[w,S]=l.useState(5);if(r)return e.jsx("div",{className:"p-4 text-center",children:"Loading..."});if(y)return e.jsxs("div",{className:"p-4 text-center text-red-500",children:["Error fetching chemicals: ",y]});if(0===s.length)return e.jsx("div",{className:"p-4 text-center",children:"No products found."});const C=f*w,P=C-w,A=s.slice(P,C),L=Math.ceil(s.length/w);return e.jsxs("div",{className:"flex flex-col md:pr-5 md:ml-5 xl:ml-0 lg:pr-0 gap-4",children:[e.jsxs("div",{className:"flex sm:flex-row flex-col sm:justify-between xl:mr-0 lg:mr-5 sm:items-center bg-blue-100 gap-2 sm:gap-0 px-4 py-1 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-main font-medium",children:"Items per page:"}),e.jsxs(g,{value:w.toString(),onValueChange:e=>{S(Number(e)),v(1)},children:[e.jsx(u,{className:"w-[60px] bg-white border-gray-200 hover:border-gray-300",children:e.jsx(p,{})}),e.jsx(j,{children:[5,10,20,30,40,50].map((s=>e.jsx(b,{className:"w-[60px]",value:s.toString(),children:e.jsx("span",{className:"text-main text-md font-medium",children:s})},s)))})]})]}),e.jsxs("div",{className:"text-main font-medium",children:["Showing ",e.jsx("span",{className:"text-gray-900",children:P+1})," to ",e.jsx("span",{className:"text-gray-900",children:Math.min(C,s.length)})," of ",e.jsx("span",{className:"text-gray-900",children:s.length})," items"]})]}),e.jsx("div",{className:"lg:mr-5 xl:mr-0",children:e.jsxs(m,{children:[e.jsx(n,{children:e.jsxs(o,{className:"bg-main hover:bg-main_light",children:[e.jsx(d,{className:"text-white text-center",children:"Index No"}),e.jsx(d,{className:"text-white",children:"Product Name"}),e.jsx(d,{className:"text-white text-center",children:"Price"})]})}),e.jsx(x,{children:A.map(((s,t)=>e.jsxs(o,{className:t%2!=0?"bg-main/20 hover:bg-main/10":"",children:[e.jsx(h,{className:"text-center text-main",children:P+t+1}),e.jsx(h,{className:"text-main",children:e.jsx("button",{className:"text-main hover:no-underline",onClick:()=>(e=>{const s=e.replace(/\s+/g,"-").toLowerCase();N(`/${a}/${s}`)})(s.slug),children:s.name})}),e.jsxs(h,{className:"text-main text-center",children:["₹",s.price,"/Piece"]})]},s.auto_p_code)))})]})}),e.jsx("div",{className:"flex flex-wrap justify-end lg:mr-5 xl:mr-0 gap-1.5",children:[...Array(L)].map(((s,a)=>e.jsx("button",{onClick:()=>{v(a+1)},className:"px-4 py-2 border rounded-md transition-colors duration-200 "+(f===a+1?"bg-main_light text-white border-main hover:bg-main":"text-gray-700 border-gray-200 hover:bg-gray-50 hover:border-gray-300"),children:a+1},a+1)))})]})};w.propTypes={chemicals:i.array.isRequired,isLoading:i.bool.isRequired,error:i.string};const S=({categorySlug:a,subsubCategorySlug:t})=>{const{data:l,error:r,isLoading:c}=s(a);if(c)return e.jsx("p",{children:"Loading..."});if(r)return e.jsx("p",{children:"Error loading category data."});if(!l)return e.jsx("p",{children:"Category Not Found"});const{category:i,details:m,photo:n}=l,o=t?t.charAt(0).toUpperCase()+t.slice(1):i;return e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"md:text-3xl md:ml-5 xl:ml-0 text-xl text-main  font-bold mb-6",children:o}),!t&&e.jsxs("div",{className:"flex flex-col lg:flex-row md:ml-5  items-center  justify-between gap-6",children:[e.jsx("div",{className:"w-full md:w-1/2 border-2 p-3 lg:w-2/4",children:e.jsx("img",{src:`/api/logo/download/${n}`,alt:i||"hey",className:"w-full object-contain "})}),e.jsx("div",{className:"w-full md:pr-5  lg:pr-0 lg:w-3/4 mx-5",children:e.jsx("p",{className:"text-gray-700 lg:ml-5 xl:ml-0 text-justify",children:m})})]})]})};function C(){const{chemicals:s,slug:a,subsubCategorySlug:t}=r(),[i,m]=l.useState([]),[n,o]=l.useState([]),[d,x]=l.useState([]),[h,g]=l.useState([]),[u,p]=l.useState(!0),[j,b]=l.useState(null),f=c();let C="";(f.pathname.startsWith("/chemicals")||f.pathname.startsWith("/microbiology")||f.pathname.startsWith("/plant-culture-tested-chemical")||f.pathname.startsWith("/cell-culture-tested-chemical"))&&(f.pathname.startsWith("/chemicals")?C="Fine Chemicals":f.pathname.startsWith("/microbiology")?C="MicroBiology Products":f.pathname.startsWith("/plant-culture-tested-chemical")?C="Plant Culture Tested Chemical":f.pathname.startsWith("/cell-culture-tested-chemical")&&(C="Cell Culture Tested Chemical"));const{chemicalName:P,subCategoryName:A}=f.state||{};l.useEffect((()=>{a&&(async()=>{try{p(!0),b(null);const e=await y.get(`/api/product/getByCategorySlug/${a}`);m(Array.isArray(e.data)?e.data:[]),o(Array.isArray(e.data)?e.data:[])}catch(e){b(e.response?.data?.message||"An error occurred while fetching products")}finally{p(!1)}})()}),[a]),l.useEffect((()=>{(()=>{let e=[...i];d.length>0&&(e=e.filter((e=>d.includes(e.subSubCategorySlug)))),h.length>0&&(e=e.filter((e=>h.includes(e.grade)))),o(e)})()}),[i,d,h]);const L=n.map((e=>({id:e._id,name:e.name,slug:e.slug,price:e.price,molecularFormula:e.molecular_formula,molecularWeight:e.molecular_weight,category:e.categorySlug,subCategory:e.subCategorySlug,subSubCategory:e.subSubCategorySlug,unit:e.unit,cas:e.cas_number,msds:e.msds,specs:e.specs,image:e.images?.length>0?e.images[0]:null})));return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"max-w-7xl px-5 sm:px-0 mx-auto sm:py-4 mb-10",children:[e.jsx(v,{chemicalName:P,slug2:a,categoryName:C,subCategoryName:A,subsubCategorySlug:t,categorySlug:s,subCategorySlug:a}),e.jsxs("div",{className:"flex  flex-col-reverse md:flex-row gap-10 lg:gap-16",children:[e.jsxs("div",{className:"w-full md:w-[60%] lg:w-2/3",children:[e.jsx(S,{categorySlug:a,subsubCategorySlug:t}),e.jsx(w,{chemicals:L,isLoading:u,error:j,slug:a,subsubCategorySlug:t})]}),e.jsx("div",{className:"relative h-[30vh] sm:h-[40vh] lg:h-[60vh] hidden md:block md:w-[30%] lg:w-1/4",children:e.jsx(N,{})})]})]})})}S.propTypes={categorySlug:i.string.isRequired,subsubCategorySlug:i.string};export{C as default};
//# sourceMappingURL=category_subcategoryPage-DO1km3CI.js.map
