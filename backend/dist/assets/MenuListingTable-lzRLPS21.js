import{c0 as e,c3 as t,j as i}from"./main-DbCIA5nM.js";import{f as r,L as s}from"./vendor-X2E3PIZN.js";import{C as n}from"./index-Do4FWjKb.js";import{T as a}from"./index-BSe1tbJT.js";import{B as o}from"./index-CvhnQ2ZS.js";import{R as m}from"./PlusOutlined-DCOYj-on.js";import{F as d}from"./Table-DuH0XXff.js";import{S as l}from"./index-DKxChPud.js";import{P as p}from"./index-ytpybCsT.js";import{R as j}from"./DeleteOutlined-D5hKN4qo.js";import{R as c}from"./EditOutlined-_U-8X4qF.js";import"./utils-ZFgnvnbw.js";import"./AntdIcon-Bc_RgQsY.js";import"./objectSpread2-C2mPdFQ-.js";import"./Skeleton-Ds91yGkQ.js";import"./index-Cie-PtDs.js";import"./toArray-DIarnBRF.js";import"./getAllowClear-CF0z5FWe.js";import"./addEventListener-Dm19rJS7.js";import"./TextArea-BQkixvnv.js";import"./CheckOutlined-qoM0f-f3.js";import"./index-TlfG7RwS.js";import"./dropdown-C2Lyn6ws.js";import"./Input-DzV7KJ8a.js";import"./index-CoLLPh3Y.js";import"./ExclamationCircleFilled-jOtwz4nB.js";import"./ActionButton-9gw_uhHA.js";const{Title:x}=a,h=()=>{const{data:a,error:h,isLoading:u,refetch:f}=e(),[y]=t(),g=r();if(u)return i.jsx("p",{children:"Loading..."});if(h)return i.jsxs("p",{style:{color:"red"},children:["Error: ",h.message]});const k=(a?.data||[]).map((e=>({key:e._id,name:e.parent.name,path:e.parent.path,isParent:!0,children:e.children.length>0?e.children.map((e=>({key:e._id,name:`└── ${e.name}`,path:e.path,isParent:!1,children:e.subChildren?.length>0?e.subChildren.map((e=>({key:e._id,name:`    └── ${e.name}`,path:e.path,isParent:!1}))):void 0}))):void 0}))),A=[{title:"Name",dataIndex:"name",key:"name"},{title:"Path",dataIndex:"path",key:"path"},{title:"Actions",key:"actions",render:(e,t)=>i.jsxs(l,{children:[i.jsx(p,{title:"Are you sure?",onConfirm:()=>(async e=>{await y(e),f()})(t.key),children:i.jsx(o,{type:"danger",shape:"circle",icon:i.jsx(j,{})})}),!t.name.includes("└──")&&i.jsx(o,{type:"primary",shape:"circle",icon:i.jsx(c,{}),onClick:()=>{return e=t.key,void g(`/menu-listing-form/${e}`);var e}})]})}];return i.jsxs(n,{children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:16},children:[i.jsx(x,{level:3,children:"Menu Listings"}),i.jsx(s,{to:"/menu-listing-form",children:i.jsx(o,{type:"primary",icon:i.jsx(m,{}),children:"Add Menu"})})]}),i.jsx(d,{columns:A,dataSource:k,expandable:{defaultExpandAllRows:!1}})]})};export{h as default};
//# sourceMappingURL=MenuListingTable-lzRLPS21.js.map
