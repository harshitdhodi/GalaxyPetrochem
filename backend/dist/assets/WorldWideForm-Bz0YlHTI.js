import{e8 as e,e9 as t,ea as s,j as i}from"./main-CYgOQvaw.js";import{f as a,k as r,b as l}from"./vendor-BCMiqwDy.js";import{F as n}from"./index-D5CjVNbC.js";import{B as o}from"./Breadcrumb-AoU2j8KS.js";import{C as d}from"./index-m3rpagXu.js";import{S as c}from"./index-DXGSnt5L.js";import{I as m}from"./index-BXpZ5tEM.js";import{B as p}from"./index-KxCZag0G.js";import{s as j}from"./index-8QCZ4j4K.js";import"./utils-ZFgnvnbw.js";import"./CheckCircleFilled-Cv6hAgl9.js";import"./ExclamationCircleFilled-DLWZbO_o.js";import"./dropdown-Bj_SuELm.js";import"./EllipsisOutlined-Cze1ZPQm.js";import"./Skeleton-eQTlzOGc.js";import"./PlusOutlined-qRlhxGok.js";import"./getAllowClear-BT_cn9Om.js";import"./CheckOutlined-D_PsN1dT.js";import"./Input-rDQgC5HY.js";import"./TextArea-C1O1HANU.js";import"./InfoCircleFilled-D_WbiPnY.js";const{Option:u}=c,x=()=>{const[x]=n.useForm(),h=a(),{id:g}=r(),y=!!g,[f]=e(),[w]=t(),{data:C,isLoading:b}=s(g,{skip:!y});l.useEffect((()=>{y&&C?.data&&x.setFieldsValue(C.data)}),[C,x,y]);return i.jsxs("div",{style:{padding:"20px"},children:[i.jsx(o,{items:[{title:i.jsx("span",{onClick:()=>h("/dashboard"),style:{cursor:"pointer"},children:"Dashboard"})},{title:i.jsx("span",{onClick:()=>h("/worldwide-table"),style:{cursor:"pointer"},children:"Worldwide Locations"})},{title:y?"Edit Location":"Add Location"}],style:{marginBottom:"16px"}}),i.jsx(d,{title:y?"Edit Location":"Add New Location",children:i.jsxs(n,{form:x,layout:"vertical",onFinish:async e=>{try{y?(await w({id:g,data:e}).unwrap(),j.success("Location updated successfully!")):(await f(e).unwrap(),j.success("Location added successfully!")),h("/worldwide-table")}catch(t){j.error(t.message||"Something went wrong")}},initialValues:{category:"international"},children:[i.jsx(n.Item,{name:"category",label:"Category",rules:[{required:!0,message:"Please select a category"}],children:i.jsxs(c,{children:[i.jsx(u,{value:"international",children:"International"}),i.jsx(u,{value:"india",children:"India"})]})}),i.jsx(n.Item,{name:"name",label:"Country Name",rules:[{required:!0,message:"Please enter country name"}],children:i.jsx(m,{})}),i.jsx(n.Item,{noStyle:!0,shouldUpdate:(e,t)=>e.category!==t.category,children:({getFieldValue:e})=>"india"===e("category")&&i.jsxs(i.Fragment,{children:[i.jsx(n.Item,{name:"state",label:"State",rules:[{required:!0,message:"Please enter state"}],children:i.jsx(m,{})}),i.jsx(n.Item,{name:"cities",label:"Cities (Enter up to 5 cities, one per line)",rules:[{required:!0,message:"Please enter at least one city"}],children:i.jsx(m.TextArea,{rows:5,placeholder:"Enter cities, one per line",onChange:e=>{const t=e.target.value.split("\n").slice(0,5);x.setFieldsValue({cities:t})}})})]})}),i.jsxs(n.Item,{children:[i.jsx(p,{type:"primary",htmlType:"submit",loading:b,children:y?"Update":"Submit"}),i.jsx(p,{style:{marginLeft:"10px"},onClick:()=>h("/worldwide-table"),children:"Cancel"})]})]})})]})};export{x as default};
//# sourceMappingURL=WorldWideForm-Bz0YlHTI.js.map
