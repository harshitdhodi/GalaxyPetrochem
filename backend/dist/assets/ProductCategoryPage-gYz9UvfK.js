import{j as e,P as s}from"./main-DbCIA5nM.js";import{b as a,f as l,L as t}from"./vendor-X2E3PIZN.js";import{a as c}from"./utils-ZFgnvnbw.js";import{P as i}from"./PromoSidebar-CZw7Bgks.js";import{M as r}from"./minus-AIRIH1XH.js";const m=()=>{const[m,o]=a.useState([]),[d,n]=a.useState([]),[x,h]=a.useState({}),g=l();a.useEffect((()=>{c.get("/api/chemicalCategory/getAll").then((e=>{o(e.data),e.data.length>0&&h({[e.data[0].slug]:!0})})).catch((e=>{})),c.get("/api/product").then((e=>n(e.data))).catch((e=>{}))}),[]);const p=m.map((e=>({...e,products:d.filter((s=>s.category.slug===e.slug))})));return m.length?e.jsxs("div",{className:"w-full md:max-w-7xl mx-auto min-h-screen bg-white",children:[e.jsx("nav",{className:"pt-5 sm:text-xs md:text-sm lg:text-base text-[11px] border-b pb-3 w-[98%] ml-8 mb-5 py-2",children:e.jsxs("ul",{className:"flex gap-2 flex-wrap",children:[e.jsx("li",{children:e.jsx(t,{to:"/",className:"text-secondary  hover:text-main_light",children:"Home"})}),e.jsx("li",{className:"text-gray-400",children:">"}),e.jsx("li",{children:e.jsx(t,{to:"/products",className:"text-main hover:text-main_light",children:"Products"})})]})}),e.jsx("div",{className:"mx-auto max-w-7xl px-4 lg:px-0",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-center gap-10 p-6 w-full",children:[e.jsx("div",{className:"w-full border px-5 py-3 md:w-[75%]",children:e.jsx("div",{className:"space-y-8",children:p.map((a=>e.jsxs("div",{className:"rounded-lg p-4 shadow-md",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6 gap-6",children:[e.jsxs("div",{className:"flex gap-3 items-center",children:[e.jsx("img",{src:a.photo?`/api/logo/download/${a.photo}`:"https://img.freepik.com/free-vector/abstract-chemical-logo_23-2148610094.jpg?w=200",alt:a.name,className:"h-10 border-2 p-1"}),e.jsx(t,{to:`/${a.slug}`,className:"block",children:e.jsx("h2",{className:"text-main font-bold text-lg",children:a.category})})]}),e.jsx("div",{children:e.jsx("button",{onClick:()=>{return e=a.slug,void h((s=>({...s,[e]:!s[e]})));var e},className:"p-1 hover:bg-blue-100 rounded-full transition-colors",children:x[a.slug]?e.jsx(r,{className:"w-5 h-5 text-main"}):e.jsx(s,{className:"w-5 h-5 text-main"})})})]}),x[a.slug]&&e.jsx("ul",{className:"flex flex-col gap-5  bg-white rounded-lg",children:a.products.map((s=>e.jsxs("li",{className:"flex p-1 px-4 justify-start items-center w-full bg-blue-100 cursor-pointer",onClick:()=>g(`/${a.slug}/${s.slug}`),children:[e.jsx("img",{src:s.images?.[0]?.url?`/api/image/download/${s.images[0].url}`:"https://via.placeholder.com/150",alt:s.name,className:"w-20 h-10 mt-2 object-contain mb-2"}),e.jsx("h3",{className:"text-main font-medium text-lg",children:s.name})]},s.slug)))})]},a.slug)))})}),e.jsx("div",{className:"relative h-[30vh] sm:h-[40vh] lg:h-[60vh] w-1/4",children:e.jsx(i,{})})]})})]}):e.jsx("div",{className:"text-center py-4",children:"Loading..."})},o=()=>e.jsx("div",{children:e.jsx(m,{})});export{o as default};
//# sourceMappingURL=ProductCategoryPage-gYz9UvfK.js.map
