import{r as p,j as t,a$ as f,g}from"./index-VybT_Q4I-1746105499204.js";const x=()=>{const[e,o]=p.useState({years:"",clients:"",experts:"",details:"",imgTitle:"",altName:"",photo:null}),[i,u]=p.useState(!1),l=r=>{const{name:s,value:a,files:n}=r.target;o(s==="photo"?d=>({...d,photo:n[0]}):d=>({...d,[s]:a}))},m=r=>{o(s=>({...s,details:r}))},c=async r=>{var s;r.preventDefault(),u(!0);try{const a=new FormData;a.append("years",e.years),a.append("clients",e.clients),a.append("experts",e.experts),a.append("details",e.details),a.append("imgTitle",e.imgTitle),a.append("altName",e.altName),e.photo&&a.append("photo",e.photo);const n=await g.post("/api/aboutus/addStats",a,{headers:{"Content-Type":"multipart/form-data"}});console.log("Response:",n.data),alert("Stats added successfully!"),o({years:"",clients:"",experts:"",details:"",imgTitle:"",altName:"",photo:null})}catch(a){console.error("Error submitting form:",((s=a.response)==null?void 0:s.data)||a.message),alert("Failed to add stats.")}finally{u(!1)}},h={readonly:!1,height:300,toolbarAdaptive:!1,toolbarButtonSize:"small",buttons:["source","|","bold","italic","underline","strikethrough","|","fontsize","brush","paragraph","|","ul","ol","align","|","link","image","|","undo","redo","|","hr","eraser","copyformat","|","fullsize"],showCharsCounter:!1,showWordsCounter:!1,showXPathInStatusbar:!1,allowResizeX:!1,allowResizeY:!1,cleanHTML:{fillEmptyParagraph:!1,removeEmptyElements:!1},defaultActionOnPaste:"insert_as_html",askBeforePasteHTML:!1,askBeforePasteFromWord:!1,pasteFromWord:!0};return t.jsxs("div",{className:"max-w-xl mx-auto p-6 bg-white rounded shadow-md",children:[t.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Add Stats"}),t.jsxs("form",{onSubmit:c,className:"space-y-4",children:[t.jsx("input",{type:"number",name:"years",value:e.years,onChange:l,placeholder:"Years",required:!0,className:"w-full p-2 border rounded"}),t.jsx("input",{type:"number",name:"clients",value:e.clients,onChange:l,placeholder:"Clients",required:!0,className:"w-full p-2 border rounded"}),t.jsx("input",{type:"number",name:"experts",value:e.experts,onChange:l,placeholder:"Experts",required:!0,className:"w-full p-2 border rounded"}),t.jsx("div",{className:"w-full border rounded p-2",children:t.jsx(f,{value:e.details,config:h,onBlur:m,tabIndex:1})}),t.jsx("input",{type:"text",name:"imgTitle",value:e.imgTitle,onChange:l,placeholder:"Image Title",required:!0,className:"w-full p-2 border rounded"}),t.jsx("input",{type:"text",name:"altName",value:e.altName,onChange:l,placeholder:"Alt Name",required:!0,className:"w-full p-2 border rounded"}),t.jsx("input",{type:"file",name:"photo",accept:"image/*",onChange:l,required:!0,className:"w-full p-2 border rounded"}),t.jsx("button",{type:"submit",disabled:i,className:"w-full bg-blue-600 text-white p-2 rounded hover:bg-blue-700",children:i?"Submitting...":"Submit"})]})]})};export{x as default};
