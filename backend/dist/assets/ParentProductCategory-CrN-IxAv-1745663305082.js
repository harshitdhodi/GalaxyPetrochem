import{u as f,j as e,L as m,r,i as p,k as j,g as u}from"./index-pxV5F7Vk-1745663305082.js";import"./breadcrumb-CMLZ6XKS-1745663305082.js";import"./chevron-right-CwFtWmOi-1745663305082.js";function b({title:o,image:i,subcategories:a,slug:c}){const l=f();console.log("Products in ProductSection:",a);const d=n=>{l(`/${c}/${n}`)};return e.jsxs("div",{className:"mb-12",children:[e.jsx("h2",{className:"text-2xl font-bold text-[#0a3161] mb-2",children:o}),e.jsx("div",{className:"h-1 w-16 bg-[#0a3161] mb-6"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-6",children:[e.jsx("div",{className:"flex-shrink-0 border bg-[#2b60d9]",children:e.jsx("div",{className:"w-64 h-64 bg-white p-5 rounded-full m-4 border overflow-hidden",children:e.jsx("img",{src:i||"/placeholder.svg",alt:o,className:"w-full h-full object-cover"})})}),e.jsx("div",{className:"flex-grow",children:e.jsx("div",{className:"flex flex-col gap-2 max-h-[220px] overflow-y-auto pr-2 scrollbar",children:a&&a.length>0?a.map((n,x)=>e.jsx("p",{className:"bg-gray-200 py-2 px-5 text-sm rounded-md hover:text-[#2b60d9] cursor-pointer",onClick:()=>d(n.slug),children:n.category},x)):e.jsx("p",{className:"text-gray-500 bg-gray-200 py-2 px-5 text-sm rounded-md",children:"No products available for this category."})})})]}),e.jsx(m,{to:`/${c}`,children:e.jsx("button",{className:"mt-6 bg-red-600 float-start hover:bg-red-700 text-white font-bold py-2 px-5 rounded transition-colors",children:"VIEW MORE"})})]})}function y(){const[o,i]=r.useState([]),[a,c]=r.useState(!0),[l,d]=r.useState([]),[n,x]=r.useState(!0),g=location.pathname.replace(/^\//,"")||"introduction";return r.useEffect(()=>{(async()=>{try{const t=await u.get(`/api/banner/getByPageSlug?pageSlug=${g}`);d(t.data||[])}catch(t){console.error("Failed to fetch banner:",t)}finally{x(!1)}})()},[g]),r.useEffect(()=>{(async()=>{try{const h=(await u.get("/api/chemicalCategory/getAllCategoriesWithProducts")).data;console.log("Fetched categories with products:",h),i(h)}catch(t){console.error("Error fetching categories with products:",t)}finally{c(!1)}})()},[]),a?e.jsx("p",{className:"text-center",children:"Loading categories and products..."}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative",children:[l&&l.length>0?e.jsx(p,{imageUrl:`/api/image/download/${l[0].image}`}):e.jsx(p,{imageUrl:j}),e.jsx("div",{className:"container mx-auto px-4 max-w-7xl -mt-8 relative z-10",children:e.jsxs("nav",{className:"text-[#fff] text-md font-semibold",children:[e.jsx(m,{to:"/",children:e.jsx("span",{className:"text-[12px] bg-gray-600 px-2 rounded-md sm:text-[15px] text-white",children:"Home"})}),e.jsx("span",{className:"mx-2 text-white",children:">"}),e.jsx(m,{children:e.jsx("span",{className:"text-[12px] bg-gray-600 px-2 rounded-md sm:text-[15px] text-white",children:"Product"})})]})})]}),e.jsx("div",{className:"container mx-auto px-4 max-w-7xl pt-10",children:e.jsx("h2",{className:"text-4xl text-[#0a3161] font-bold mb-3 ",children:"Our Categories"})}),e.jsx("div",{className:"container mx-auto px-4 grid grid-cols-1 md:grid-cols-2 pb-8 max-w-7xl gap-10",children:o.length===0?e.jsx("p",{children:"No categories found."}):o.map((s,t)=>e.jsx("div",{className:"mb-14",children:e.jsx(b,{title:s.category,image:`/api/logo/download/${s.photo}`,subcategories:s.subCategories||[],slug:s.slug})},t))})]})}export{y as default};
