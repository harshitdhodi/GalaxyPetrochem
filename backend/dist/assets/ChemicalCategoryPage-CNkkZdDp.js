import{b as s,j as e,B as a,P as r,T as i,e as t,f as d,g as c,h as n,aO as l,i as o,aP as x,aA as h,au as m}from"./main-CYgOQvaw.js";import{L as j,f as u,R as g}from"./vendor-BCMiqwDy.js";import{C as b}from"./chevron-right-BHJrePhs.js";import"./utils-ZFgnvnbw.js";const y=({item:s,level:r,parentIds:i={}})=>{const t=u(),[c,n]=g.useState(!1),j=s.subCategories?.length>0||s.subSubCategory?.length>0,[f,{isLoading:p}]=l(),v={...i,...0===r?{categoryId:s._id}:1===r?{subcategoryId:s._id}:{subSubCategoryId:s._id}};return e.jsxs(e.Fragment,{children:[e.jsxs(d,{children:[e.jsx(o,{className:"font-medium",children:e.jsxs("div",{className:"flex items-center",style:{paddingLeft:20*r+"px"},children:[j&&e.jsx("button",{onClick:()=>n(!c),className:"mr-2",children:c?e.jsx(x,{className:"h-4 w-4"}):e.jsx(b,{className:"h-4 w-4"})}),s.category]})}),e.jsx(o,{children:e.jsxs("div",{className:"flex justify-start ",children:[e.jsx(a,{variant:"ghost",size:"icon",onClick:()=>{const s=`/edit-chemical-category/${v.categoryId||""}${v.subcategoryId?`/${v.subcategoryId}`:""}${v.subSubCategoryId?`/${v.subSubCategoryId}`:""}`;t(s)},children:e.jsx(h,{className:"h-4 w-4 text-blue-600"})}),e.jsx(a,{variant:"ghost",size:"icon",onClick:async()=>{try{await f(s._id).unwrap()}catch(e){}},disabled:p,children:e.jsx(m,{className:"h-4 w-4 text-red-600"})})]})})]}),c&&s.subCategories&&s.subCategories.map((s=>e.jsx(y,{item:s,level:r+1,parentIds:v},s._id))),c&&s.subSubCategory&&s.subSubCategory.map((s=>e.jsx(y,{item:s,level:r+1,parentIds:v},s._id)))]})};function f(){const{data:l,error:o,isLoading:x}=s();if(x)return e.jsx("div",{children:"Loading..."});if(o)return e.jsxs("div",{children:["Error: ",o.message||"An error occurred"]});const h=Array.isArray(l)?l:[l];return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex justify-end",children:e.jsx(j,{to:"/chemical-category-form",children:e.jsxs(a,{children:[e.jsx(r,{className:"mr-2 h-4 w-4"})," Add Category"]})})}),e.jsx("div",{className:"border rounded-lg overflow-hidden",children:e.jsxs(i,{children:[e.jsx(t,{children:e.jsxs(d,{children:[e.jsx(c,{children:"Categories"}),e.jsx(c,{children:"Actions"})]})}),e.jsx(n,{children:h.map((s=>e.jsx(y,{item:s,level:0,parentIds:{}},s._id)))})]})})]})}function p(){return e.jsxs("div",{className:"container mx-auto py-10",children:[e.jsx("h1",{className:"text-2xl font-bold mb-5",children:"Product Categories"}),e.jsx(f,{})]})}export{p as default};
//# sourceMappingURL=ChemicalCategoryPage-CNkkZdDp.js.map
