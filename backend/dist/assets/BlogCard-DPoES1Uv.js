import{j as e}from"./main-DbCIA5nM.js";import{b as r}from"./vendor-X2E3PIZN.js";import{a as o}from"./utils-ZFgnvnbw.js";import{R as t}from"./quill.snow-BtYlbvM3.js";import{F as l}from"./index-BGrTmilS.js";import{B as a}from"./index-CvhnQ2ZS.js";import{s}from"./index-BQxUT-WV.js";import"./isEqual-12EnfSUl.js";import"./toArray-DIarnBRF.js";import"./objectSpread2-C2mPdFQ-.js";import"./AntdIcon-Bc_RgQsY.js";import"./index-BJvm14ET.js";import"./CheckCircleFilled-vSnFSXRd.js";import"./ExclamationCircleFilled-jOtwz4nB.js";import"./InfoCircleFilled-BiVI0bqr.js";const i=()=>{const[i]=l.useForm(),[d,n]=r.useState(""),[c,m]=r.useState(""),[f,g]=r.useState(null),u=async()=>{try{const e=(await o.get("/api/blogCard/getCard")).data[0];g(e._id),n(e.blogCard);const r=(new DOMParser).parseFromString(e.blogCard,"text/html"),t=r.getElementsByTagName("*");for(let o of t)"white"!==o.style.color&&"#ffffff"!==o.style.color||(o.style.color="black");m(r.body.innerHTML),i.setFieldsValue({blogCard:e.blogCard})}catch(e){s.error("Failed to fetch blog card.")}};r.useEffect((()=>{u()}),[i]);return e.jsxs(l,{form:i,layout:"vertical",onFinish:async()=>{try{f?(await o.put(`/api/blogCard/editCard/${f}`,{blogCard:d}),s.success("Blog card updated successfully!")):(await o.post("/api/blogCard/addCard",{blogCard:d}),s.success("Blog card added successfully!")),i.resetFields(),n(""),m(""),u()}catch(e){s.error("Failed to save blog card.")}},name:"blog_card_form",children:[e.jsx(l.Item,{name:"blogCard",label:"Blog Card Content",rules:[{required:!0,message:"Please input the blog card content!"}],children:e.jsx(t,{value:c||d,onChange:e=>{n(e);const r=(new DOMParser).parseFromString(e,"text/html"),o=r.getElementsByTagName("*");for(let t of o)"white"!==t.style.color&&"#ffffff"!==t.style.color||(t.style.color="black");m(r.body.innerHTML)},modules:{toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{list:"ordered"},{list:"bullet"}],["bold","italic","underline","blockquote"],[{align:[]}],["link","image","video"],["clean"]]},formats:["header","font","list","bold","italic","underline","blockquote","align","link","image","video"]})}),e.jsx(l.Item,{children:e.jsx(a,{type:"primary",htmlType:"submit",children:f?"Update Blog Card":"Add Blog Card"})})]})};export{i as default};
//# sourceMappingURL=BlogCard-DPoES1Uv.js.map
