{"version":3,"file":"WhatsUpTable-oslZvm3y.js","sources":["../../src/websiteBackend/whatsUpInfo/WhatsUpTable.jsx"],"sourcesContent":["// filepath: /c:/Users/Admin/Desktop/CDHCHEMICAL/git/frontend/src/components/WhatsUpInfoTable.jsx\r\nimport React, { useState } from 'react';\r\nimport { Table, Button, Popconfirm, message } from 'antd';\r\nimport WhatsUpInfoForm from './WhatUpForm';\r\nimport { useGetWhatsUpInfoQuery ,useDeleteWhatsUpInfoByIdMutation  } from '@/slice/whatsUpInfo/WhatsUpInfo';\r\nimport EventModal from '@/dashboard/calender/event-modal';\r\n\r\nconst WhatsUpInfoTable = () => {\r\n    const { data: whatsUpInfo, error, isLoading } = useGetWhatsUpInfoQuery();\r\n    const [deleteWhatsUpInfoById] = useDeleteWhatsUpInfoByIdMutation();\r\n    const [editingInfo, setEditingInfo] = useState(null);\r\n    const [isModalVisible, setIsModalVisible] = useState(false);\r\n\r\n    const handleDelete = async (id) => {\r\n        try {\r\n            await deleteWhatsUpInfoById(id).unwrap();\r\n            message.success('WhatsUp Info deleted successfully!');\r\n        } catch (error) {\r\n            message.error('Failed to delete WhatsUp Info.');\r\n        }\r\n    };\r\n\r\n    const columns = [\r\n        {\r\n            title: 'Name',\r\n            dataIndex: 'name',\r\n            key: 'name',\r\n        },\r\n        {\r\n            title: 'Description',\r\n            dataIndex: 'description',\r\n            key: 'description',\r\n        },\r\n        {\r\n            title: 'Actions',\r\n            key: 'actions',\r\n            render: (text, record) => (\r\n                <div>\r\n                    <Button\r\n                        type=\"link\"\r\n                        onClick={() => {\r\n                            setEditingInfo(record);\r\n                            setIsModalVisible(true);\r\n                        }}\r\n                    >\r\n                        Edit\r\n                    </Button>\r\n                    <Popconfirm\r\n                        title=\"Are you sure to delete this WhatsUp Info?\"\r\n                        onConfirm={() => handleDelete(record.id)}\r\n                        okText=\"Yes\"\r\n                        cancelText=\"No\"\r\n                    >\r\n                        <Button type=\"link\" danger>\r\n                            Delete\r\n                        </Button>\r\n                    </Popconfirm>\r\n                </div>\r\n            ),\r\n        },\r\n    ];\r\n\r\n    return (\r\n        <div>\r\n            <Button\r\n                type=\"primary\"\r\n                onClick={() => {\r\n                    setEditingInfo(null);\r\n                    setIsModalVisible(true);\r\n                }}\r\n            >\r\n                Add WhatsUp Info\r\n            </Button>\r\n            <Table\r\n                columns={columns}\r\n                dataSource={whatsUpInfo}\r\n                rowKey=\"id\"\r\n                loading={isLoading}\r\n                pagination={{ pageSize: 10 }}\r\n            />\r\n            {isModalVisible && (\r\n                <EventModal\r\n                    title={editingInfo ? 'Edit WhatsUp Info' : 'Add WhatsUp Info'}\r\n                    visible={isModalVisible}\r\n                    onCancel={() => setIsModalVisible(false)}\r\n                    footer={null}\r\n                >\r\n                    <WhatsUpInfoForm\r\n                        initialValues={editingInfo}\r\n                        onClose={() => setIsModalVisible(false)}\r\n                    />\r\n                </EventModal>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default WhatsUpInfoTable;"],"names":["WhatsUpInfoTable","data","whatsUpInfo","error","isLoading","useGetWhatsUpInfoQuery","deleteWhatsUpInfoById","useDeleteWhatsUpInfoByIdMutation","editingInfo","setEditingInfo","useState","isModalVisible","setIsModalVisible","columns","title","dataIndex","key","render","text","record","children","jsx","Button","type","onClick","Popconfirm","onConfirm","async","id","unwrap","message","success","handleDelete","okText","cancelText","danger","Table","dataSource","rowKey","loading","pagination","pageSize","EventModal","visible","onCancel","footer","WhatsUpInfoForm","initialValues","onClose"],"mappings":"26BAOA,MAAMA,EAAmB,KACrB,MAAQC,KAAMC,EAAAC,MAAaA,EAAOC,UAAAA,GAAcC,KACzCC,GAAyBC,KACzBC,EAAaC,GAAkBC,EAAAA,SAAS,OACxCC,EAAgBC,GAAqBF,EAAAA,UAAS,GAW/CG,EAAU,CACZ,CACIC,MAAO,OACPC,UAAW,OACXC,IAAK,QAET,CACIF,MAAO,cACPC,UAAW,cACXC,IAAK,eAET,CACIF,MAAO,UACPE,IAAK,UACLC,OAAQ,CAACC,EAAMC,WACV,MACG,CAAAC,SAAA,CAAAC,EAAAA,IAACC,EAAA,CACGC,KAAK,OACLC,QAAS,KACLf,EAAeU,GACfP,GAAkB,EAAI,EAE7BQ,SAAA,SAGDC,EAAAA,IAACI,EAAA,CACGX,MAAM,4CACNY,UAAW,IApCVC,OAAOC,IACpB,UACMtB,EAAsBsB,GAAIC,SAChCC,EAAQC,QAAQ,4CACX5B,GACL2B,EAAQ3B,MAAM,iCAAgC,GA+BjB6B,CAAab,EAAOS,IACrCK,OAAO,MACPC,WAAW,KAEXd,eAACE,EAAO,CAAAC,KAAK,OAAOY,QAAM,EAACf,SAE3B,kBAOpB,cACK,MACG,CAAAA,SAAA,CAAAC,EAAAA,IAACC,EAAA,CACGC,KAAK,UACLC,QAAS,KACLf,EAAe,MACfG,GAAkB,EAAI,EAE7BQ,SAAA,qBAGDC,EAAAA,IAACe,EAAA,CACGvB,UACAwB,WAAYnC,EACZoC,OAAO,KACPC,QAASnC,EACToC,WAAY,CAAEC,SAAU,MAE3B9B,GACGU,EAAAA,IAACqB,EAAA,CACG5B,MAAON,EAAc,oBAAsB,mBAC3CmC,QAAShC,EACTiC,SAAU,IAAMhC,GAAkB,GAClCiC,OAAQ,KAERzB,SAAAC,EAAAA,IAACyB,EAAA,CACGC,cAAevC,EACfwC,QAAS,IAAMpC,GAAkB,SAIjD"}