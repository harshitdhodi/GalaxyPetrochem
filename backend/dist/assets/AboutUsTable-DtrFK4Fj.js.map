{"version":3,"file":"AboutUsTable-DtrFK4Fj.js","sources":["../../src/websiteBackend/aboutus/AboutUsTable.jsx"],"sourcesContent":["import React from 'react';\r\nimport { Table, Button, Space, message } from 'antd';\r\nimport { EditOutlined, DeleteOutlined, PlusOutlined } from '@ant-design/icons';\r\nimport { useGetAboutUsQuery, useDeleteAboutUsMutation } from '../../slice/aboutUs/aboutUs';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst AboutUsTable = () => {\r\n  const navigate = useNavigate();\r\n  const { data: aboutUsData, isLoading } = useGetAboutUsQuery();\r\n  const [deleteAboutUs] = useDeleteAboutUsMutation();\r\n\r\n  const handleDelete = async (id) => {\r\n    try {\r\n      await deleteAboutUs(id);\r\n      message.success('About Us entry deleted successfully');\r\n    } catch (error) {\r\n      message.error('Failed to delete About Us entry');\r\n    }\r\n  };\r\n\r\n  const columns = [\r\n    {\r\n      title: 'Title',\r\n      dataIndex: 'title',\r\n      key: 'title',\r\n      width: '10%',\r\n    },\r\n    {\r\n      title: 'Short Description',\r\n      dataIndex: 'shortDescription',\r\n      key: 'shortDescription',\r\n      ellipsis: true,\r\n      width: '40%',\r\n      render: (shortDescription) => (\r\n        <div dangerouslySetInnerHTML={{ __html: shortDescription }} />\r\n      ),\r\n    },\r\n    {\r\n      title: 'Image',\r\n      dataIndex: 'image',\r\n      key: 'image',\r\n      width: '15%',\r\n      render: (image) => (\r\n        <img \r\n          src={`/api/image/download/${image}`} \r\n          alt=\"About Us\" \r\n          style={{ width: '100px', height: '50px', objectFit: 'cover' }} \r\n        />\r\n      ),\r\n    },\r\n    \r\n    {\r\n      title: 'Actions',\r\n      key: 'actions',\r\n      width: '10%',\r\n      render: (_, record) => (\r\n        <Space>\r\n          <Button \r\n            type=\"primary\" \r\n            icon={<EditOutlined />}\r\n            onClick={() => navigate(`/edit-about-us-form/${record._id}`)}\r\n          >\r\n          </Button>\r\n          <Button \r\n            danger \r\n            icon={<DeleteOutlined />}\r\n            onClick={() => handleDelete(record._id)}\r\n          >\r\n          </Button>\r\n        </Space>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      <div style={{ padding: '24px' }} className='flex justify-between items-center'>\r\n        <div className='text-2xl font-bold'>\r\n          <h1>About Us</h1>   \r\n        </div>\r\n        <div>\r\n          <Button \r\n            type=\"primary\" \r\n            icon={<PlusOutlined />}\r\n            onClick={() => navigate('/about-us-form')}\r\n            style={{ marginBottom: '16px' }}\r\n          >\r\n            Add About Us\r\n          </Button>\r\n        </div>\r\n      </div>\r\n      <Table \r\n        columns={columns} \r\n        dataSource={aboutUsData} \r\n        loading={isLoading}\r\n        rowKey=\"_id\"\r\n        pagination={false}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AboutUsTable;\r\n"],"names":["AboutUsTable","navigate","useNavigate","data","aboutUsData","isLoading","useGetAboutUsQuery","deleteAboutUs","useDeleteAboutUsMutation","columns","title","dataIndex","key","width","ellipsis","render","shortDescription","jsx","dangerouslySetInnerHTML","__html","image","src","alt","style","height","objectFit","_","record","Space","children","Button","type","icon","EditOutlined","onClick","_id","danger","DeleteOutlined","async","id","message","success","error","handleDelete","jsxs","padding","className","PlusOutlined","marginBottom","Table","dataSource","loading","rowKey","pagination"],"mappings":"6yBAMA,MAAMA,EAAe,KACnB,MAAMC,EAAWC,KACTC,KAAMC,EAAaC,UAAAA,GAAcC,KAClCC,GAAiBC,IAWlBC,EAAU,CACd,CACEC,MAAO,QACPC,UAAW,QACXC,IAAK,QACLC,MAAO,OAET,CACEH,MAAO,oBACPC,UAAW,mBACXC,IAAK,mBACLE,UAAU,EACVD,MAAO,MACPE,OAASC,GACPC,MAAC,OAAIC,wBAAyB,CAAEC,OAAQH,MAG5C,CACEN,MAAO,QACPC,UAAW,QACXC,IAAK,QACLC,MAAO,MACPE,OAASK,GACPH,EAAAA,IAAC,MAAA,CACCI,IAAK,uBAAuBD,IAC5BE,IAAI,WACJC,MAAO,CAAEV,MAAO,QAASW,OAAQ,OAAQC,UAAW,YAK1D,CACEf,MAAO,UACPE,IAAK,UACLC,MAAO,MACPE,OAAQ,CAACW,EAAGC,WACTC,EACC,CAAAC,SAAA,CAAAZ,EAAAA,IAACa,EAAA,CACCC,KAAK,UACLC,WAAOC,EAAa,IACpBC,QAAS,IAAMjC,EAAS,uBAAuB0B,EAAOQ,SAGxDlB,EAAAA,IAACa,EAAA,CACCM,QAAM,EACNJ,WAAOK,EAAe,IACtBH,QAAS,IAvDEI,OAAOC,IACtB,UACIhC,EAAcgC,GACpBC,EAAQC,QAAQ,6CACTC,GACPF,EAAQE,MAAM,kCAAiC,GAkD1BC,CAAahB,EAAOQ,YAQ7C,cACG,MACC,CAAAN,SAAA,CAAAe,OAAC,OAAIrB,MAAO,CAAEsB,QAAS,QAAUC,UAAU,oCACzCjB,SAAA,CAAAZ,EAAAA,IAAC,OAAI6B,UAAU,qBACbjB,SAACZ,MAAA,KAAA,CAAGY,8BAEL,MACC,CAAAA,SAAAZ,EAAAA,IAACa,EAAA,CACCC,KAAK,UACLC,WAAOe,EAAa,IACpBb,QAAS,IAAMjC,EAAS,kBACxBsB,MAAO,CAAEyB,aAAc,QACxBnB,SAAA,sBAKLZ,EAAAA,IAACgC,EAAA,CACCxC,UACAyC,WAAY9C,EACZ+C,QAAS9C,EACT+C,OAAO,MACPC,YAAY,MAEhB"}