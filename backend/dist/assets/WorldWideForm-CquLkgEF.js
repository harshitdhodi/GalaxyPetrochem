import{bM as e,bN as t,bO as i,j as s}from"./main-DbCIA5nM.js";import{f as r,j as a,b as o}from"./vendor-X2E3PIZN.js";import{F as n}from"./index-BGrTmilS.js";import{B as l}from"./Breadcrumb-DZWgOyzs.js";import{C as d}from"./index-Do4FWjKb.js";import{S as c}from"./index-TlfG7RwS.js";import{I as m}from"./index-C8xsCgg9.js";import{B as p}from"./index-CvhnQ2ZS.js";import{s as j}from"./index-BQxUT-WV.js";import"./utils-ZFgnvnbw.js";import"./toArray-DIarnBRF.js";import"./objectSpread2-C2mPdFQ-.js";import"./AntdIcon-Bc_RgQsY.js";import"./index-BJvm14ET.js";import"./CheckCircleFilled-vSnFSXRd.js";import"./ExclamationCircleFilled-jOtwz4nB.js";import"./dropdown-C2Lyn6ws.js";import"./index-Cie-PtDs.js";import"./Skeleton-Ds91yGkQ.js";import"./PlusOutlined-DCOYj-on.js";import"./getAllowClear-CF0z5FWe.js";import"./CheckOutlined-qoM0f-f3.js";import"./Input-DzV7KJ8a.js";import"./EyeOutlined-D6toRaq1.js";import"./TextArea-BQkixvnv.js";import"./InfoCircleFilled-BiVI0bqr.js";const{Option:u}=c,x=()=>{const[x]=n.useForm(),h=r(),{id:y}=a(),g=!!y,[f]=e(),[b]=t(),{data:w,isLoading:C}=i(y,{skip:!g});o.useEffect((()=>{g&&w?.data&&x.setFieldsValue(w.data)}),[w,x,g]);return s.jsxs("div",{style:{padding:"20px"},children:[s.jsx(l,{items:[{title:s.jsx("span",{onClick:()=>h("/dashboard"),style:{cursor:"pointer"},children:"Dashboard"})},{title:s.jsx("span",{onClick:()=>h("/worldwide-table"),style:{cursor:"pointer"},children:"Worldwide Locations"})},{title:g?"Edit Location":"Add Location"}],style:{marginBottom:"16px"}}),s.jsx(d,{title:g?"Edit Location":"Add New Location",children:s.jsxs(n,{form:x,layout:"vertical",onFinish:async e=>{try{g?(await b({id:y,data:e}).unwrap(),j.success("Location updated successfully!")):(await f(e).unwrap(),j.success("Location added successfully!")),h("/worldwide-table")}catch(t){j.error(t.message||"Something went wrong")}},initialValues:{category:"international"},children:[s.jsx(n.Item,{name:"category",label:"Category",rules:[{required:!0,message:"Please select a category"}],children:s.jsxs(c,{children:[s.jsx(u,{value:"international",children:"International"}),s.jsx(u,{value:"india",children:"India"})]})}),s.jsx(n.Item,{name:"name",label:"Country Name",rules:[{required:!0,message:"Please enter country name"}],children:s.jsx(m,{})}),s.jsx(n.Item,{noStyle:!0,shouldUpdate:(e,t)=>e.category!==t.category,children:({getFieldValue:e})=>"india"===e("category")&&s.jsxs(s.Fragment,{children:[s.jsx(n.Item,{name:"state",label:"State",rules:[{required:!0,message:"Please enter state"}],children:s.jsx(m,{})}),s.jsx(n.Item,{name:"cities",label:"Cities (Enter up to 5 cities, one per line)",rules:[{required:!0,message:"Please enter at least one city"}],children:s.jsx(m.TextArea,{rows:5,placeholder:"Enter cities, one per line",onChange:e=>{const t=e.target.value.split("\n").slice(0,5);x.setFieldsValue({cities:t})}})})]})}),s.jsxs(n.Item,{children:[s.jsx(p,{type:"primary",htmlType:"submit",loading:C,children:g?"Update":"Submit"}),s.jsx(p,{style:{marginLeft:"10px"},onClick:()=>h("/worldwide-table"),children:"Cancel"})]})]})})]})};export{x as default};
//# sourceMappingURL=WorldWideForm-CquLkgEF.js.map
