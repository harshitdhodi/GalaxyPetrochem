import{c as z,r as l,j as e,L as y,A as E,B as D,g as H,a as I,P as j,h as B,i as _}from"./index-BBIQ2JaG-1746426193025.js";import{C as k}from"./chevron-left-DouNXWJN-1746426193025.js";import{C as $}from"./chevron-right-DRVcONny-1746426193025.js";import{E as F}from"./eye-CxluttxT-1746426193025.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=z("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),M=()=>e.jsxs("div",{className:"animate-pulse bg-gray-200 rounded-md aspect-[4/3] w-full sm:w-auto",children:[e.jsx("div",{className:"w-full h-44 bg-gray-300"}),e.jsx("div",{className:"p-3 bg-gray-400 mt-2 h-6 w-3/4 rounded"})]});function U({categories:s}){const[d,a]=l.useState([]),[n,i]=l.useState(!0);return l.useEffect(()=>{if(s!=null&&s.length){a(s.slice(0,4));const t=setTimeout(()=>{a(s),i(!1)},100);return()=>clearTimeout(t)}else i(!1)},[s]),l.useEffect(()=>{var t;(t=s==null?void 0:s.categories)!=null&&t.length&&s.categories.slice(0,3).forEach(c=>{if(c.photo){const h=document.createElement("link");h.rel="preload",h.as="image",h.href=`/api/logo/download/${c.photo}`,document.head.appendChild(h)}})},[s]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"sm:w-[81rem] px-6 mx-auto flex flex-col justify-start",children:[e.jsx("h2",{className:"text-3xl md:text-4xl py-5 font-bold pb-2 text-[#9c5d95]",children:"We Deal's in"}),e.jsx("div",{className:"h-1 w-[15%] bg-[#9c5d95]"})]}),e.jsx("div",{className:"w-full mt-7 flex flex-col justify-center items-center overflow-x-auto pb-6",children:e.jsx("div",{className:"grid gap-6 lg:max-w-[81rem] h-auto w-full px-4 md:px-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 justify-center",children:n?[...Array(8)].map((t,c)=>e.jsx(M,{},c)):d.map((t,c)=>e.jsxs(y,{to:`/${t.slug}`,className:"group relative aspect-[3/3] overflow-hidden w-full sm:w-auto rounded-md",children:[e.jsx("img",{src:t.photo?`/api/logo/download/${t.photo}`:"/placeholder.jpg",alt:t.alt||"Category Image",className:"object-fill sm:object-fill min-w-[200px] max-w-[400px] mt-5  sm:min-h-[350px] max-h-[300px] sm:max-h-[250px] w-full h-auto transition-transform duration-300 group-hover:scale-105",fetchPriority:c<2?"high":"auto",loading:c<4?"lazy":"eager",decoding:"async",title:t.alt||"Category"}),e.jsx("div",{className:"absolute bg-blue-500/10 hover:bg-amber-700/10 inset-0"}),e.jsxs("div",{className:"absolute bottom-0 left-0 transform group-hover:bg-[#995d96]  -translate-y-1/2 translate-x-0 transition-transform duration-300 ease-in-out bg-[#e84c20] py-2 px-4 rounded-r-md text-white font-medium flex items-center",children:[t.category,e.jsx(E,{className:"w-4 h-4 ml-2"})]})]},t._id))})})]})}const O=()=>e.jsx("div",{className:"overflow-hidden w-full lg:w-[250px] lg:h-[220px] md:w-full md:h-auto border animate-pulse",children:e.jsxs("div",{className:"h-full flex flex-col items-center justify-between",children:[e.jsx("div",{className:"w-full h-[160px] bg-gray-200"}),e.jsx("div",{className:"bg-gray-400 w-full p-2 text-center h-[40px]"})]})});function q({catalogues:s,recentProducts:d}){const[a,n]=l.useState([]),[i,t]=l.useState(!0),[c,h]=l.useState(null),[N,v]=l.useState(null);if(console.log(d),l.useEffect(()=>{(async()=>{try{t(!0);const o=await fetch(`/api/events/getEvent?t=${new Date().getTime()}`);if(!o.ok)throw new Error("Failed to fetch event");const m=await o.json();v(m[0])}catch(o){h(o.message)}finally{t(!1)}})()},[]),c)return e.jsxs("div",{children:["Error loading data: ",c]});const b="/path/to/default/image.jpg";return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"max-w-[78rem]  mx-auto",children:e.jsxs("div",{className:"pt-4 ml-4 px-3 lg:px-0 xl:ml-0 md:flex md:items-center md:justify-between gap-2 ",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"text-3xl md:text-4xl font-bold  text-[#9c5d95] font-daysOne text-left  md:text-left",children:"Featured Products"}),e.jsx("div",{className:"h-1 w-[25%] bg-[#9c5d95]"})]}),e.jsx("p",{className:"py-3 text-gray-400 font-semibold flex flex-wrap gap-2",children:e.jsxs(y,{to:"/products",className:"sm:flex hidden items-center gap-2 text-[#9c5d95] font-semibold",children:["View All ",e.jsx(E,{className:""})]})})]})}),e.jsx("div",{className:"w-full flex justify-center px-4 md:px-6 lg:px-8",children:e.jsx("div",{className:"max-w-[81rem] w-full lg:px-5 py-8",children:e.jsx("div",{className:"flex flex-col lg:flex-row justify-center",children:e.jsx("div",{className:"flex-1 w-full",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-6 justify-center sm:justify-start",children:i?Array(6).fill().map((x,o)=>e.jsx(O,{},o)):d.map((x,o)=>{var m,f;return e.jsx(y,{to:`/${x.subCategorySlug}/${x.slug}`,className:"group overflow-hidden w-full lg:w-[400px] lg:h-[350px] h-[300px] md:w-full md:h-[250px] border rounded-md hover:shadow-lg transition-all duration-300 relative",children:e.jsxs("div",{className:"h-full flex flex-col items-center justify-between",children:[e.jsx("div",{className:"relative w-full py-12 sm:pb-5 flex items-center justify-center overflow-hidden",children:((m=x.images)==null?void 0:m.length)>0&&((f=x.images[0])!=null&&f.url)?e.jsx("img",{alt:x.name,className:"object-fill sm:object-fill min-w-[200px] max-w-[300px] sm:max-w-[350px] sm:min-h-[350px] max-h-[250px] sm:max-h-[150px] w-full h-auto transition-transform duration-300 group-hover:scale-105",src:`/api/image/download/${x.images[0].url}`,loading:"lazy",onError:r=>{r.target.onerror=null,r.target.src=b}}):e.jsx("img",{alt:x.name,className:"object-contain mt-16 w-full h-full transition-transform duration-300 group-hover:scale-105",src:b,loading:"lazy"})}),e.jsx("div",{className:"absolute inset-0 hover:bg-[#e84c20]/10 bg-blue-600/10 group-hover:bg-opacity-30 transition-all duration-300 flex items-end justify-baseline",children:e.jsx("span",{className:"px-4 py-2 bg-[#e84c20] group-hover:bg-[#995d96] rounded-r-lg text-white flex items-center space-x-2 transform translate-x-0 transition-transform duration-300 opacity-100",children:x.name})})]})},o)})})})})})})]})}const T=()=>e.jsx("div",{className:"w-full h-[40vh] sm:h-[50vh] md:h-[60vh] lg:h-[70vh] bg-gray-200 animate-pulse rounded overflow-hidden",children:e.jsx("div",{className:"absolute w-full top-1/2 transform -translate-y-1/2 px-4 sm:px-[15%]",children:e.jsx("div",{className:"w-32 h-10 bg-gray-300 animate-pulse rounded"})})}),W=({imageSource:s=[],currentImageIndex:d=0,hoveredIndex:a=null,setHoveredIndex:n,lcpImageRef:i,isSmallDevice:t,lcpImageLoaded:c,setLcpImageLoaded:h})=>{const[N,v]=l.useState({});console.log("Loaded images:",N);const b=o=>{v(m=>({...m,[o]:!0})),o===0&&h(!0)},x=a!==null?a:d;return!s||s.length===0?e.jsx("div",{className:"relative w-full min-w-[300px] max-w-[1920px] h-[35vh] min-h-[250px] max-h-[800px] sm:h-[50vh] md:h-[60vh] lg:h-[70vh] mx-auto overflow-hidden bg-gray-200 flex items-center justify-center",children:e.jsx("p",{className:"text-gray-500",children:"No images available"})}):e.jsx("div",{className:"relative w-full min-w-[300px] max-w-[1920px]  min-h-[250px] max-h-[800px] sm:h-[50vh] md:h-[60vh] lg:h-[65vh] mx-auto overflow-hidden",children:s.map((o,m)=>{const f=m===x,r=o!=null&&o.image?`/api/image/download/${o.image}`:"";return e.jsx("div",{className:`absolute inset-0 transition-opacity duration-500 will-change-[opacity] ${f?"opacity-100":"opacity-0"}`,children:e.jsx("img",{src:r,alt:o.title||`Slide ${m+1}`,ref:m===0?i:null,className:"w-full h-full object-cover object-center",loading:m===0?"eager":"lazy",fetchPriority:m===0?"high":"low",decoding:m===0?"sync":"async",onLoad:()=>b(m)})},`slide-${m}`)})})},V=({imageSource:s,currentImageIndex:d,setCurrentImageIndex:a,lcpImageLoaded:n})=>e.jsx("div",{className:`absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2 ${n?"":"hidden"}`,style:{contain:"layout style"},children:s&&s.map((i,t)=>e.jsx("button",{onClick:()=>a(t),className:`w-2 h-2 sm:w-3 sm:h-3 rounded-full transition-colors ${t===d?"bg-orange-500":"bg-gray-300"}`,"aria-label":`Go to slide ${t+1}`},t))}),G=({lcpImageLoaded:s})=>e.jsx("div",{className:`absolute w-full top-1/2 md:mb-5 transform -translate-y-1/2 px-4 sm:px-[15%] ${s?"":"hidden"}`,children:e.jsx(y,{to:"/about-us",children:e.jsxs(D,{className:"bg-[#e95821] hover:bg-[#e7571f] hover:shadow-lg text-xs sm:text-sm md:text-base font-medium sm:font-bold px-3 py-1 sm:px-4 sm:py-2 md:px-5 relative -bottom-52 md:py-2 sm:flex items-center sm:mb-16 hidden gap-1 sm:gap-2",children:[e.jsx("span",{children:"Read More"}),e.jsx(E,{className:"w-4 h-4 sm:w-5 sm:h-5 md:w-6 md:h-6"})]})})}),Y=()=>{const s=window.innerWidth<640,d=new URL("../../../images/m3.webp",import.meta.url).href,a=s?d:new URL("/api/image/download/first-banner-image-id",window.location.origin).href,n=document.createElement("link");n.rel="preload",n.as="image",n.href=a,n.fetchPriority="high",n.importance="high",document.head.appendChild(n);const i=document.createElement("link");i.rel="preconnect",i.href=new URL("/api",window.location.href).origin,i.crossOrigin="anonymous",document.head.appendChild(i)};typeof window<"u"&&Y();const Q=()=>{const{pageSlug:s}=H(),d=s||"/",[a,n]=l.useState([]),[i,t]=l.useState(!0),[c,h]=l.useState(0),[N,v]=l.useState(null),[b,x]=l.useState({}),[o,m]=l.useState(!1),[f,r]=l.useState(!1),u=l.useRef(null),R=l.useRef(null);if(l.useEffect(()=>{(async()=>{try{const p=await(await fetch(`/api/banner/getByPageSlug?pageSlug=${encodeURIComponent(d)}`)).json();console.log(p),n(p||[])}catch(w){console.error("Failed to fetch banners:",w),n([])}finally{t(!1)}})()},[d]),l.useEffect(()=>{const g=()=>{r(window.innerWidth<640)};return g(),window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)},[]),l.useEffect(()=>{if(f)m(!0),x(g=>({...g,0:!0}));else if(Array.isArray(a)&&a.length>0){const g=a[0];if(g){const w=`/api/image/download/${g.photo||g.image}?v=${Date.now()}`,p=document.createElement("link");p.rel="preload",p.as="image",p.href=w,document.head.appendChild(p);const S=new Image;S.src=w,S.onload=()=>{m(!0),x(L=>({...L,0:!0}))}}}},[a,f]),l.useEffect(()=>{o&&setTimeout(()=>{var g,w;if(Array.isArray(a)&&a.length>1){const p=((g=a[1])==null?void 0:g.photo)||((w=a[1])==null?void 0:w.image);if(p){const S=new Image;S.src=`/api/image/download/${p}`,S.fetchPriority="low",S.onload=()=>{x(L=>({...L,1:!0}))}}}},500)},[a,o]),(i||!Array.isArray(a))&&!f)return e.jsx(T,{});if(!f&&(a==null?void 0:a.length)===0)return e.jsx("div",{children:"No banners available"});const P=a==null?void 0:a.map(g=>({...g,image:g.photo||g.image}));return e.jsxs("div",{className:"relative",ref:R,children:[!o&&e.jsx(T,{}),e.jsx(W,{imageSource:P,currentImageIndex:c,hoveredIndex:N,setHoveredIndex:v,lcpImageRef:u,isSmallDevice:f,lcpImageLoaded:o,setLcpImageLoaded:m}),e.jsx(G,{lcpImageLoaded:o}),e.jsx(V,{imageSource:P,currentImageIndex:c,setCurrentImageIndex:h,lcpImageLoaded:o})]})};function X(){const[s,d]=l.useState([]),[a,n]=l.useState(0),[i,t]=l.useState(0),c=3;l.useEffect(()=>{(async()=>{try{const u=await I.get("/api/testimonial/getAll");d(u.data.data||[])}catch(u){console.error("Failed to fetch testimonials:",u)}})()},[]);const h=Math.ceil(s.length/c),N=s.length>3,v=()=>{n(r=>(r+1)%s.length)},b=()=>{n(r=>(r-1+s.length)%s.length)},x=()=>{t(r=>(r+1)%h)},o=()=>{t(r=>(r-1+h)%h)},m=r=>{t(r)},f=()=>{const r=i*c;return s.slice(r,r+c)};return e.jsxs("section",{className:"sm:py-16 py-8 px-4 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#2860da]/10 via-white to-[#9e5d94]/10 -z-10"}),e.jsx("div",{className:"absolute top-20 left-10 w-64 h-64 rounded-full bg-[#e84c20]/5 -z-10"}),e.jsx("div",{className:"absolute bottom-20 right-10 w-80 h-80 rounded-full bg-[#2860da]/5 -z-10"}),e.jsxs("div",{className:"max-w-[79rem] mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold pb-4 text-[#9c5d95] bg-clip-text",children:"What Our Clients Say"}),e.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Don't just take our word for it. Here's what our clients have to say about their experience."})]}),e.jsx("div",{className:"hidden lg:block",children:N?e.jsxs("div",{children:[e.jsx("div",{className:"grid grid-cols-3 gap-8",children:f().map(r=>e.jsx(C,{testimonial:r},r._id))}),e.jsxs("div",{className:"mt-12 flex justify-between items-center",children:[e.jsxs("button",{onClick:o,className:"flex items-center gap-2 text-[#2860da] hover:text-[#e84c20] transition-colors",disabled:i===0,children:[e.jsx(k,{size:20}),e.jsx("span",{className:"font-medium",children:"Previous"})]}),e.jsx("div",{className:"flex gap-2",children:Array.from({length:h}).map((r,u)=>e.jsx("button",{onClick:()=>m(u),className:`w-10 h-10 rounded-full flex items-center justify-center transition-colors ${i===u?"bg-[#e84c20] text-white":"bg-white text-gray-600 border border-gray-200 hover:border-[#9e5d94]"}`,children:u+1},u))}),e.jsxs("button",{onClick:x,className:"flex items-center gap-2 text-[#2860da] hover:text-[#e84c20] transition-colors",disabled:i===h-1,children:[e.jsx("span",{className:"font-medium",children:"Next"}),e.jsx($,{size:20})]})]})]}):e.jsx("div",{className:"grid grid-cols-3 gap-8",children:s.map(r=>e.jsx(C,{testimonial:r},r._id))})}),e.jsxs("div",{className:"lg:hidden relative",children:[e.jsx("div",{className:"overflow-hidden",children:e.jsx("div",{className:"flex transition-transform duration-500 ease-in-out",style:{transform:`translateX(-${a*100}%)`},children:s.map(r=>e.jsx("div",{className:"w-full flex-shrink-0 px-4",children:e.jsx(C,{testimonial:r})},r._id))})}),e.jsx("button",{onClick:b,className:"absolute left-0 top-1/2 -translate-y-1/2 bg-white p-2 rounded-full shadow-lg hover:bg-gray-100 transition-colors",children:e.jsx(k,{className:"text-[#2860da]"})}),e.jsx("button",{onClick:v,className:"absolute right-0 top-1/2 -translate-y-1/2 bg-white p-2 rounded-full shadow-lg hover:bg-gray-100 transition-colors",children:e.jsx($,{className:"text-[#2860da]"})}),e.jsx("div",{className:"flex justify-center mt-6 gap-2 flex-wrap",children:s.map((r,u)=>e.jsx("button",{onClick:()=>n(u),className:`w-3 h-3 rounded-full transition-colors ${a===u?"bg-[#e84c20]":"bg-gray-300"}`},u))})]})]})]})}function C({testimonial:s}){const d=s.photo?`/api/image/download/${s.photo}`:"/placeholder.svg";return e.jsxs("div",{className:"bg-white rounded-2xl  shadow-xl p-8 hover:shadow-2xl transition-shadow duration-300 border border-gray-100 h-full flex flex-col",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden border-2 border-[#9e5d94]",children:e.jsx("img",{src:d,alt:s.altName||s.name,title:s.imgTitle||s.name,className:"w-full h-full object-cover"})}),e.jsx("div",{className:"absolute -bottom-1 -right-1 bg-[#e84c20] text-white p-1 rounded-full",children:e.jsx(A,{size:12,fill:"white"})})]}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"font-bold text-lg",children:s.name}),e.jsx("p",{className:"text-gray-600 text-sm",children:s.designation}),e.jsx("p",{className:"text-[#2860da] font-medium text-sm",children:s.company})]})]}),e.jsx("div",{className:"flex mb-4",children:[...Array(5)].map((a,n)=>e.jsx(A,{size:18,className:n<s.rating?"text-[#e84c20] fill-[#e84c20]":"text-gray-300"},n))}),e.jsx("blockquote",{className:"flex-grow",children:e.jsxs("p",{className:"text-gray-700 italic relative",children:[e.jsx("span",{className:"text-[#9e5d94] text-4xl absolute -top-2 -left-2 opacity-20",children:"“"}),s.message,e.jsx("span",{className:"text-[#9e5d94] text-4xl absolute -bottom-6 -right-2 opacity-20",children:"”"})]})})]})}C.propTypes={testimonial:j.shape({_id:j.string,photo:j.string,name:j.string.isRequired,altName:j.string,imgTitle:j.string,designation:j.string,company:j.string,rating:j.number,message:j.string.isRequired}).isRequired};function J(){const[s,d]=l.useState(null);l.useEffect(()=>{(async()=>{try{const c=await I.get("/api/blogCard/getCard");d(c.data[0])}catch(c){console.error("Failed to fetch blog card:",c)}})()},[]);const{data:a,isLoading:n,error:i}=B();return n?e.jsx("div",{children:"Loading..."}):i?e.jsx("div",{children:"Error loading blogs."}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"max-w-[80rem] py-5 mx-auto",children:e.jsxs("div",{className:"pt-4 ml-4 md:ml-7  xl:ml-0 md:flex md:items-center md:justify-between gap-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-3xl md:text-4xl font-bold text-[#9c5d95] font-daysOne text-left",children:"Our Latest Blogs"}),e.jsx("div",{className:"h-1 w-[25%] mt-1 bg-[#9c5d95]"})]}),e.jsx("p",{className:"py-3 text-gray-400 font-semibold flex lg:pr-3 flex-wrap gap-2",children:e.jsxs(y,{to:"/blogs",className:"sm:flex hidden pr-5 items-center gap-2 text-[#9c5d95] font-semibold",children:["View All ",e.jsx(E,{})]})})]})}),e.jsx("div",{className:"px-4 md:px-6 mb-10 bg-white lg:px-8",children:e.jsx("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a==null?void 0:a.slice(0,6).map(t=>e.jsx(y,{to:`/${t.slug}`,children:e.jsxs("div",{className:"bg-white border rounded-lg shadow hover:shadow-lg transform hover:scale-105 transition-transform duration-300 p-4",children:[e.jsx("img",{src:`/api/image/download/${t.image}`,alt:t.title,className:"h-48 w-full object-cover rounded mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-[#052852] mb-2",children:t.title}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[e.jsx("p",{children:new Date(t.date).toLocaleDateString()}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(F,{className:"w-4 h-4"}),e.jsx("span",{children:t.visits})]})]}),e.jsxs("p",{className:"text-gray-700 my-4 line-clamp-3",children:[t.details.replace(/<[^>]*>/g,"").slice(0,120),"..."]}),e.jsx(y,{to:`/${t.slug}`,className:"inline-block bg-[#e84c20] text-white px-4 py-2 rounded hover:bg-[#c83e1b] transition",children:"Read More"})]})},t._id))})})]})}const te=()=>{const[s,d]=l.useState({category:[],recentProducts:[],catalogue:[],aboutUs:[]}),[a,n]=l.useState(!1);return l.useEffect(()=>{const i=()=>{const t=window.scrollY,c=document.documentElement.scrollHeight-window.innerHeight;t/c*100>20&&!a&&n(!0)};return window.addEventListener("scroll",i),()=>{window.removeEventListener("scroll",i)}},[a]),l.useEffect(()=>{a&&(async()=>{try{const t=await I.get("/api/allHome/getAllHomePage");console.log("Home data:",t.data),d(t.data)}catch(t){console.error("Error fetching home page data:",t)}})()},[a]),e.jsxs("div",{className:"w-full",children:[e.jsx(Q,{}),e.jsx(_,{}),a&&e.jsxs(e.Fragment,{children:[e.jsx(U,{categories:s.category}),e.jsx(q,{recentProducts:s.recentProducts,catalogues:s.catalogue}),e.jsx(X,{}),e.jsx(J,{})]})]})};export{te as default};
