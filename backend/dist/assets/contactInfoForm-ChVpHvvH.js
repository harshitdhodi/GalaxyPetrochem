import{bY as e,j as t,X as s}from"./main-DbCIA5nM.js";import{b as a}from"./vendor-X2E3PIZN.js";import"./utils-ZFgnvnbw.js";const l=()=>{const[l,i]=a.useState({photo:[],imgTitle:[""],altName:[""],address:"",mobiles:[""],emails:[""]}),[n,r]=a.useState([""]),[m,d]=a.useState([]),[o]=e(),c=(e,t,s)=>{i((a=>({...a,[e]:a[e].map(((e,a)=>a===t?s:e))})))},p=e=>{i((t=>({...t,[e]:[...t[e],""]}))),"photo"===e&&(r((e=>[...e,""])),d((e=>[...e,null])))},x=(e,t)=>{i((s=>({...s,[e]:s[e].filter(((e,s)=>s!==t))}))),"photo"===e&&(r((e=>e.filter(((e,s)=>s!==t)))),d((e=>e.filter(((e,s)=>s!==t)))))};return t.jsx("div",{className:"max-w-2xl mx-auto p-6",children:t.jsxs("form",{onSubmit:async e=>{e.preventDefault();try{const e=new FormData;m.forEach(((t,s)=>{t&&e.append("photo",t)})),e.append("imgTitle",JSON.stringify(l.imgTitle.filter((e=>e)))),e.append("altName",JSON.stringify(l.altName.filter((e=>e)))),e.append("address",l.address),e.append("mobiles",JSON.stringify(l.mobiles.filter((e=>e)))),e.append("emails",JSON.stringify(l.emails.filter((e=>e)))),await o(e).unwrap(),i({photo:[],imgTitle:[""],altName:[""],address:"",mobiles:[""],emails:[""]}),r([""]),d([])}catch(t){}},className:"space-y-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-medium",children:"Photos"}),n.map(((e,a)=>t.jsxs("div",{className:"flex gap-2 items-center",children:[t.jsx("input",{type:"file",onChange:e=>((e,t)=>{const s=e.target.files[0];if(s){const e=[...n];e[t]=s.name,r(e);const a=[...m];a[t]=s,d(a)}})(e,a),accept:"image/jpeg,image/png,image/gif,image/webp",className:"flex-1 p-2 border rounded",required:!0}),e&&t.jsx("span",{className:"text-sm text-gray-500",children:e}),a>0&&t.jsx("button",{type:"button",onClick:()=>x("photo",a),className:"p-2 text-red-500",children:t.jsx(s,{size:20})})]},a))),t.jsx("button",{type:"button",onClick:()=>p("photo"),className:"text-sm text-blue-500",children:"+ Add another photo"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-medium",children:"Image Titles"}),l.imgTitle.map(((e,a)=>t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:e,onChange:e=>c("imgTitle",a,e.target.value),placeholder:"Enter image title",className:"flex-1 p-2 border rounded",required:!0}),a>0&&t.jsx("button",{type:"button",onClick:()=>x("imgTitle",a),className:"p-2 text-red-500",children:t.jsx(s,{size:20})})]},a))),t.jsx("button",{type:"button",onClick:()=>p("imgTitle"),className:"text-sm text-blue-500",children:"+ Add another title"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-medium",children:"Alternative Names"}),l.altName.map(((e,a)=>t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:e,onChange:e=>c("altName",a,e.target.value),placeholder:"Enter alternative name",className:"flex-1 p-2 border rounded",required:!0}),a>0&&t.jsx("button",{type:"button",onClick:()=>x("altName",a),className:"p-2 text-red-500",children:t.jsx(s,{size:20})})]},a))),t.jsx("button",{type:"button",onClick:()=>p("altName"),className:"text-sm text-blue-500",children:"+ Add another name"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Address"}),t.jsx("input",{type:"text",value:l.address,onChange:e=>i((t=>({...t,address:e.target.value}))),placeholder:"Enter address",className:"w-full p-2 border rounded",required:!0})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-medium",children:"Mobile Numbers"}),l.mobiles.map(((e,a)=>t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"tel",value:e,onChange:e=>c("mobiles",a,e.target.value),placeholder:"Enter mobile number",className:"flex-1 p-2 border rounded",required:!0}),a>0&&t.jsx("button",{type:"button",onClick:()=>x("mobiles",a),className:"p-2 text-red-500",children:t.jsx(s,{size:20})})]},a))),t.jsx("button",{type:"button",onClick:()=>p("mobiles"),className:"text-sm text-blue-500",children:"+ Add another mobile"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-medium",children:"Email Addresses"}),l.emails.map(((e,a)=>t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"email",value:e,onChange:e=>c("emails",a,e.target.value),placeholder:"Enter email address",className:"flex-1 p-2 border rounded",required:!0,pattern:"^\\S+@\\S+\\.\\S+$"}),a>0&&t.jsx("button",{type:"button",onClick:()=>x("emails",a),className:"p-2 text-red-500",children:t.jsx(s,{size:20})})]},a))),t.jsx("button",{type:"button",onClick:()=>p("emails"),className:"text-sm text-blue-500",children:"+ Add another email"})]}),t.jsx("button",{type:"submit",className:"w-full bg-blue-500 text-white p-2 rounded hover:bg-blue-600",children:"Submit"})]})})};export{l as default};
//# sourceMappingURL=contactInfoForm-ChVpHvvH.js.map
