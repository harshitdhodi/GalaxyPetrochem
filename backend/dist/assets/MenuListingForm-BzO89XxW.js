import{bF as e,q as r,eo as a,ep as s,eq as i,er as t,j as l}from"./main-CzSo-TQq.js";import{b as n,k as d,f as m}from"./vendor-BCMiqwDy.js";import{F as o}from"./index-DNifZJQ5.js";import{C as h}from"./index-BPGKac_2.js";import{I as c}from"./index-DM93vOm6.js";import{S as p}from"./index-BJFDSJ5H.js";import{B as u}from"./index-DSpNpUBy.js";import{R as j}from"./PlusOutlined-CdZ2zpwb.js";import"./utils-ZFgnvnbw.js";import"./CheckCircleFilled-ReswMhjZ.js";import"./ExclamationCircleFilled-xRTYYEFC.js";import"./Skeleton-DRGMwVq6.js";import"./EllipsisOutlined-BfcsApT3.js";import"./getAllowClear-CUuit-6u.js";import"./Input-dXXm4f2Q.js";import"./TextArea-BS9kE1Cd.js";var x={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"minus-circle",theme:"outlined"},b=function(a,s){return n.createElement(e,r({},a,{ref:s,icon:x}))},g=n.forwardRef(b);const C=()=>{const{id:e}=d(),r=m(),[x]=o.useForm(),{data:b,isLoading:C}=a(e,{skip:!e}),{refetch:f}=s(),[E]=i(),[k]=t();n.useEffect((()=>{b&&x.setFieldsValue(b.data)}),[b,x]);return C?l.jsx("p",{children:"Loading..."}):l.jsx(h,{title:e?"Update Menu Listing":"Create Menu Listing",bordered:!1,children:l.jsxs(o,{form:x,layout:"vertical",onFinish:async a=>{e?await k({id:e,...a}):await E(a),await f(),r("/menu-listing-table")},initialValues:{children:[]},children:[l.jsxs(h,{title:"Parent Menu",bordered:!0,style:{marginBottom:"20px"},children:[l.jsx(o.Item,{name:["parent","name"],label:"Name",rules:[{required:!0,message:"Please enter parent menu name"}],children:l.jsx(c,{placeholder:"Enter parent menu name"})}),l.jsx(o.Item,{name:["parent","path"],label:"Path",rules:[{required:!0,message:"Please enter parent menu path"}],children:l.jsx(c,{placeholder:"Enter parent menu path"})})]}),l.jsx(o.List,{name:"children",children:(e,{add:r,remove:a})=>l.jsxs(h,{title:"Children Menus",bordered:!0,children:[e.map((({key:e,name:r,...s})=>l.jsxs(h,{bordered:!0,style:{marginBottom:"15px"},children:[l.jsxs(p,{align:"baseline",children:[l.jsx(o.Item,{...s,name:[r,"name"],label:"Child Name",rules:[{required:!0,message:"Enter child name"}],children:l.jsx(c,{placeholder:"Enter child name"})}),l.jsx(o.Item,{...s,name:[r,"path"],label:"Child Path",rules:[{required:!0,message:"Enter child path"}],children:l.jsx(c,{placeholder:"Enter child path"})}),l.jsx(g,{onClick:()=>a(r)})]}),l.jsx(o.List,{name:[r,"subChildren"],children:(e,{add:r,remove:a})=>l.jsxs(h,{title:"Sub-Children",bordered:!0,children:[e.map((({key:e,name:r,...s})=>l.jsxs(p,{align:"baseline",children:[l.jsx(o.Item,{...s,name:[r,"name"],label:"Sub-Child Name",rules:[{required:!0,message:"Enter sub-child name"}],children:l.jsx(c,{placeholder:"Enter sub-child name"})}),l.jsx(o.Item,{...s,name:[r,"path"],label:"Sub-Child Path",rules:[{required:!0,message:"Enter sub-child path"}],children:l.jsx(c,{placeholder:"Enter sub-child path"})}),l.jsx(g,{onClick:()=>a(r)})]},e))),l.jsx(u,{type:"dashed",onClick:()=>r(),block:!0,icon:l.jsx(j,{}),children:"Add Sub-Child"})]})})]},e))),l.jsx(u,{type:"dashed",onClick:()=>r(),block:!0,icon:l.jsx(j,{}),children:"Add Child"})]})}),l.jsx(u,{type:"primary",htmlType:"submit",style:{marginTop:"20px"},children:e?"Update":"Create"})]})})};export{C as default};
//# sourceMappingURL=MenuListingForm-BzO89XxW.js.map
