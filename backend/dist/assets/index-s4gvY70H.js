import{h as e}from"./toArray-DIarnBRF.js";import{b as t,R as n}from"./vendor-X2E3PIZN.js";import{a1 as o,p as l,x as r,B as a,a2 as c,q as s,a3 as i,a4 as u,C as f,d as m,a5 as d,a6 as p,a7 as g,a8 as b,j as C,a as y,$ as x,a9 as v,l as O,aa as j,ab as h,ac as E,ad as k,a0 as $}from"./index-CvhnQ2ZS.js";import{R as P}from"./CheckCircleFilled-vSnFSXRd.js";import{R as T}from"./ExclamationCircleFilled-jOtwz4nB.js";import{R as w}from"./InfoCircleFilled-BiVI0bqr.js";import{a as N,c as I}from"./AntdIcon-Bc_RgQsY.js";import{A as S}from"./ActionButton-9gw_uhHA.js";import{u as B,D as M,p as F,a as R,P as z}from"./index-CjgsjwJv.js";import{S as A}from"./Skeleton-Ds91yGkQ.js";import{w as L}from"./dropdown-C2Lyn6ws.js";const H=n.createContext({}),{Provider:q}=H,W=()=>{const{autoFocusButton:e,cancelButtonProps:o,cancelTextLocale:l,isSilent:r,mergedOkCancel:a,rootPrefixCls:c,close:s,onCancel:i,onConfirm:u}=t.useContext(H);return a?n.createElement(S,{isSilent:r,actionFn:i,close:function(){null==s||s.apply(void 0,arguments),null==u||u(!1)},autoFocus:"cancel"===e,buttonProps:o,prefixCls:`${c}-btn`},l):null},D=()=>{const{autoFocusButton:e,close:o,isSilent:l,okButtonProps:r,rootPrefixCls:a,okTextLocale:c,okType:s,onConfirm:i,onOk:u}=t.useContext(H);return n.createElement(S,{isSilent:l,type:s||"primary",actionFn:u,close:function(){null==o||o.apply(void 0,arguments),null==i||i(!0)},autoFocus:"ok"===e,buttonProps:r,prefixCls:`${a}-btn`},c)};function X(e){if(e)return{closable:e.closable,closeIcon:e.closeIcon}}function Y(e){const{closable:t,closeIcon:o}=e||{};return n.useMemo((()=>{if(!t&&(!1===t||!1===o||null===o))return!1;if(void 0===t&&void 0===o)return null;let e={closeIcon:"boolean"!=typeof o&&null!==o?o:void 0};return t&&"object"==typeof t&&(e=Object.assign(Object.assign({},e),t)),e}),[t,o])}function G(){const e={};for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return n.forEach((t=>{t&&Object.keys(t).forEach((n=>{void 0!==t[n]&&(e[n]=t[n])}))})),e}const U={};function V(){}const _=t.createContext({add:V,remove:V});const J=()=>{const{cancelButtonProps:e,cancelTextLocale:o,onCancel:l}=t.useContext(H);return n.createElement(a,Object.assign({onClick:l},e),o)},K=()=>{const{confirmLoading:e,okButtonProps:o,okType:l,okTextLocale:r,onOk:s}=t.useContext(H);return n.createElement(a,Object.assign({},c(l),{loading:e,onClick:s},o),r)};function Q(e,t){return n.createElement("span",{className:`${e}-close-x`},t||n.createElement(o,{className:`${e}-close-icon`}))}const Z=t=>{const{okText:o,okType:l="primary",cancelText:r,confirmLoading:a,onOk:c,onCancel:f,okButtonProps:m,cancelButtonProps:d,footer:p}=t,[g]=s("Modal",u()),b={confirmLoading:a,okButtonProps:m,cancelButtonProps:d,okTextLocale:o||(null==g?void 0:g.okText),cancelTextLocale:r||(null==g?void 0:g.cancelText),okType:l,onOk:c,onCancel:f},C=n.useMemo((()=>b),e(Object.values(b)));let y;return"function"==typeof p||void 0===p?(y=n.createElement(n.Fragment,null,n.createElement(J,null),n.createElement(K,null)),"function"==typeof p&&(y=p(y,{OkBtn:K,CancelBtn:J})),y=n.createElement(q,{value:C},y)):y=p,n.createElement(i,{disabled:!1},y)};let ee;const te=e=>{ee={x:e.pageX,y:e.pageY},setTimeout((()=>{ee=null}),100)};N()&&window.document.documentElement&&document.documentElement.addEventListener("click",te,!0);const ne=e=>{var a;const{getPopupContainer:c,getPrefixCls:s,direction:i,modal:u}=t.useContext(f),C=t=>{const{onCancel:n}=e;null==n||n(t)},{prefixCls:y,className:x,rootClassName:v,open:O,wrapClassName:j,centered:h,getContainer:E,focusTriggerAfterClose:k=!0,style:$,visible:P,width:T=520,footer:w,classNames:N,styles:S,children:F,loading:R}=e,z=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n}(e,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","focusTriggerAfterClose","style","visible","width","footer","classNames","styles","children","loading"]),L=s("modal",y),H=s(),q=m(L),[W,D,V]=B(L,q),J=I(j,{[`${L}-centered`]:null!=h?h:null==u?void 0:u.centered,[`${L}-wrap-rtl`]:"rtl"===i}),K=null===w||R?null:t.createElement(Z,Object.assign({},e,{onOk:t=>{const{onOk:n}=e;null==n||n(t)},onCancel:C})),[te,ne,oe]=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:U;const a=Y(e),c=Y(t),s="boolean"!=typeof a&&!!(null==a?void 0:a.disabled),i=n.useMemo((()=>Object.assign({closeIcon:n.createElement(o,null)},r)),[r]),u=n.useMemo((()=>!1!==a&&(a?G(i,c,a):!1!==c&&(c?G(i,c):!!i.closable&&i))),[a,c,i]);return n.useMemo((()=>{if(!1===u)return[!1,null,s];const{closeIconRender:e}=i,{closeIcon:t}=u;let o=t;if(null!=o){e&&(o=e(t));const r=l(u,!0);Object.keys(r).length&&(o=n.isValidElement(o)?n.cloneElement(o,r):n.createElement("span",Object.assign({},r),o))}return[!0,o,s]}),[u,i])}(X(e),X(u),{closable:!0,closeIcon:t.createElement(o,{className:`${L}-close-icon`}),closeIconRender:e=>Q(L,e)}),le=function(e){const n=t.useContext(_),o=t.useRef(null);return r((t=>{if(t){const l=e?t.querySelector(e):t;n.add(l),o.current=l}else n.remove(o.current)}))}(`.${L}-content`),[re,ae]=d("Modal",z.zIndex),[ce,se]=t.useMemo((()=>T&&"object"==typeof T?[void 0,T]:[T,void 0]),[T]),ie=t.useMemo((()=>{const e={};return se&&Object.keys(se).forEach((t=>{const n=se[t];void 0!==n&&(e[`--${L}-${t}-width`]="number"==typeof n?`${n}px`:n)})),e}),[se]);return W(t.createElement(p,{form:!0,space:!0},t.createElement(g.Provider,{value:ae},t.createElement(M,Object.assign({width:ce},z,{zIndex:re,getContainer:void 0===E?c:E,prefixCls:L,rootClassName:I(D,v,V,q),footer:K,visible:null!=O?O:P,mousePosition:null!==(a=z.mousePosition)&&void 0!==a?a:ee,onClose:C,closable:te?{disabled:oe,closeIcon:ne}:te,closeIcon:ne,focusTriggerAfterClose:k,transitionName:b(H,"zoom",e.transitionName),maskTransitionName:b(H,"fade",e.maskTransitionName),className:I(D,x,null==u?void 0:u.className),style:Object.assign(Object.assign(Object.assign({},null==u?void 0:u.style),$),ie),classNames:Object.assign(Object.assign(Object.assign({},null==u?void 0:u.classNames),N),{wrapper:I(J,null==N?void 0:N.wrapper)}),styles:Object.assign(Object.assign({},null==u?void 0:u.styles),S),panelRef:le}),R?t.createElement(A,{active:!0,title:!1,paragraph:{rows:4},className:`${L}-body-skeleton`}):F))))},oe=e=>{const{componentCls:t,titleFontSize:n,titleLineHeight:o,modalConfirmIconSize:l,fontSize:r,lineHeight:a,modalTitleHeight:c,fontHeight:s,confirmBodyPadding:i}=e,u=`${t}-confirm`;return{[u]:{"&-rtl":{direction:"rtl"},[`${e.antCls}-modal-header`]:{display:"none"},[`${u}-body-wrapper`]:Object.assign({},x()),[`&${t} ${t}-body`]:{padding:i},[`${u}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${e.iconCls}`]:{flex:"none",fontSize:l,marginInlineEnd:e.confirmIconMarginInlineEnd,marginTop:e.calc(e.calc(s).sub(l).equal()).div(2).equal()},[`&-has-title > ${e.iconCls}`]:{marginTop:e.calc(e.calc(c).sub(l).equal()).div(2).equal()}},[`${u}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:e.marginXS,maxWidth:`calc(100% - ${y(e.marginSM)})`},[`${e.iconCls} + ${u}-paragraph`]:{maxWidth:`calc(100% - ${y(e.calc(e.modalConfirmIconSize).add(e.marginSM).equal())})`},[`${u}-title`]:{color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:n,lineHeight:o},[`${u}-content`]:{color:e.colorText,fontSize:r,lineHeight:a},[`${u}-btns`]:{textAlign:"end",marginTop:e.confirmBtnsMarginTop,[`${e.antCls}-btn + ${e.antCls}-btn`]:{marginBottom:0,marginInlineStart:e.marginXS}}},[`${u}-error ${u}-body > ${e.iconCls}`]:{color:e.colorError},[`${u}-warning ${u}-body > ${e.iconCls},\n        ${u}-confirm ${u}-body > ${e.iconCls}`]:{color:e.colorWarning},[`${u}-info ${u}-body > ${e.iconCls}`]:{color:e.colorInfo},[`${u}-success ${u}-body > ${e.iconCls}`]:{color:e.colorSuccess}}},le=C(["Modal","confirm"],(e=>{const t=F(e);return[oe(t)]}),R,{order:-1e3});function re(n){const{prefixCls:o,icon:l,okText:r,cancelText:a,confirmPrefixCls:c,type:i,okCancel:u,footer:f,locale:m}=n,d=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n}(n,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let p=l;if(!l&&null!==l)switch(i){case"info":p=t.createElement(w,null);break;case"success":p=t.createElement(P,null);break;case"error":p=t.createElement(h,null);break;default:p=t.createElement(T,null)}const g=null!=u?u:"confirm"===i,b=null!==n.autoFocusButton&&(n.autoFocusButton||"ok"),[C]=s("Modal"),y=m||C,x=r||(g?null==y?void 0:y.okText:null==y?void 0:y.justOkText),v=a||(null==y?void 0:y.cancelText),O=Object.assign({autoFocusButton:b,cancelTextLocale:v,okTextLocale:x,mergedOkCancel:g},d),j=t.useMemo((()=>O),e(Object.values(O))),E=t.createElement(t.Fragment,null,t.createElement(W,null),t.createElement(D,null)),k=void 0!==n.title&&null!==n.title,$=`${c}-body`;return t.createElement("div",{className:`${c}-body-wrapper`},t.createElement("div",{className:I($,{[`${$}-has-title`]:k})},p,t.createElement("div",{className:`${c}-paragraph`},k&&t.createElement("span",{className:`${c}-title`},n.title),t.createElement("div",{className:`${c}-content`},n.content))),void 0===f||"function"==typeof f?t.createElement(q,{value:j},t.createElement("div",{className:`${c}-btns`},"function"==typeof f?f(E,{OkBtn:D,CancelBtn:W}):E)):f,t.createElement(le,{prefixCls:o}))}const ae=e=>{const{close:n,zIndex:o,maskStyle:l,direction:r,prefixCls:a,wrapClassName:c,rootPrefixCls:s,bodyStyle:i,closable:u=!1,onConfirm:f,styles:m}=e,d=`${a}-confirm`,p=e.width||416,g=e.style||{},C=void 0===e.mask||e.mask,y=void 0!==e.maskClosable&&e.maskClosable,x=I(d,`${d}-${e.type}`,{[`${d}-rtl`]:"rtl"===r},e.className),[,v]=O(),h=t.useMemo((()=>void 0!==o?o:v.zIndexPopupBase+j),[o,v]);return t.createElement(ne,Object.assign({},e,{className:x,wrapClassName:I({[`${d}-centered`]:!!e.centered},c),onCancel:()=>{null==n||n({triggerCancel:!0}),null==f||f(!1)},title:"",footer:null,transitionName:b(s||"","zoom",e.transitionName),maskTransitionName:b(s||"","fade",e.maskTransitionName),mask:C,maskClosable:y,style:g,styles:Object.assign({body:i,mask:l},m),width:p,zIndex:h,closable:u}),t.createElement(re,Object.assign({},e,{confirmPrefixCls:d})))},ce=e=>{const{rootPrefixCls:n,iconPrefixCls:o,direction:l,theme:r}=e;return t.createElement(v,{prefixCls:n,iconPrefixCls:o,direction:l,theme:r},t.createElement(ae,Object.assign({},e)))},se=[];let ie="";function ue(){return ie}const fe=e=>{var o,l;const{prefixCls:r,getContainer:a,direction:c}=e,s=u(),i=t.useContext(f),m=ue()||i.getPrefixCls(),d=r||`${m}-modal`;let p=a;return!1===p&&(p=void 0),n.createElement(ce,Object.assign({},e,{rootPrefixCls:m,prefixCls:d,iconPrefixCls:i.iconPrefixCls,theme:i.theme,direction:null!=c?c:i.direction,locale:null!==(l=null===(o=i.locale)||void 0===o?void 0:o.Modal)&&void 0!==l?l:s,getContainer:p}))};function me(t){const o=E(),l=document.createDocumentFragment();let r,a,c=Object.assign(Object.assign({},t),{close:u,open:!0});function s(){for(var n,o=arguments.length,l=new Array(o),r=0;r<o;r++)l[r]=arguments[r];var c;l.some((e=>null==e?void 0:e.triggerCancel))&&(null===(n=t.onCancel)||void 0===n||(c=n).call.apply(c,[t,()=>{}].concat(e(l.slice(1)))));for(let e=0;e<se.length;e++){if(se[e]===u){se.splice(e,1);break}}a()}function i(e){clearTimeout(r),r=setTimeout((()=>{const t=o.getPrefixCls(void 0,ue()),r=o.getIconPrefixCls(),c=o.getTheme(),s=n.createElement(fe,Object.assign({},e)),i=k();a=i(n.createElement(v,{prefixCls:t,iconPrefixCls:r,theme:c},o.holderRender?o.holderRender(s):s),l)}))}function u(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];c=Object.assign(Object.assign({},c),{open:!1,afterClose:()=>{"function"==typeof t.afterClose&&t.afterClose(),s.apply(this,n)}}),c.visible&&delete c.visible,i(c)}return i(c),se.push(u),{destroy:u,update:function(e){c="function"==typeof e?e(c):Object.assign(Object.assign({},c),e),i(c)}}}function de(e){return Object.assign(Object.assign({},e),{type:"warning"})}function pe(e){return Object.assign(Object.assign({},e),{type:"info"})}function ge(e){return Object.assign(Object.assign({},e),{type:"success"})}function be(e){return Object.assign(Object.assign({},e),{type:"error"})}function Ce(e){return Object.assign(Object.assign({},e),{type:"confirm"})}var ye=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const xe=(n,o)=>{var l,{afterClose:r,config:a}=n,c=ye(n,["afterClose","config"]);const[i,u]=t.useState(!0),[m,d]=t.useState(a),{direction:p,getPrefixCls:g}=t.useContext(f),b=g("modal"),C=g(),y=function(){var t;u(!1);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];var r;o.some((e=>null==e?void 0:e.triggerCancel))&&(null===(t=m.onCancel)||void 0===t||(r=t).call.apply(r,[m,()=>{}].concat(e(o.slice(1)))))};t.useImperativeHandle(o,(()=>({destroy:y,update:e=>{d((t=>Object.assign(Object.assign({},t),e)))}})));const x=null!==(l=m.okCancel)&&void 0!==l?l:"confirm"===m.type,[v]=s("Modal",$.Modal);return t.createElement(ce,Object.assign({prefixCls:b,rootPrefixCls:C},m,{close:y,open:i,afterClose:()=>{var e;r(),null===(e=m.afterClose)||void 0===e||e.call(m)},okText:m.okText||(x?null==v?void 0:v.okText:null==v?void 0:v.justOkText),direction:m.direction||p,cancelText:m.cancelText||(null==v?void 0:v.cancelText)},c))},ve=t.forwardRef(xe);let Oe=0;const je=t.memo(t.forwardRef(((n,o)=>{const[l,r]=function(){const[n,o]=t.useState([]);return[n,t.useCallback((t=>(o((n=>[].concat(e(n),[t]))),()=>{o((e=>e.filter((e=>e!==t))))})),[])]}();return t.useImperativeHandle(o,(()=>({patchElement:r})),[]),t.createElement(t.Fragment,null,l)})));var he=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const Ee=L((e=>{const{prefixCls:n,className:o,closeIcon:l,closable:r,type:a,title:c,children:s,footer:i}=e,u=he(e,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:d}=t.useContext(f),p=d(),g=n||d("modal"),b=m(p),[C,y,x]=B(g,b),v=`${g}-confirm`;let O={};return O=a?{closable:null!=r&&r,title:"",footer:"",children:t.createElement(re,Object.assign({},e,{prefixCls:g,confirmPrefixCls:v,rootPrefixCls:p,content:s}))}:{closable:null==r||r,title:c,footer:null!==i&&t.createElement(Z,Object.assign({},e)),children:s},C(t.createElement(z,Object.assign({prefixCls:g,className:I(y,`${g}-pure-panel`,a&&v,a&&`${v}-${a}`,o,x,b)},u,{closeIcon:Q(g,l),closable:r},O)))}));function ke(e){return me(de(e))}const $e=ne;$e.useModal=function(){const n=t.useRef(null),[o,l]=t.useState([]);t.useEffect((()=>{if(o.length){e(o).forEach((e=>{e()})),l([])}}),[o]);const r=t.useCallback((o=>function(r){var a;Oe+=1;const c=t.createRef();let s;const i=new Promise((e=>{s=e}));let u,f=!1;const m=t.createElement(ve,{key:`modal-${Oe}`,config:o(r),ref:c,afterClose:()=>{null==u||u()},isSilent:()=>f,onConfirm:e=>{s(e)}});u=null===(a=n.current)||void 0===a?void 0:a.patchElement(m),u&&se.push(u);const d={destroy:()=>{function t(){var e;null===(e=c.current)||void 0===e||e.destroy()}c.current?t():l((n=>[].concat(e(n),[t])))},update:t=>{function n(){var e;null===(e=c.current)||void 0===e||e.update(t)}c.current?n():l((t=>[].concat(e(t),[n])))},then:e=>(f=!0,i.then(e))};return d}),[]);return[t.useMemo((()=>({info:r(pe),success:r(ge),error:r(be),warning:r(de),confirm:r(Ce)})),[]),t.createElement(je,{key:"modal-holder",ref:n})]},$e.info=function(e){return me(pe(e))},$e.success=function(e){return me(ge(e))},$e.error=function(e){return me(be(e))},$e.warning=ke,$e.warn=ke,$e.confirm=function(e){return me(Ce(e))},$e.destroyAll=function(){for(;se.length;){const e=se.pop();e&&e()}},$e.config=function(e){let{rootPrefixCls:t}=e;ie=t},$e._InternalPanelDoNotUseOrYouWillBeFired=Ee;export{$e as M};
//# sourceMappingURL=index-s4gvY70H.js.map
