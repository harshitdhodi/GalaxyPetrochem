import{b as e}from"./vendor-BCMiqwDy.js";import{b$ as t,bV as n,bW as o,bX as r,bT as a,c4 as s,cg as l,ac as i,bF as c,q as u,c2 as p,c0 as f,dX as d}from"./main-CzSo-TQq.js";import{F as m,u as v,o as g,a as b,e as y,B as x}from"./index-DSpNpUBy.js";import{k as O,i as C,a as h,f as j}from"./getAllowClear-CUuit-6u.js";import{I as E,u as w,R as P}from"./Input-dXXm4f2Q.js";import{T as $}from"./TextArea-BS9kE1Cd.js";const k=e=>{const{componentCls:t,paddingXS:n}=e;return{[t]:{display:"inline-flex",alignItems:"center",flexWrap:"nowrap",columnGap:n,"&-rtl":{direction:"rtl"},[`${t}-input`]:{textAlign:"center",paddingInline:e.paddingXXS},[`&${t}-sm ${t}-input`]:{paddingInline:e.calc(e.paddingXXS).div(2).equal()},[`&${t}-lg ${t}-input`]:{paddingInline:e.paddingXS}}}},S=o(["Input","OTP"],(e=>{const t=r(e,C(e));return[k(t)]}),h);var z=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};const I=e.forwardRef(((t,n)=>{const{value:o,onChange:r,onActiveChange:s,index:l,mask:i}=t,c=z(t,["value","onChange","onActiveChange","index","mask"]),u=o&&"string"==typeof i?i:o,p=e.useRef(null);e.useImperativeHandle(n,(()=>p.current));const f=()=>{a((()=>{var e;const t=null===(e=p.current)||void 0===e?void 0:e.input;document.activeElement===t&&t&&t.select()}))};return e.createElement(E,Object.assign({type:!0===i?"password":"text"},c,{ref:p,value:u,onInput:e=>{r(l,e.target.value)},onFocus:f,onKeyDown:e=>{const{key:t,ctrlKey:n,metaKey:o}=e;"ArrowLeft"===t?s(l-1):"ArrowRight"===t?s(l+1):"z"===t&&(n||o)&&e.preventDefault(),f()},onKeyUp:e=>{"Backspace"!==e.key||o||s(l-1),f()},onMouseDown:f,onMouseUp:f}))}));function M(e){return(e||"").split("")}const A=t=>{const{index:n,prefixCls:o,separator:r}=t,a="function"==typeof r?r(n):r;return a?e.createElement("span",{className:`${o}-separator`},a):null},N=e.forwardRef(((o,r)=>{const{prefixCls:a,length:c=6,size:u,defaultValue:p,value:f,onChange:d,formatter:g,separator:b,variant:y,disabled:x,status:O,autoFocus:C,mask:h,type:E,onInput:w,inputMode:P}=o,$=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}(o,["prefixCls","length","size","defaultValue","value","onChange","formatter","separator","variant","disabled","status","autoFocus","mask","type","onInput","inputMode"]),{getPrefixCls:k,direction:z}=e.useContext(t),N=k("otp",a),R=s($,{aria:!0,data:!0,attr:!0}),[F,T,B]=S(N),D=v((e=>null!=u?u:e)),L=e.useContext(m),X=j(L.status,O),q=e.useMemo((()=>Object.assign(Object.assign({},L),{status:X,hasFeedback:!1,feedbackIcon:null})),[L,X]),V=e.useRef(null),K=e.useRef({});e.useImperativeHandle(r,(()=>({focus:()=>{var e;null===(e=K.current[0])||void 0===e||e.focus()},blur:()=>{var e;for(let t=0;t<c;t+=1)null===(e=K.current[t])||void 0===e||e.blur()},nativeElement:V.current})));const U=e=>g?g(e):e,[Q,_]=e.useState((()=>M(U(p||""))));e.useEffect((()=>{void 0!==f&&_(M(f))}),[f]);const G=l((e=>{_(e),w&&w(e),d&&e.length===c&&e.every((e=>e))&&e.some(((e,t)=>Q[t]!==e))&&d(e.join(""))})),H=l(((e,t)=>{let n=i(Q);for(let r=0;r<e;r+=1)n[r]||(n[r]="");t.length<=1?n[e]=t:n=n.slice(0,e).concat(M(t)),n=n.slice(0,c);for(let r=n.length-1;r>=0&&!n[r];r-=1)n.pop();const o=U(n.map((e=>e||" ")).join(""));return n=M(o).map(((e,t)=>" "!==e||n[t]?e:n[t])),n})),W=(e,t)=>{var n;const o=H(e,t),r=Math.min(e+t.length,c-1);r!==e&&void 0!==o[e]&&(null===(n=K.current[r])||void 0===n||n.focus()),G(o)},Z=e=>{var t;null===(t=K.current[e])||void 0===t||t.focus()},J={variant:y,disabled:x,status:X,mask:h,type:E,inputMode:P};return F(e.createElement("div",Object.assign({},R,{ref:V,className:n(N,{[`${N}-sm`]:"small"===D,[`${N}-lg`]:"large"===D,[`${N}-rtl`]:"rtl"===z},B,T)}),e.createElement(m.Provider,{value:q},Array.from({length:c}).map(((t,n)=>{const o=`otp-${n}`,r=Q[n]||"";return e.createElement(e.Fragment,{key:o},e.createElement(I,Object.assign({ref:e=>{K.current[n]=e},index:n,size:D,htmlSize:1,className:`${N}-input`,onChange:W,value:r,onActiveChange:Z,autoFocus:0===n&&C},J)),n<c-1&&e.createElement(A,{separator:b,index:n,prefixCls:N}))})))))}));var R={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},F=function(t,n){return e.createElement(c,u({},t,{ref:n,icon:R}))},T=e.forwardRef(F);const B=t=>t?e.createElement(d,null):e.createElement(T,null),D={click:"onClick",hover:"onMouseOver"},L=e.forwardRef(((o,r)=>{const{disabled:a,action:s="click",visibilityToggle:l=!0,iconRender:i=B}=o,c=e.useContext(p),u=null!=a?a:c,d="object"==typeof l&&void 0!==l.visible,[m,v]=e.useState((()=>!!d&&l.visible)),b=e.useRef(null);e.useEffect((()=>{d&&v(l.visible)}),[d,l]);const y=w(b),x=()=>{var e;if(u)return;m&&y();const t=!m;v(t),"object"==typeof l&&(null===(e=l.onVisibleChange)||void 0===e||e.call(l,t))},{className:O,prefixCls:C,inputPrefixCls:h,size:j}=o,P=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}(o,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:$}=e.useContext(t),k=$("input",h),S=$("input-password",C),z=l&&(t=>{const n=D[s]||"",o=i(m),r={[n]:x,className:`${t}-icon`,key:"passwordIcon",onMouseDown:e=>{e.preventDefault()},onMouseUp:e=>{e.preventDefault()}};return e.cloneElement(e.isValidElement(o)?o:e.createElement("span",null,o),r)})(S),I=n(S,O,{[`${S}-${j}`]:!!j}),M=Object.assign(Object.assign({},g(P,["suffix","iconRender","visibilityToggle"])),{type:m?"text":"password",className:I,prefixCls:k,suffix:z});return j&&(M.size=j),e.createElement(E,Object.assign({ref:f(r,b)},M))}));const X=e.forwardRef(((o,r)=>{const{prefixCls:a,inputPrefixCls:s,className:l,size:i,suffix:c,enterButton:u=!1,addonAfter:p,loading:d,disabled:m,onSearch:g,onChange:O,onCompositionStart:C,onCompositionEnd:h}=o,j=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}(o,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),{getPrefixCls:w,direction:$}=e.useContext(t),k=e.useRef(!1),S=w("input-search",a),z=w("input",s),{compactSize:I}=b(S,$),M=v((e=>{var t;return null!==(t=null!=i?i:I)&&void 0!==t?t:e})),A=e.useRef(null),N=e=>{var t;document.activeElement===(null===(t=A.current)||void 0===t?void 0:t.input)&&e.preventDefault()},R=e=>{var t,n;g&&g(null===(n=null===(t=A.current)||void 0===t?void 0:t.input)||void 0===n?void 0:n.value,e,{source:"input"})},F="boolean"==typeof u?e.createElement(P,null):null,T=`${S}-button`;let B;const D=u||{},L=D.type&&!0===D.type.__ANT_BUTTON;B=L||"button"===D.type?y(D,Object.assign({onMouseDown:N,onClick:e=>{var t,n;null===(n=null===(t=null==D?void 0:D.props)||void 0===t?void 0:t.onClick)||void 0===n||n.call(t,e),R(e)},key:"enterButton"},L?{className:T,size:M}:{})):e.createElement(x,{className:T,type:u?"primary":void 0,size:M,disabled:m,key:"enterButton",onMouseDown:N,onClick:R,loading:d,icon:F},u),p&&(B=[B,y(p,{key:"addonAfter"})]);const X=n(S,{[`${S}-rtl`]:"rtl"===$,[`${S}-${M}`]:!!M,[`${S}-with-button`]:!!u},l),q=Object.assign(Object.assign({},j),{className:X,prefixCls:z,type:"search"});return e.createElement(E,Object.assign({ref:f(A,r),onPressEnter:e=>{k.current||d||R(e)}},q,{size:M,onCompositionStart:e=>{k.current=!0,null==C||C(e)},onCompositionEnd:e=>{k.current=!1,null==h||h(e)},addonAfter:B,suffix:c,onChange:e=>{(null==e?void 0:e.target)&&"click"===e.type&&g&&g(e.target.value,e,{source:"clear"}),null==O||O(e)},disabled:m}))})),q=E;q.Group=o=>{const{getPrefixCls:r,direction:a}=e.useContext(t),{prefixCls:s,className:l}=o,i=r("input-group",s),c=r("input"),[u,p,f]=O(c),d=n(i,f,{[`${i}-lg`]:"large"===o.size,[`${i}-sm`]:"small"===o.size,[`${i}-compact`]:o.compact,[`${i}-rtl`]:"rtl"===a},p,l),v=e.useContext(m),g=e.useMemo((()=>Object.assign(Object.assign({},v),{isFormItemInput:!1})),[v]);return u(e.createElement("span",{className:d,style:o.style,onMouseEnter:o.onMouseEnter,onMouseLeave:o.onMouseLeave,onFocus:o.onFocus,onBlur:o.onBlur},e.createElement(m.Provider,{value:g},o.children)))},q.Search=X,q.TextArea=$,q.Password=L,q.OTP=N;export{q as I};
//# sourceMappingURL=index-DM93vOm6.js.map
