import{h as T}from"./toArray-DeWF-CPR-1746435076434.js";import{r as s,R as x}from"./index-HqVKJZ4m-1746435076434.js";import{a1 as D,p as Re,z as Fe,B as le,a2 as Be,q as V,a3 as Ae,a4 as re,C as L,d as se,a5 as ze,a6 as Le,a7 as We,a8 as z,j as De,a as G,$ as Ve,a9 as ae,l as He,aa as _e,ab as qe,ac as Qe,ad as Xe,a0 as Ge}from"./index-7xeFzZ3q-1746435076434.js";import{R as Ue}from"./CheckCircleFilled-DMl_gSy3-1746435076434.js";import{R as Ze}from"./ExclamationCircleFilled-CQvkp_Tz-1746435076434.js";import{R as Ye}from"./InfoCircleFilled-ut5AbCP0-1746435076434.js";import{a as Je,c as I}from"./AntdIcon-CvcpUYMf-1746435076434.js";import{A as ce}from"./ActionButton-PW2J7Vj9-1746435076434.js";import{u as ie,D as Ke,p as et,a as tt,P as nt}from"./index-A4Rioni_-1746435076434.js";import{S as ot}from"./Skeleton-DnBNLnTg-1746435076434.js";import{w as lt}from"./dropdown-BgvYK5wC-1746435076434.js";function rt(){const[e,n]=s.useState([]),l=s.useCallback(t=>(n(o=>[].concat(T(o),[t])),()=>{n(o=>o.filter(a=>a!==t))}),[]);return[e,l]}const R=x.createContext({}),{Provider:ue}=R,U=()=>{const{autoFocusButton:e,cancelButtonProps:n,cancelTextLocale:l,isSilent:t,mergedOkCancel:o,rootPrefixCls:a,close:u,onCancel:i,onConfirm:c}=s.useContext(R);return o?x.createElement(ce,{isSilent:t,actionFn:i,close:function(){u==null||u.apply(void 0,arguments),c==null||c(!1)},autoFocus:e==="cancel",buttonProps:n,prefixCls:`${a}-btn`},l):null},Z=()=>{const{autoFocusButton:e,close:n,isSilent:l,okButtonProps:t,rootPrefixCls:o,okTextLocale:a,okType:u,onConfirm:i,onOk:c}=s.useContext(R);return x.createElement(ce,{isSilent:l,type:u||"primary",actionFn:c,close:function(){n==null||n.apply(void 0,arguments),i==null||i(!0)},autoFocus:e==="ok",buttonProps:t,prefixCls:`${o}-btn`},a)};function Y(e){if(e)return{closable:e.closable,closeIcon:e.closeIcon}}function J(e){const{closable:n,closeIcon:l}=e||{};return x.useMemo(()=>{if(!n&&(n===!1||l===!1||l===null))return!1;if(n===void 0&&l===void 0)return null;let t={closeIcon:typeof l!="boolean"&&l!==null?l:void 0};return n&&typeof n=="object"&&(t=Object.assign(Object.assign({},t),n)),t},[n,l])}function K(){const e={};for(var n=arguments.length,l=new Array(n),t=0;t<n;t++)l[t]=arguments[t];return l.forEach(o=>{o&&Object.keys(o).forEach(a=>{o[a]!==void 0&&(e[a]=o[a])})}),e}const st={};function at(e,n){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:st;const t=J(e),o=J(n),a=typeof t!="boolean"?!!(t!=null&&t.disabled):!1,u=x.useMemo(()=>Object.assign({closeIcon:x.createElement(D,null)},l),[l]),i=x.useMemo(()=>t===!1?!1:t?K(u,o,t):o===!1?!1:o?K(u,o):u.closable?u:!1,[t,o,u]);return x.useMemo(()=>{if(i===!1)return[!1,null,a];const{closeIconRender:c}=u,{closeIcon:g}=i;let r=g;if(r!=null){c&&(r=c(g));const d=Re(i,!0);Object.keys(d).length&&(r=x.isValidElement(r)?x.cloneElement(r,d):x.createElement("span",Object.assign({},d),r))}return[!0,r,a]},[i,u])}const ct=()=>Je()&&window.document.documentElement;function ee(){}const it=s.createContext({add:ee,remove:ee});function ut(e){const n=s.useContext(it),l=s.useRef(null);return Fe(o=>{if(o){const a=e?o.querySelector(e):o;n.add(a),l.current=a}else n.remove(l.current)})}const te=()=>{const{cancelButtonProps:e,cancelTextLocale:n,onCancel:l}=s.useContext(R);return x.createElement(le,Object.assign({onClick:l},e),n)},ne=()=>{const{confirmLoading:e,okButtonProps:n,okType:l,okTextLocale:t,onOk:o}=s.useContext(R);return x.createElement(le,Object.assign({},Be(l),{loading:e,onClick:o},n),t)};function fe(e,n){return x.createElement("span",{className:`${e}-close-x`},n||x.createElement(D,{className:`${e}-close-icon`}))}const de=e=>{const{okText:n,okType:l="primary",cancelText:t,confirmLoading:o,onOk:a,onCancel:u,okButtonProps:i,cancelButtonProps:c,footer:g}=e,[r]=V("Modal",re()),d=n||(r==null?void 0:r.okText),f=t||(r==null?void 0:r.cancelText),b={confirmLoading:o,okButtonProps:i,cancelButtonProps:c,okTextLocale:d,cancelTextLocale:f,okType:l,onOk:a,onCancel:u},y=x.useMemo(()=>b,T(Object.values(b)));let m;return typeof g=="function"||typeof g>"u"?(m=x.createElement(x.Fragment,null,x.createElement(te,null),x.createElement(ne,null)),typeof g=="function"&&(m=g(m,{OkBtn:ne,CancelBtn:te})),m=x.createElement(ue,{value:y},m)):m=g,x.createElement(Ae,{disabled:!1},m)};var ft=function(e,n){var l={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(l[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(l[t[o]]=e[t[o]]);return l};let W;const dt=e=>{W={x:e.pageX,y:e.pageY},setTimeout(()=>{W=null},100)};ct()&&document.documentElement.addEventListener("click",dt,!0);const me=e=>{var n;const{getPopupContainer:l,getPrefixCls:t,direction:o,modal:a}=s.useContext(L),u=w=>{const{onCancel:E}=e;E==null||E(w)},i=w=>{const{onOk:E}=e;E==null||E(w)},{prefixCls:c,className:g,rootClassName:r,open:d,wrapClassName:f,centered:b,getContainer:y,focusTriggerAfterClose:m=!0,style:v,visible:p,width:C=520,footer:h,classNames:O,styles:j,children:k,loading:M}=e,N=ft(e,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","focusTriggerAfterClose","style","visible","width","footer","classNames","styles","children","loading"]),P=t("modal",c),H=t(),_=se(P),[Ee,q,$e]=ie(P,_),je=I(f,{[`${P}-centered`]:b??(a==null?void 0:a.centered),[`${P}-wrap-rtl`]:o==="rtl"}),we=h!==null&&!M?s.createElement(de,Object.assign({},e,{onOk:i,onCancel:u})):null,[Q,X,Ie]=at(Y(e),Y(a),{closable:!0,closeIcon:s.createElement(D,{className:`${P}-close-icon`}),closeIconRender:w=>fe(P,w)}),Te=ut(`.${P}-content`),[Ne,Se]=ze("Modal",N.zIndex),[ke,B]=s.useMemo(()=>C&&typeof C=="object"?[void 0,C]:[C,void 0],[C]),Me=s.useMemo(()=>{const w={};return B&&Object.keys(B).forEach(E=>{const A=B[E];A!==void 0&&(w[`--${P}-${E}-width`]=typeof A=="number"?`${A}px`:A)}),w},[B]);return Ee(s.createElement(Le,{form:!0,space:!0},s.createElement(We.Provider,{value:Se},s.createElement(Ke,Object.assign({width:ke},N,{zIndex:Ne,getContainer:y===void 0?l:y,prefixCls:P,rootClassName:I(q,r,$e,_),footer:we,visible:d??p,mousePosition:(n=N.mousePosition)!==null&&n!==void 0?n:W,onClose:u,closable:Q&&{disabled:Ie,closeIcon:X},closeIcon:X,focusTriggerAfterClose:m,transitionName:z(H,"zoom",e.transitionName),maskTransitionName:z(H,"fade",e.maskTransitionName),className:I(q,g,a==null?void 0:a.className),style:Object.assign(Object.assign(Object.assign({},a==null?void 0:a.style),v),Me),classNames:Object.assign(Object.assign(Object.assign({},a==null?void 0:a.classNames),O),{wrapper:I(je,O==null?void 0:O.wrapper)}),styles:Object.assign(Object.assign({},a==null?void 0:a.styles),j),panelRef:Te}),M?s.createElement(ot,{active:!0,title:!1,paragraph:{rows:4},className:`${P}-body-skeleton`}):k))))},mt=e=>{const{componentCls:n,titleFontSize:l,titleLineHeight:t,modalConfirmIconSize:o,fontSize:a,lineHeight:u,modalTitleHeight:i,fontHeight:c,confirmBodyPadding:g}=e,r=`${n}-confirm`;return{[r]:{"&-rtl":{direction:"rtl"},[`${e.antCls}-modal-header`]:{display:"none"},[`${r}-body-wrapper`]:Object.assign({},Ve()),[`&${n} ${n}-body`]:{padding:g},[`${r}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${e.iconCls}`]:{flex:"none",fontSize:o,marginInlineEnd:e.confirmIconMarginInlineEnd,marginTop:e.calc(e.calc(c).sub(o).equal()).div(2).equal()},[`&-has-title > ${e.iconCls}`]:{marginTop:e.calc(e.calc(i).sub(o).equal()).div(2).equal()}},[`${r}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:e.marginXS,maxWidth:`calc(100% - ${G(e.marginSM)})`},[`${e.iconCls} + ${r}-paragraph`]:{maxWidth:`calc(100% - ${G(e.calc(e.modalConfirmIconSize).add(e.marginSM).equal())})`},[`${r}-title`]:{color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:l,lineHeight:t},[`${r}-content`]:{color:e.colorText,fontSize:a,lineHeight:u},[`${r}-btns`]:{textAlign:"end",marginTop:e.confirmBtnsMarginTop,[`${e.antCls}-btn + ${e.antCls}-btn`]:{marginBottom:0,marginInlineStart:e.marginXS}}},[`${r}-error ${r}-body > ${e.iconCls}`]:{color:e.colorError},[`${r}-warning ${r}-body > ${e.iconCls},
        ${r}-confirm ${r}-body > ${e.iconCls}`]:{color:e.colorWarning},[`${r}-info ${r}-body > ${e.iconCls}`]:{color:e.colorInfo},[`${r}-success ${r}-body > ${e.iconCls}`]:{color:e.colorSuccess}}},Ct=De(["Modal","confirm"],e=>{const n=et(e);return[mt(n)]},tt,{order:-1e3});var gt=function(e,n){var l={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(l[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(l[t[o]]=e[t[o]]);return l};function Ce(e){const{prefixCls:n,icon:l,okText:t,cancelText:o,confirmPrefixCls:a,type:u,okCancel:i,footer:c,locale:g}=e,r=gt(e,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let d=l;if(!l&&l!==null)switch(u){case"info":d=s.createElement(Ye,null);break;case"success":d=s.createElement(Ue,null);break;case"error":d=s.createElement(qe,null);break;default:d=s.createElement(Ze,null)}const f=i??u==="confirm",b=e.autoFocusButton===null?!1:e.autoFocusButton||"ok",[y]=V("Modal"),m=g||y,v=t||(f?m==null?void 0:m.okText:m==null?void 0:m.justOkText),p=o||(m==null?void 0:m.cancelText),C=Object.assign({autoFocusButton:b,cancelTextLocale:p,okTextLocale:v,mergedOkCancel:f},r),h=s.useMemo(()=>C,T(Object.values(C))),O=s.createElement(s.Fragment,null,s.createElement(U,null),s.createElement(Z,null)),j=e.title!==void 0&&e.title!==null,k=`${a}-body`;return s.createElement("div",{className:`${a}-body-wrapper`},s.createElement("div",{className:I(k,{[`${k}-has-title`]:j})},d,s.createElement("div",{className:`${a}-paragraph`},j&&s.createElement("span",{className:`${a}-title`},e.title),s.createElement("div",{className:`${a}-content`},e.content))),c===void 0||typeof c=="function"?s.createElement(ue,{value:h},s.createElement("div",{className:`${a}-btns`},typeof c=="function"?c(O,{OkBtn:Z,CancelBtn:U}):O)):c,s.createElement(Ct,{prefixCls:n}))}const bt=e=>{const{close:n,zIndex:l,maskStyle:t,direction:o,prefixCls:a,wrapClassName:u,rootPrefixCls:i,bodyStyle:c,closable:g=!1,onConfirm:r,styles:d}=e,f=`${a}-confirm`,b=e.width||416,y=e.style||{},m=e.mask===void 0?!0:e.mask,v=e.maskClosable===void 0?!1:e.maskClosable,p=I(f,`${f}-${e.type}`,{[`${f}-rtl`]:o==="rtl"},e.className),[,C]=He(),h=s.useMemo(()=>l!==void 0?l:C.zIndexPopupBase+_e,[l,C]);return s.createElement(me,Object.assign({},e,{className:p,wrapClassName:I({[`${f}-centered`]:!!e.centered},u),onCancel:()=>{n==null||n({triggerCancel:!0}),r==null||r(!1)},title:"",footer:null,transitionName:z(i||"","zoom",e.transitionName),maskTransitionName:z(i||"","fade",e.maskTransitionName),mask:m,maskClosable:v,style:y,styles:Object.assign({body:c,mask:t},d),width:b,zIndex:h,closable:g}),s.createElement(Ce,Object.assign({},e,{confirmPrefixCls:f})))},ge=e=>{const{rootPrefixCls:n,iconPrefixCls:l,direction:t,theme:o}=e;return s.createElement(ae,{prefixCls:n,iconPrefixCls:l,direction:t,theme:o},s.createElement(bt,Object.assign({},e)))},S=[];let be="";function ve(){return be}const vt=e=>{var n,l;const{prefixCls:t,getContainer:o,direction:a}=e,u=re(),i=s.useContext(L),c=ve()||i.getPrefixCls(),g=t||`${c}-modal`;let r=o;return r===!1&&(r=void 0),x.createElement(ge,Object.assign({},e,{rootPrefixCls:c,prefixCls:g,iconPrefixCls:i.iconPrefixCls,theme:i.theme,direction:a??i.direction,locale:(l=(n=i.locale)===null||n===void 0?void 0:n.Modal)!==null&&l!==void 0?l:u,getContainer:r}))};function F(e){const n=Qe(),l=document.createDocumentFragment();let t=Object.assign(Object.assign({},e),{close:c,open:!0}),o,a;function u(){for(var r,d=arguments.length,f=new Array(d),b=0;b<d;b++)f[b]=arguments[b];if(f.some(v=>v==null?void 0:v.triggerCancel)){var m;(r=e.onCancel)===null||r===void 0||(m=r).call.apply(m,[e,()=>{}].concat(T(f.slice(1))))}for(let v=0;v<S.length;v++)if(S[v]===c){S.splice(v,1);break}a()}function i(r){clearTimeout(o),o=setTimeout(()=>{const d=n.getPrefixCls(void 0,ve()),f=n.getIconPrefixCls(),b=n.getTheme(),y=x.createElement(vt,Object.assign({},r));a=Xe()(x.createElement(ae,{prefixCls:d,iconPrefixCls:f,theme:b},n.holderRender?n.holderRender(y):y),l)})}function c(){for(var r=arguments.length,d=new Array(r),f=0;f<r;f++)d[f]=arguments[f];t=Object.assign(Object.assign({},t),{open:!1,afterClose:()=>{typeof e.afterClose=="function"&&e.afterClose(),u.apply(this,d)}}),t.visible&&delete t.visible,i(t)}function g(r){typeof r=="function"?t=r(t):t=Object.assign(Object.assign({},t),r),i(t)}return i(t),S.push(c),{destroy:c,update:g}}function pe(e){return Object.assign(Object.assign({},e),{type:"warning"})}function xe(e){return Object.assign(Object.assign({},e),{type:"info"})}function ye(e){return Object.assign(Object.assign({},e),{type:"success"})}function Oe(e){return Object.assign(Object.assign({},e),{type:"error"})}function he(e){return Object.assign(Object.assign({},e),{type:"confirm"})}function pt(e){let{rootPrefixCls:n}=e;be=n}var xt=function(e,n){var l={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(l[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(l[t[o]]=e[t[o]]);return l};const yt=(e,n)=>{var l,{afterClose:t,config:o}=e,a=xt(e,["afterClose","config"]);const[u,i]=s.useState(!0),[c,g]=s.useState(o),{direction:r,getPrefixCls:d}=s.useContext(L),f=d("modal"),b=d(),y=()=>{var C;t(),(C=c.afterClose)===null||C===void 0||C.call(c)},m=function(){var C;i(!1);for(var h=arguments.length,O=new Array(h),j=0;j<h;j++)O[j]=arguments[j];if(O.some(N=>N==null?void 0:N.triggerCancel)){var M;(C=c.onCancel)===null||C===void 0||(M=C).call.apply(M,[c,()=>{}].concat(T(O.slice(1))))}};s.useImperativeHandle(n,()=>({destroy:m,update:C=>{g(h=>Object.assign(Object.assign({},h),C))}}));const v=(l=c.okCancel)!==null&&l!==void 0?l:c.type==="confirm",[p]=V("Modal",Ge.Modal);return s.createElement(ge,Object.assign({prefixCls:f,rootPrefixCls:b},c,{close:m,open:u,afterClose:y,okText:c.okText||(v?p==null?void 0:p.okText:p==null?void 0:p.justOkText),direction:c.direction||r,cancelText:c.cancelText||(p==null?void 0:p.cancelText)},a))},Ot=s.forwardRef(yt);let oe=0;const ht=s.memo(s.forwardRef((e,n)=>{const[l,t]=rt();return s.useImperativeHandle(n,()=>({patchElement:t}),[]),s.createElement(s.Fragment,null,l)}));function Pt(){const e=s.useRef(null),[n,l]=s.useState([]);s.useEffect(()=>{n.length&&(T(n).forEach(u=>{u()}),l([]))},[n]);const t=s.useCallback(a=>function(i){var c;oe+=1;const g=s.createRef();let r;const d=new Promise(v=>{r=v});let f=!1,b;const y=s.createElement(Ot,{key:`modal-${oe}`,config:a(i),ref:g,afterClose:()=>{b==null||b()},isSilent:()=>f,onConfirm:v=>{r(v)}});return b=(c=e.current)===null||c===void 0?void 0:c.patchElement(y),b&&S.push(b),{destroy:()=>{function v(){var p;(p=g.current)===null||p===void 0||p.destroy()}g.current?v():l(p=>[].concat(T(p),[v]))},update:v=>{function p(){var C;(C=g.current)===null||C===void 0||C.update(v)}g.current?p():l(C=>[].concat(T(C),[p]))},then:v=>(f=!0,d.then(v))}},[]);return[s.useMemo(()=>({info:t(xe),success:t(ye),error:t(Oe),warning:t(pe),confirm:t(he)}),[]),s.createElement(ht,{key:"modal-holder",ref:e})]}var Et=function(e,n){var l={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(l[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(l[t[o]]=e[t[o]]);return l};const $t=e=>{const{prefixCls:n,className:l,closeIcon:t,closable:o,type:a,title:u,children:i,footer:c}=e,g=Et(e,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:r}=s.useContext(L),d=r(),f=n||r("modal"),b=se(d),[y,m,v]=ie(f,b),p=`${f}-confirm`;let C={};return a?C={closable:o??!1,title:"",footer:"",children:s.createElement(Ce,Object.assign({},e,{prefixCls:f,confirmPrefixCls:p,rootPrefixCls:d,content:i}))}:C={closable:o??!0,title:u,footer:c!==null&&s.createElement(de,Object.assign({},e)),children:i},y(s.createElement(nt,Object.assign({prefixCls:f,className:I(m,`${f}-pure-panel`,a&&p,a&&`${p}-${a}`,l,v,b)},g,{closeIcon:fe(f,t),closable:o},C)))},jt=lt($t);function Pe(e){return F(pe(e))}const $=me;$.useModal=Pt;$.info=function(n){return F(xe(n))};$.success=function(n){return F(ye(n))};$.error=function(n){return F(Oe(n))};$.warning=Pe;$.warn=Pe;$.confirm=function(n){return F(he(n))};$.destroyAll=function(){for(;S.length;){const n=S.pop();n&&n()}};$.config=pt;$._InternalPanelDoNotUseOrYouWillBeFired=jt;export{$ as M};
