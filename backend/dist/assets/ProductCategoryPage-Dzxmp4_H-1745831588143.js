import{c as f,r as i,j as e,g as x,u as j,L as h}from"./index-DG2rto3Y-1745831588143.js";import{P as v}from"./plus-CgqCi6d9-1745831588143.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=f("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);function N(){const[r,d]=i.useState([]),[n,m]=i.useState(0),o="/api/logo/download/";return i.useEffect(()=>{(async()=>{try{const t=await x.get("/api/slideShow/getAll");console.log(t.data),t.data&&d(t.data.map(c=>({url:`${o}${c.image}`,altText:c.altText||"Slideshow Image",title:c.title||c.altText||"Slideshow Image"})))}catch(t){console.error("Error fetching slideshow images:",t)}})()},[]),i.useEffect(()=>{if(r.length>0){const l=setInterval(()=>{m(t=>(t+1)%r.length)},3e3);return()=>clearInterval(l)}},[n,r.length]),e.jsx("div",{className:"md:w-62 w-[100wh] relative h-[30vh] md:h-[68vh] overflow-hidden",children:r.length>0?r.map((l,t)=>e.jsx("img",{src:l.url,alt:l.altText,title:l.title,className:`w-full h-full absolute object-cover transition-opacity duration-1000 ease-in-out ${t===n?"opacity-100":"opacity-0"}`},t)):e.jsx("p",{className:"text-center text-gray-500",children:"Loading images..."})})}const b=()=>{const[r,d]=i.useState([]),[n,m]=i.useState([]),[o,l]=i.useState({}),t=j();i.useEffect(()=>{x.get("/api/chemicalCategory/getAll").then(s=>{d(s.data),s.data.length>0&&l({[s.data[0].slug]:!0})}).catch(s=>console.error("Error fetching categories:",s)),x.get("/api/product").then(s=>m(s.data)).catch(s=>console.error("Error fetching products:",s))},[]);const c=r.map(s=>({...s,products:n.filter(a=>a.category.slug===s.slug)})),p=s=>{l(a=>({...a,[s]:!a[s]}))};return r.length?e.jsxs("div",{className:"w-full md:max-w-7xl mx-auto min-h-screen bg-white",children:[e.jsx("nav",{className:"pt-5 sm:text-xs md:text-sm lg:text-base text-[11px] border-b pb-3 w-[98%] ml-8 mb-5 py-2",children:e.jsxs("ul",{className:"flex gap-2 flex-wrap",children:[e.jsx("li",{children:e.jsx(h,{to:"/",className:"text-secondary  hover:text-main_light",children:"Home"})}),e.jsx("li",{className:"text-gray-400",children:">"}),e.jsx("li",{children:e.jsx(h,{to:"/products",className:"text-main hover:text-main_light",children:"Products"})})]})}),e.jsx("div",{className:"mx-auto max-w-7xl px-4 lg:px-0",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-center gap-10 p-6 w-full",children:[e.jsx("div",{className:"w-full border px-5 py-3 md:w-[75%]",children:e.jsx("div",{className:"space-y-8",children:c.map(s=>e.jsxs("div",{className:"rounded-lg p-4 shadow-md",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6 gap-6",children:[e.jsxs("div",{className:"flex gap-3 items-center",children:[e.jsx("img",{src:s.photo?`/api/logo/download/${s.photo}`:"https://img.freepik.com/free-vector/abstract-chemical-logo_23-2148610094.jpg?w=200",alt:s.name,className:"h-10 border-2 p-1"}),e.jsx(h,{to:`/${s.slug}`,className:"block",children:e.jsx("h2",{className:"text-main font-bold text-lg",children:s.category})})]}),e.jsx("div",{children:e.jsx("button",{onClick:()=>p(s.slug),className:"p-1 hover:bg-blue-100 rounded-full transition-colors",children:o[s.slug]?e.jsx(w,{className:"w-5 h-5 text-main"}):e.jsx(v,{className:"w-5 h-5 text-main"})})})]}),o[s.slug]&&e.jsx("ul",{className:"flex flex-col gap-5  bg-white rounded-lg",children:s.products.map(a=>{var g,u;return e.jsxs("li",{className:"flex p-1 px-4 justify-start items-center w-full bg-blue-100 cursor-pointer",onClick:()=>t(`/${s.slug}/${a.slug}`),children:[e.jsx("img",{src:(u=(g=a.images)==null?void 0:g[0])!=null&&u.url?`/api/image/download/${a.images[0].url}`:"https://via.placeholder.com/150",alt:a.name,className:"w-20 h-10 mt-2 object-contain mb-2"}),e.jsx("h3",{className:"text-main font-medium text-lg",children:a.name})]},a.slug)})})]},s.slug))})}),e.jsx("div",{className:"relative h-[30vh] sm:h-[40vh] lg:h-[60vh] w-1/4",children:e.jsx(N,{})})]})})]}):e.jsx("div",{className:"text-center py-4",children:"Loading..."})},C=()=>e.jsx("div",{children:e.jsx(b,{})});export{C as default};
