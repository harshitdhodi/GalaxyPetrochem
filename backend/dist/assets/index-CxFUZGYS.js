import{ac as e,cC as t,c4 as n,cm as o,cg as l,cb as r,cD as c,cE as s,b$ as a,c1 as i,cF as u,bV as f,cG as m,cH as d,cI as p,cJ as g,c8 as b,cK as C,cL as y,bY as x,cz as v,cM as O,c9 as j,cN as h,cO as E,cB as k,cP as $}from"./main-CzSo-TQq.js";import{b as P,R as T}from"./vendor-BCMiqwDy.js";import{B as w,h as N,C as I,j as S,k as B}from"./index-DSpNpUBy.js";import{R as M}from"./CheckCircleFilled-ReswMhjZ.js";import{R as F}from"./ExclamationCircleFilled-xRTYYEFC.js";import{R as z}from"./InfoCircleFilled-CAKYzuNC.js";import{A as L}from"./ActionButton-B_-XN75h.js";import{S as R}from"./Skeleton-DRGMwVq6.js";import{w as A}from"./dropdown-Dz-q1Mre.js";const H=T.createContext({}),{Provider:W}=H,q=()=>{const{autoFocusButton:e,cancelButtonProps:t,cancelTextLocale:n,isSilent:o,mergedOkCancel:l,rootPrefixCls:r,close:c,onCancel:s,onConfirm:a}=P.useContext(H);return l?T.createElement(L,{isSilent:o,actionFn:s,close:function(){null==c||c.apply(void 0,arguments),null==a||a(!1)},autoFocus:"cancel"===e,buttonProps:t,prefixCls:`${r}-btn`},n):null},D=()=>{const{autoFocusButton:e,close:t,isSilent:n,okButtonProps:o,rootPrefixCls:l,okTextLocale:r,okType:c,onConfirm:s,onOk:a}=P.useContext(H);return T.createElement(L,{isSilent:n,type:c||"primary",actionFn:a,close:function(){null==t||t.apply(void 0,arguments),null==s||s(!0)},autoFocus:"ok"===e,buttonProps:o,prefixCls:`${l}-btn`},r)};function X(e){if(e)return{closable:e.closable,closeIcon:e.closeIcon}}function Y(e){const{closable:t,closeIcon:n}=e||{};return T.useMemo((()=>{if(!t&&(!1===t||!1===n||null===n))return!1;if(void 0===t&&void 0===n)return null;let e={closeIcon:"boolean"!=typeof n&&null!==n?n:void 0};return t&&"object"==typeof t&&(e=Object.assign(Object.assign({},e),t)),e}),[t,n])}function G(){const e={};for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return n.forEach((t=>{t&&Object.keys(t).forEach((n=>{void 0!==t[n]&&(e[n]=t[n])}))})),e}const V={};function J(){}const K=P.createContext({add:J,remove:J});const U=()=>{const{cancelButtonProps:e,cancelTextLocale:t,onCancel:n}=P.useContext(H);return T.createElement(w,Object.assign({onClick:n},e),t)},Z=()=>{const{confirmLoading:e,okButtonProps:t,okType:n,okTextLocale:o,onOk:l}=P.useContext(H);return T.createElement(w,Object.assign({},N(n),{loading:e,onClick:l},t),o)};function _(e,n){return T.createElement("span",{className:`${e}-close-x`},n||T.createElement(t,{className:`${e}-close-icon`}))}const Q=t=>{const{okText:n,okType:o="primary",cancelText:l,confirmLoading:a,onOk:i,onCancel:u,okButtonProps:f,cancelButtonProps:m,footer:d}=t,[p]=r("Modal",s()),g={confirmLoading:a,okButtonProps:f,cancelButtonProps:m,okTextLocale:n||(null==p?void 0:p.okText),cancelTextLocale:l||(null==p?void 0:p.cancelText),okType:o,onOk:i,onCancel:u},b=T.useMemo((()=>g),e(Object.values(g)));let C;return"function"==typeof d||void 0===d?(C=T.createElement(T.Fragment,null,T.createElement(U,null),T.createElement(Z,null)),"function"==typeof d&&(C=d(C,{OkBtn:Z,CancelBtn:U})),C=T.createElement(W,{value:b},C)):C=d,T.createElement(c,{disabled:!1},C)};let ee;const te=e=>{ee={x:e.pageX,y:e.pageY},setTimeout((()=>{ee=null}),100)};o()&&window.document.documentElement&&document.documentElement.addEventListener("click",te,!0);const ne=e=>{var o;const{getPopupContainer:r,getPrefixCls:c,direction:s,modal:b}=P.useContext(a),C=t=>{const{onCancel:n}=e;null==n||n(t)},{prefixCls:y,className:x,rootClassName:v,open:O,wrapClassName:j,centered:h,getContainer:E,focusTriggerAfterClose:k=!0,style:$,visible:w,width:N=520,footer:S,classNames:B,styles:M,children:F,loading:z}=e,L=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n}(e,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","focusTriggerAfterClose","style","visible","width","footer","classNames","styles","children","loading"]),A=c("modal",y),H=c(),W=i(A),[q,D,J]=u(A,W),U=f(j,{[`${A}-centered`]:null!=h?h:null==b?void 0:b.centered,[`${A}-wrap-rtl`]:"rtl"===s}),Z=null===S||z?null:P.createElement(Q,Object.assign({},e,{onOk:t=>{const{onOk:n}=e;null==n||n(t)},onCancel:C})),[te,ne,oe]=function(e,o){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:V;const r=Y(e),c=Y(o),s="boolean"!=typeof r&&!!(null==r?void 0:r.disabled),a=T.useMemo((()=>Object.assign({closeIcon:T.createElement(t,null)},l)),[l]),i=T.useMemo((()=>!1!==r&&(r?G(a,c,r):!1!==c&&(c?G(a,c):!!a.closable&&a))),[r,c,a]);return T.useMemo((()=>{if(!1===i)return[!1,null,s];const{closeIconRender:e}=a,{closeIcon:t}=i;let o=t;if(null!=o){e&&(o=e(t));const l=n(i,!0);Object.keys(l).length&&(o=T.isValidElement(o)?T.cloneElement(o,l):T.createElement("span",Object.assign({},l),o))}return[!0,o,s]}),[i,a])}(X(e),X(b),{closable:!0,closeIcon:P.createElement(t,{className:`${A}-close-icon`}),closeIconRender:e=>_(A,e)}),le=function(e){const t=P.useContext(K),n=P.useRef(null);return l((o=>{if(o){const l=e?o.querySelector(e):o;t.add(l),n.current=l}else t.remove(n.current)}))}(`.${A}-content`),[re,ce]=m("Modal",L.zIndex),[se,ae]=P.useMemo((()=>N&&"object"==typeof N?[void 0,N]:[N,void 0]),[N]),ie=P.useMemo((()=>{const e={};return ae&&Object.keys(ae).forEach((t=>{const n=ae[t];void 0!==n&&(e[`--${A}-${t}-width`]="number"==typeof n?`${n}px`:n)})),e}),[ae]);return q(P.createElement(I,{form:!0,space:!0},P.createElement(d.Provider,{value:ce},P.createElement(p,Object.assign({width:se},L,{zIndex:re,getContainer:void 0===E?r:E,prefixCls:A,rootClassName:f(D,v,J,W),footer:Z,visible:null!=O?O:w,mousePosition:null!==(o=L.mousePosition)&&void 0!==o?o:ee,onClose:C,closable:te?{disabled:oe,closeIcon:ne}:te,closeIcon:ne,focusTriggerAfterClose:k,transitionName:g(H,"zoom",e.transitionName),maskTransitionName:g(H,"fade",e.maskTransitionName),className:f(D,x,null==b?void 0:b.className),style:Object.assign(Object.assign(Object.assign({},null==b?void 0:b.style),$),ie),classNames:Object.assign(Object.assign(Object.assign({},null==b?void 0:b.classNames),B),{wrapper:f(U,null==B?void 0:B.wrapper)}),styles:Object.assign(Object.assign({},null==b?void 0:b.styles),M),panelRef:le}),z?P.createElement(R,{active:!0,title:!1,paragraph:{rows:4},className:`${A}-body-skeleton`}):F))))},oe=e=>{const{componentCls:t,titleFontSize:n,titleLineHeight:o,modalConfirmIconSize:l,fontSize:r,lineHeight:c,modalTitleHeight:s,fontHeight:a,confirmBodyPadding:i}=e,u=`${t}-confirm`;return{[u]:{"&-rtl":{direction:"rtl"},[`${e.antCls}-modal-header`]:{display:"none"},[`${u}-body-wrapper`]:Object.assign({},v()),[`&${t} ${t}-body`]:{padding:i},[`${u}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${e.iconCls}`]:{flex:"none",fontSize:l,marginInlineEnd:e.confirmIconMarginInlineEnd,marginTop:e.calc(e.calc(a).sub(l).equal()).div(2).equal()},[`&-has-title > ${e.iconCls}`]:{marginTop:e.calc(e.calc(s).sub(l).equal()).div(2).equal()}},[`${u}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:e.marginXS,maxWidth:`calc(100% - ${x(e.marginSM)})`},[`${e.iconCls} + ${u}-paragraph`]:{maxWidth:`calc(100% - ${x(e.calc(e.modalConfirmIconSize).add(e.marginSM).equal())})`},[`${u}-title`]:{color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:n,lineHeight:o},[`${u}-content`]:{color:e.colorText,fontSize:r,lineHeight:c},[`${u}-btns`]:{textAlign:"end",marginTop:e.confirmBtnsMarginTop,[`${e.antCls}-btn + ${e.antCls}-btn`]:{marginBottom:0,marginInlineStart:e.marginXS}}},[`${u}-error ${u}-body > ${e.iconCls}`]:{color:e.colorError},[`${u}-warning ${u}-body > ${e.iconCls},\n        ${u}-confirm ${u}-body > ${e.iconCls}`]:{color:e.colorWarning},[`${u}-info ${u}-body > ${e.iconCls}`]:{color:e.colorInfo},[`${u}-success ${u}-body > ${e.iconCls}`]:{color:e.colorSuccess}}},le=b(["Modal","confirm"],(e=>{const t=C(e);return[oe(t)]}),y,{order:-1e3});function re(t){const{prefixCls:n,icon:o,okText:l,cancelText:c,confirmPrefixCls:s,type:a,okCancel:i,footer:u,locale:m}=t,d=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n}(t,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let p=o;if(!o&&null!==o)switch(a){case"info":p=P.createElement(z,null);break;case"success":p=P.createElement(M,null);break;case"error":p=P.createElement(S,null);break;default:p=P.createElement(F,null)}const g=null!=i?i:"confirm"===a,b=null!==t.autoFocusButton&&(t.autoFocusButton||"ok"),[C]=r("Modal"),y=m||C,x=l||(g?null==y?void 0:y.okText:null==y?void 0:y.justOkText),v=c||(null==y?void 0:y.cancelText),O=Object.assign({autoFocusButton:b,cancelTextLocale:v,okTextLocale:x,mergedOkCancel:g},d),j=P.useMemo((()=>O),e(Object.values(O))),h=P.createElement(P.Fragment,null,P.createElement(q,null),P.createElement(D,null)),E=void 0!==t.title&&null!==t.title,k=`${s}-body`;return P.createElement("div",{className:`${s}-body-wrapper`},P.createElement("div",{className:f(k,{[`${k}-has-title`]:E})},p,P.createElement("div",{className:`${s}-paragraph`},E&&P.createElement("span",{className:`${s}-title`},t.title),P.createElement("div",{className:`${s}-content`},t.content))),void 0===u||"function"==typeof u?P.createElement(W,{value:j},P.createElement("div",{className:`${s}-btns`},"function"==typeof u?u(h,{OkBtn:D,CancelBtn:q}):h)):u,P.createElement(le,{prefixCls:n}))}const ce=e=>{const{close:t,zIndex:n,maskStyle:o,direction:l,prefixCls:r,wrapClassName:c,rootPrefixCls:s,bodyStyle:a,closable:i=!1,onConfirm:u,styles:m}=e,d=`${r}-confirm`,p=e.width||416,b=e.style||{},C=void 0===e.mask||e.mask,y=void 0!==e.maskClosable&&e.maskClosable,x=f(d,`${d}-${e.type}`,{[`${d}-rtl`]:"rtl"===l},e.className),[,v]=j(),O=P.useMemo((()=>void 0!==n?n:v.zIndexPopupBase+h),[n,v]);return P.createElement(ne,Object.assign({},e,{className:x,wrapClassName:f({[`${d}-centered`]:!!e.centered},c),onCancel:()=>{null==t||t({triggerCancel:!0}),null==u||u(!1)},title:"",footer:null,transitionName:g(s||"","zoom",e.transitionName),maskTransitionName:g(s||"","fade",e.maskTransitionName),mask:C,maskClosable:y,style:b,styles:Object.assign({body:a,mask:o},m),width:p,zIndex:O,closable:i}),P.createElement(re,Object.assign({},e,{confirmPrefixCls:d})))},se=e=>{const{rootPrefixCls:t,iconPrefixCls:n,direction:o,theme:l}=e;return P.createElement(O,{prefixCls:t,iconPrefixCls:n,direction:o,theme:l},P.createElement(ce,Object.assign({},e)))},ae=[];let ie="";function ue(){return ie}const fe=e=>{var t,n;const{prefixCls:o,getContainer:l,direction:r}=e,c=s(),i=P.useContext(a),u=ue()||i.getPrefixCls(),f=o||`${u}-modal`;let m=l;return!1===m&&(m=void 0),T.createElement(se,Object.assign({},e,{rootPrefixCls:u,prefixCls:f,iconPrefixCls:i.iconPrefixCls,theme:i.theme,direction:null!=r?r:i.direction,locale:null!==(n=null===(t=i.locale)||void 0===t?void 0:t.Modal)&&void 0!==n?n:c,getContainer:m}))};function me(t){const n=E(),o=document.createDocumentFragment();let l,r,c=Object.assign(Object.assign({},t),{close:i,open:!0});function s(){for(var n,o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var s;l.some((e=>null==e?void 0:e.triggerCancel))&&(null===(n=t.onCancel)||void 0===n||(s=n).call.apply(s,[t,()=>{}].concat(e(l.slice(1)))));for(let e=0;e<ae.length;e++){if(ae[e]===i){ae.splice(e,1);break}}r()}function a(e){clearTimeout(l),l=setTimeout((()=>{const t=n.getPrefixCls(void 0,ue()),l=n.getIconPrefixCls(),c=n.getTheme(),s=T.createElement(fe,Object.assign({},e)),a=B();r=a(T.createElement(O,{prefixCls:t,iconPrefixCls:l,theme:c},n.holderRender?n.holderRender(s):s),o)}))}function i(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];c=Object.assign(Object.assign({},c),{open:!1,afterClose:()=>{"function"==typeof t.afterClose&&t.afterClose(),s.apply(this,n)}}),c.visible&&delete c.visible,a(c)}return a(c),ae.push(i),{destroy:i,update:function(e){c="function"==typeof e?e(c):Object.assign(Object.assign({},c),e),a(c)}}}function de(e){return Object.assign(Object.assign({},e),{type:"warning"})}function pe(e){return Object.assign(Object.assign({},e),{type:"info"})}function ge(e){return Object.assign(Object.assign({},e),{type:"success"})}function be(e){return Object.assign(Object.assign({},e),{type:"error"})}function Ce(e){return Object.assign(Object.assign({},e),{type:"confirm"})}var ye=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const xe=(t,n)=>{var o,{afterClose:l,config:c}=t,s=ye(t,["afterClose","config"]);const[i,u]=P.useState(!0),[f,m]=P.useState(c),{direction:d,getPrefixCls:p}=P.useContext(a),g=p("modal"),b=p(),C=function(){var t;u(!1);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];var r;o.some((e=>null==e?void 0:e.triggerCancel))&&(null===(t=f.onCancel)||void 0===t||(r=t).call.apply(r,[f,()=>{}].concat(e(o.slice(1)))))};P.useImperativeHandle(n,(()=>({destroy:C,update:e=>{m((t=>Object.assign(Object.assign({},t),e)))}})));const y=null!==(o=f.okCancel)&&void 0!==o?o:"confirm"===f.type,[x]=r("Modal",k.Modal);return P.createElement(se,Object.assign({prefixCls:g,rootPrefixCls:b},f,{close:C,open:i,afterClose:()=>{var e;l(),null===(e=f.afterClose)||void 0===e||e.call(f)},okText:f.okText||(y?null==x?void 0:x.okText:null==x?void 0:x.justOkText),direction:f.direction||d,cancelText:f.cancelText||(null==x?void 0:x.cancelText)},s))},ve=P.forwardRef(xe);let Oe=0;const je=P.memo(P.forwardRef(((t,n)=>{const[o,l]=function(){const[t,n]=P.useState([]);return[t,P.useCallback((t=>(n((n=>[].concat(e(n),[t]))),()=>{n((e=>e.filter((e=>e!==t))))})),[])]}();return P.useImperativeHandle(n,(()=>({patchElement:l})),[]),P.createElement(P.Fragment,null,o)})));var he=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n};const Ee=A((e=>{const{prefixCls:t,className:n,closeIcon:o,closable:l,type:r,title:c,children:s,footer:m}=e,d=he(e,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:p}=P.useContext(a),g=p(),b=t||p("modal"),C=i(g),[y,x,v]=u(b,C),O=`${b}-confirm`;let j={};return j=r?{closable:null!=l&&l,title:"",footer:"",children:P.createElement(re,Object.assign({},e,{prefixCls:b,confirmPrefixCls:O,rootPrefixCls:g,content:s}))}:{closable:null==l||l,title:c,footer:null!==m&&P.createElement(Q,Object.assign({},e)),children:s},y(P.createElement($,Object.assign({prefixCls:b,className:f(x,`${b}-pure-panel`,r&&O,r&&`${O}-${r}`,n,v,C)},d,{closeIcon:_(b,o),closable:l},j)))}));function ke(e){return me(de(e))}const $e=ne;$e.useModal=function(){const t=P.useRef(null),[n,o]=P.useState([]);P.useEffect((()=>{if(n.length){e(n).forEach((e=>{e()})),o([])}}),[n]);const l=P.useCallback((n=>function(l){var r;Oe+=1;const c=P.createRef();let s;const a=new Promise((e=>{s=e}));let i,u=!1;const f=P.createElement(ve,{key:`modal-${Oe}`,config:n(l),ref:c,afterClose:()=>{null==i||i()},isSilent:()=>u,onConfirm:e=>{s(e)}});i=null===(r=t.current)||void 0===r?void 0:r.patchElement(f),i&&ae.push(i);const m={destroy:()=>{function t(){var e;null===(e=c.current)||void 0===e||e.destroy()}c.current?t():o((n=>[].concat(e(n),[t])))},update:t=>{function n(){var e;null===(e=c.current)||void 0===e||e.update(t)}c.current?n():o((t=>[].concat(e(t),[n])))},then:e=>(u=!0,a.then(e))};return m}),[]);return[P.useMemo((()=>({info:l(pe),success:l(ge),error:l(be),warning:l(de),confirm:l(Ce)})),[]),P.createElement(je,{key:"modal-holder",ref:t})]},$e.info=function(e){return me(pe(e))},$e.success=function(e){return me(ge(e))},$e.error=function(e){return me(be(e))},$e.warning=ke,$e.warn=ke,$e.confirm=function(e){return me(Ce(e))},$e.destroyAll=function(){for(;ae.length;){const e=ae.pop();e&&e()}},$e.config=function(e){let{rootPrefixCls:t}=e;ie=t},$e._InternalPanelDoNotUseOrYouWillBeFired=Ee;export{$e as M};
//# sourceMappingURL=index-CxFUZGYS.js.map
