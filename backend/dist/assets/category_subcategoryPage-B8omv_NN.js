import{j as e,T as s,e as a,f as t,g as l,h as r,i as c,bk as i}from"./main-CYgOQvaw.js";import{L as n,f as m,b as o,k as d,u as x}from"./vendor-BCMiqwDy.js";import"./checkbox-BV_9Pp14.js";import{P as h}from"./index-CMYIxM2W.js";import{S as g,a as u,b as p,c as j,d as b}from"./select-C9JtKdjQ.js";import{a as y}from"./utils-ZFgnvnbw.js";import{P as N}from"./PromoSidebar-CT60-6Np.js";import"./index-prcspqn7.js";import"./check-BmKpgWX1.js";import"./index-D3SX27xu.js";import"./chevron-up-LTThVSTS.js";const f=e=>e?e.split(/[-\s]+/).map((e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())).join(" "):"";function v({chemicalName:s,categorySlug:a,categoryName:t,slug2:l,subsubCategorySlug:r}){return e.jsx("nav",{className:"  mb-6 md:mx-5 lg:mx-5 lg:pl-4 xl:ml-0 border-b-2 pb-3",children:e.jsxs("ol",{className:"list-none  inline-flex",children:[e.jsxs("li",{className:"flex items-center",children:[e.jsx(n,{to:"/",className:"text-[12px] sm:text-[15px] text-secondary",children:"Home"}),e.jsx("span",{className:"mx-2",children:"››"})]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx(n,{to:"/categories",className:"text-[12px] sm:text-[15px] text-secondary",children:"Products"}),e.jsx("span",{className:"mx-2",children:"››"})]}),e.jsx("li",{className:"flex items-center ",children:e.jsx("span",{className:"text-[12px] sm:text-[15px]",children:e.jsx(n,{to:`/chemicals/${l}`,className:"text-main",children:f(l)})})}),r&&e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"mx-2",children:"››"}),e.jsx("span",{className:"text-[15px] text-secondary",children:f(r)})]})]})})}const S=({chemicals:i,slug:n,isLoading:d,msds:x,specs:h,error:y})=>{const N=m(),[f,v]=o.useState(1),[S,w]=o.useState(5);if(d)return e.jsx("div",{className:"p-4 text-center",children:"Loading..."});if(y)return e.jsxs("div",{className:"p-4 text-center text-red-500",children:["Error fetching chemicals: ",y]});if(0===i.length)return e.jsx("div",{className:"p-4 text-center",children:"No products found."});const C=f*S,L=C-S,A=i.slice(L,C),P=Math.ceil(i.length/S);return e.jsxs("div",{className:"flex flex-col md:pr-5 md:ml-5 xl:ml-0 lg:pr-0 gap-4",children:[e.jsxs("div",{className:"flex sm:flex-row flex-col sm:justify-between xl:mr-0 lg:mr-5 sm:items-center bg-blue-100 gap-2 sm:gap-0 px-4 py-1 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-main font-medium",children:"Items per page:"}),e.jsxs(g,{value:S.toString(),onValueChange:e=>{w(Number(e)),v(1)},children:[e.jsx(u,{className:"w-[60px] bg-white border-gray-200 hover:border-gray-300",children:e.jsx(p,{})}),e.jsx(j,{children:[5,10,20,30,40,50].map((s=>e.jsx(b,{className:"w-[60px]",value:s.toString(),children:e.jsx("span",{className:"text-main text-md font-medium",children:s})},s)))})]})]}),e.jsxs("div",{className:"text-main font-medium",children:["Showing ",e.jsx("span",{className:"text-gray-900",children:L+1})," to ",e.jsx("span",{className:"text-gray-900",children:Math.min(C,i.length)})," of ",e.jsx("span",{className:"text-gray-900",children:i.length})," items"]})]}),e.jsx("div",{className:"lg:mr-5 xl:mr-0",children:e.jsxs(s,{children:[e.jsx(a,{children:e.jsxs(t,{className:"bg-main hover:bg-main_light",children:[e.jsx(l,{className:"text-white text-center",children:"Index No"}),e.jsx(l,{className:"text-white",children:"Product Name"}),e.jsx(l,{className:"text-white text-center",children:"Price"})]})}),e.jsx(r,{children:A.map(((s,a)=>e.jsxs(t,{className:a%2!=0?"bg-main/20 hover:bg-main/10":"",children:[e.jsx(c,{className:"text-center text-main",children:L+a+1}),e.jsx(c,{className:"text-main",children:e.jsx("button",{className:"text-main hover:no-underline",onClick:()=>(e=>{const s=e.replace(/\s+/g,"-").toLowerCase();N(`/${n}/${s}`)})(s.slug),children:s.name})}),e.jsxs(c,{className:"text-main text-center",children:["₹",s.price,"/Piece"]})]},s.auto_p_code)))})]})}),e.jsx("div",{className:"flex flex-wrap justify-end lg:mr-5 xl:mr-0 gap-1.5",children:[...Array(P)].map(((s,a)=>e.jsx("button",{onClick:()=>{v(a+1)},className:"px-4 py-2 border rounded-md transition-colors duration-200 "+(f===a+1?"bg-main_light text-white border-main hover:bg-main":"text-gray-700 border-gray-200 hover:bg-gray-50 hover:border-gray-300"),children:a+1},a+1)))})]})};S.propTypes={chemicals:h.array.isRequired,isLoading:h.bool.isRequired,error:h.string};const w=({categorySlug:s,subsubCategorySlug:a})=>{const{data:t,error:l,isLoading:r}=i(s);if(r)return e.jsx("p",{children:"Loading..."});if(l)return e.jsx("p",{children:"Error loading category data."});if(!t)return e.jsx("p",{children:"Category Not Found"});const{category:c,details:n,photo:m}=t,o=a?a.charAt(0).toUpperCase()+a.slice(1):c;return e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"md:text-3xl md:ml-5 xl:ml-0 text-xl text-main  font-bold mb-6",children:o}),!a&&e.jsxs("div",{className:"flex flex-col lg:flex-row md:ml-5  items-center  justify-between gap-6",children:[e.jsx("div",{className:"w-full md:w-1/2 border-2 p-3 lg:w-2/4",children:e.jsx("img",{src:`/api/logo/download/${m}`,alt:c||"hey",className:"w-full object-contain "})}),e.jsx("div",{className:"w-full md:pr-5  lg:pr-0 lg:w-3/4 mx-5",children:e.jsx("p",{className:"text-gray-700 lg:ml-5 xl:ml-0 text-justify",children:n})})]})]})};function C(){const{chemicals:s,slug:a,subsubCategorySlug:t}=d(),[l,r]=o.useState([]),[c,i]=o.useState([]),[n,m]=o.useState([]),[h,g]=o.useState([]),[u,p]=o.useState(!0),[j,b]=o.useState(null),f=x();let C="";(f.pathname.startsWith("/chemicals")||f.pathname.startsWith("/microbiology")||f.pathname.startsWith("/plant-culture-tested-chemical")||f.pathname.startsWith("/cell-culture-tested-chemical"))&&(f.pathname.startsWith("/chemicals")?C="Fine Chemicals":f.pathname.startsWith("/microbiology")?C="MicroBiology Products":f.pathname.startsWith("/plant-culture-tested-chemical")?C="Plant Culture Tested Chemical":f.pathname.startsWith("/cell-culture-tested-chemical")&&(C="Cell Culture Tested Chemical"));const{chemicalName:L,subCategoryName:A}=f.state||{};o.useEffect((()=>{a&&(async()=>{try{p(!0),b(null);const e=await y.get(`/api/product/getByCategorySlug/${a}`);r(Array.isArray(e.data)?e.data:[]),i(Array.isArray(e.data)?e.data:[])}catch(e){b(e.response?.data?.message||"An error occurred while fetching products")}finally{p(!1)}})()}),[a]),o.useEffect((()=>{(()=>{let e=[...l];n.length>0&&(e=e.filter((e=>n.includes(e.subSubCategorySlug)))),h.length>0&&(e=e.filter((e=>h.includes(e.grade)))),i(e)})()}),[l,n,h]);const P=c.map((e=>({id:e._id,name:e.name,slug:e.slug,price:e.price,molecularFormula:e.molecular_formula,molecularWeight:e.molecular_weight,category:e.categorySlug,subCategory:e.subCategorySlug,subSubCategory:e.subSubCategorySlug,unit:e.unit,cas:e.cas_number,msds:e.msds,specs:e.specs,image:e.images?.length>0?e.images[0]:null})));return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"max-w-7xl px-5 sm:px-0 mx-auto sm:py-4 mb-10",children:[e.jsx(v,{chemicalName:L,slug2:a,categoryName:C,subCategoryName:A,subsubCategorySlug:t,categorySlug:s,subCategorySlug:a}),e.jsxs("div",{className:"flex  flex-col-reverse md:flex-row gap-10 lg:gap-16",children:[e.jsxs("div",{className:"w-full md:w-[60%] lg:w-2/3",children:[e.jsx(w,{categorySlug:a,subsubCategorySlug:t}),e.jsx(S,{chemicals:P,isLoading:u,error:j,slug:a,subsubCategorySlug:t})]}),e.jsx("div",{className:"relative h-[30vh] sm:h-[40vh] lg:h-[60vh] hidden md:block md:w-[30%] lg:w-1/4",children:e.jsx(N,{})})]})]})})}w.propTypes={categorySlug:h.string.isRequired,subsubCategorySlug:h.string};export{C as default};
//# sourceMappingURL=category_subcategoryPage-B8omv_NN.js.map
